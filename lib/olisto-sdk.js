var OlistoApi=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=58)}([function(t,e,n){(function(r){e.log=function(...t){return"object"==typeof console&&console.log&&console.log(...t)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(r++,"%c"===t&&(i=r))}),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(25)(e);const{formatters:i}=t.exports;i.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(11))},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){var r,i=n(38),o=n(17),a=n(39),s=n(40),u=n(41);"undefined"!=typeof ArrayBuffer&&(r=n(42));var c="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),h=c||l;e.protocol=3;var f=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=i(f),d={type:"error",data:"parser error"},g=n(43);function b(t,e,n){for(var r=new Array(t.length),i=s(t.length,n),o=function(t,n,i){e(n,(function(e,n){r[t]=n,i(e,r)}))},a=0;a<t.length;a++)o(a,t[a],i)}e.encodePacket=function(t,n,r,i){"function"==typeof n&&(i=n,n=!1),"function"==typeof r&&(i=r,r=null);var o=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var i=t.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=f[t.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return r(a.buffer)}(t,n,i);if(void 0!==g&&o instanceof g)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);if(h)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var i=new FileReader;return i.onload=function(){e.encodePacket({type:t.type,data:i.result},n,!0,r)},i.readAsArrayBuffer(t.data)}(t,n,r);var i=new Uint8Array(1);i[0]=f[t.type];var o=new g([i.buffer,t.data]);return r(o)}(t,n,i);if(o&&o.base64)return function(t,n){var r="b"+e.packets[t.type]+t.data.data;return n(r)}(t,i);var a=f[t.type];return void 0!==t.data&&(a+=r?u.encode(String(t.data),{strict:!1}):String(t.data)),i(""+a)},e.encodeBase64Packet=function(t,n){var r,i="b"+e.packets[t.type];if(void 0!==g&&t.data instanceof g){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];n(i+t)},o.readAsDataURL(t.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var a=new Uint8Array(t.data),s=new Array(a.length),u=0;u<a.length;u++)s[u]=a[u];r=String.fromCharCode.apply(null,s)}return i+=btoa(r),n(i)},e.decodePacket=function(t,n,r){if(void 0===t)return d;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(r&&!1===(t=function(t){try{t=u.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return d;var i=t.charAt(0);return Number(i)==i&&p[i]?t.length>1?{type:p[i],data:t.substring(1)}:{type:p[i]}:d}i=new Uint8Array(t)[0];var o=a(t,1);return g&&"blob"===n&&(o=new g([o])),{type:p[i],data:o}},e.decodeBase64Packet=function(t,e){var n=p[t.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:t.substr(1)}};var i=r.decode(t.substr(1));return"blob"===e&&g&&(i=new g([i])),{type:n,data:i}},e.encodePayload=function(t,n,r){"function"==typeof n&&(r=n,n=null);var i=o(t);if(n&&i)return g&&!h?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r);if(!t.length)return r("0:");b(t,(function(t,r){e.encodePacket(t,!!i&&n,!1,(function(t){r(null,function(t){return t.length+":"+t}(t))}))}),(function(t,e){return r(e.join(""))}))},e.decodePayload=function(t,n,r){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,r);var i;if("function"==typeof n&&(r=n,n=null),""===t)return r(d,0,1);for(var o,a,s="",u=0,c=t.length;u<c;u++){var l=t.charAt(u);if(":"===l){if(""===s||s!=(o=Number(s)))return r(d,0,1);if(s!=(a=t.substr(u+1,o)).length)return r(d,0,1);if(a.length){if(i=e.decodePacket(a,n,!1),d.type===i.type&&d.data===i.data)return r(d,0,1);if(!1===r(i,u+o,c))return}u+=o,s=""}else s+=l}return""!==s?r(d,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));b(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){return n(null,t)}))}),(function(t,e){var r=e.reduce((function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2}),0),i=new Uint8Array(r),o=0;return e.forEach((function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),a=0;a<t.length;a++)r[a]=t.charCodeAt(a);n=r.buffer}i[o++]=e?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)i[o++]=parseInt(s[a]);i[o++]=255;for(r=new Uint8Array(n),a=0;a<r.length;a++)i[o++]=r[a]})),n(i.buffer)}))},e.encodePayloadAsBlob=function(t,n){b(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);t=r.buffer,e[0]=0}var o=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),a=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)a[i]=parseInt(o[i]);if(a[o.length]=255,g){var s=new g([e.buffer,a.buffer,t]);n(null,s)}}))}),(function(t,e){return n(new g(e))}))},e.decodePayloadAsBinary=function(t,n,r){"function"==typeof n&&(r=n,n=null);for(var i=t,o=[];i.byteLength>0;){for(var s=new Uint8Array(i),u=0===s[0],c="",l=1;255!==s[l];l++){if(c.length>310)return r(d,0,1);c+=s[l]}i=a(i,2+c.length),c=parseInt(c);var h=a(i,0,c);if(u)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(t){var f=new Uint8Array(h);h="";for(l=0;l<f.length;l++)h+=String.fromCharCode(f[l])}o.push(h),i=a(i,c)}var p=o.length;o.forEach((function(t,i){r(e.decodePacket(t,n,!0),i,p)}))}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(31),i=n(32),o=n(33);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(l(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return M(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(r)return M(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return _(this,e,n);case"latin1":case"binary":return E(this,e,n);case"base64":return B(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function b(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(t,o+f)!==c(e,f)){h=!1;break}if(h)return o}return-1}function v(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function w(t,e,n,r){return q(M(e,t.length-n),t,n,r)}function C(t,e,n,r){return q(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function T(t,e,n,r){return C(t,e,n,r)}function k(t,e,n,r){return q(z(e),t,n,r)}function A(t,e,n,r){return q(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function B(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,c=t[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):g.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=t.slice(e,n),h=0;h<s;++h)if(c[h]!==l[h]){o=c[h],a=l[h];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return C(this,t,e,n);case"latin1":case"binary":return T(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function E(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function P(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=N(t[o]);return i}function R(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function U(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function O(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function x(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(t,e,n,r,o){return o||x(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function L(t,e,n,r,o){return o||x(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||U(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||U(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||U(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||U(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||U(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||U(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||U(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||U(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||U(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||U(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||U(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||U(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||U(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||U(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||U(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||U(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||U(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||U(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||F(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||F(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);F(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);F(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return I(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return I(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:M(new u(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function N(t){return t<16?"0"+t.toString(16):t.toString(16)}function M(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(j,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(13))},function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var r=n(27)("socket.io-parser"),i=n(1),o=n(30),a=n(7),s=n(12);function u(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=u,e.Decoder=h;var c=e.ERROR+'"encode error"';function l(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var i=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===i)return c;n+=i}return r("encoded %j as %s",t,n),n}function h(){this.reconstructor=null}function f(t){this.reconPack=t,this.buffers=[]}function p(t){return{type:e.ERROR,data:"parser error: "+t}}u.prototype.encode=function(t,n){(r("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)?function(t,e){o.removeBlobs(t,(function(t){var n=o.deconstructPacket(t),r=l(n.packet),i=n.buffers;i.unshift(r),e(i)}))}(t,n):n([l(t)])},i(h.prototype),h.prototype.add=function(t){var n;if("string"==typeof t)n=function(t){var n=0,i={type:Number(t.charAt(0))};if(null==e.types[i.type])return p("unknown packet type "+i.type);if(e.BINARY_EVENT===i.type||e.BINARY_ACK===i.type){for(var o="";"-"!==t.charAt(++n)&&(o+=t.charAt(n),n!=t.length););if(o!=Number(o)||"-"!==t.charAt(n))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===t.charAt(n+1))for(i.nsp="";++n;){if(","===(u=t.charAt(n)))break;if(i.nsp+=u,n===t.length)break}else i.nsp="/";var s=t.charAt(n+1);if(""!==s&&Number(s)==s){for(i.id="";++n;){var u;if(null==(u=t.charAt(n))||Number(u)!=u){--n;break}if(i.id+=t.charAt(n),n===t.length)break}i.id=Number(i.id)}if(t.charAt(++n)){var c=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(n));if(!(!1!==c&&(i.type===e.ERROR||a(c))))return p("invalid payload");i.data=c}return r("decoded %s as %j",t,i),i}(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new f(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},f.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},f.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){var r=n(36);t.exports=function(t){var e=t.xdomain,n=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(t){}if(!e)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}},function(t,e,n){var r=n(2),i=n(1);function o(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=o,i(o.prototype),o.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},o.prototype.onPacket=function(t){this.emit("packet",t)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,i=t.indexOf("["),o=t.indexOf("]");-1!=i&&-1!=o&&(t=t.substring(0,i)+t.substring(i,o).replace(/:/g,";")+t.substring(o,t.length));for(var a=n.exec(t||""),s={},u=14;u--;)s[r[u]]=a[u]||"";return-1!=i&&-1!=o&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!l){var t=s(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){(function(e){t.exports=function(t){return n&&e.isBuffer(t)||r&&(t instanceof ArrayBuffer||function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}(t))};var n="function"==typeof e&&"function"==typeof e.isBuffer,r="function"==typeof ArrayBuffer}).call(this,n(3).Buffer)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(34),i=n(20),o=n(1),a=n(6),s=n(21),u=n(22),c=n(0)("socket.io-client:manager"),l=n(19),h=n(48),f=Object.prototype.hasOwnProperty;function p(t,e){if(!(this instanceof p))return new p(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||a;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=p,p.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},p.prototype.updateSocketIds=function(){for(var t in this.nsps)f.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},p.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},o(p.prototype),p.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},p.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},p.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(t,e){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=s(n,"open",(function(){i.onopen(),t&&t()})),a=s(n,"error",(function(e){if(c("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var u=this._timeout;c("connect attempt will timeout after %d",u);var l=setTimeout((function(){c("connect attempt timed out after %d",u),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",u)}),u);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(o),this.subs.push(a),this},p.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(s(t,"data",u(this,"ondata"))),this.subs.push(s(t,"ping",u(this,"onping"))),this.subs.push(s(t,"pong",u(this,"onpong"))),this.subs.push(s(t,"error",u(this,"onerror"))),this.subs.push(s(t,"close",u(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",u(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(t){this.decoder.add(t)},p.prototype.ondecoded=function(t){this.emit("packet",t)},p.prototype.onerror=function(t){c("error",t),this.emitAll("error",t)},p.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new i(this,t,e),this.nsps[t]=n;var r=this;n.on("connecting",o),n.on("connect",(function(){n.id=r.generateId(t)})),this.autoConnect&&o()}function o(){~l(r.connecting,n)||r.connecting.push(n)}return n},p.prototype.destroy=function(t){var e=l(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},p.prototype.packet=function(t){c("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,(function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()})))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},p.prototype.cleanup=function(){c("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(t){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();c("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout((function(){t.skipReconnect||(c("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open((function(e){e?(c("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(c("reconnect success"),t.onreconnect())})))}),e);this.subs.push({destroy:function(){clearTimeout(n)}})}},p.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,n){var r=n(8),i=n(37),o=n(44),a=n(45);e.polling=function(t){var e=!1,n=!1,a=!1!==t.jsonp;if("undefined"!=typeof location){var s="https:"===location.protocol,u=location.port;u||(u=s?443:80),e=t.hostname!==location.hostname||u!==t.port,n=t.secure!==s}if(t.xdomain=e,t.xscheme=n,"open"in new r(t)&&!t.forceJSONP)return new i(t);if(!a)throw new Error("JSONP disabled");return new o(t)},e.websocket=a},function(t,e,n){var r=n(9),i=n(4),o=n(2),a=n(5),s=n(18),u=n(0)("engine.io-client:polling");t.exports=l;var c=null!=new(n(8))({xdomain:!1}).responseType;function l(t){var e=t&&t.forceBase64;c&&!e||(this.supportsBinary=!1),r.call(this,t)}a(l,r),l.prototype.name="polling",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(t){var e=this;function n(){u("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){u("pre-pause polling complete"),--r||n()}))),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){u("pre-pause writing complete"),--r||n()})))}else n()},l.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},l.prototype.onData=function(t){var e=this;u("polling got data %s",t);o.decodePayload(t,this.socket.binaryType,(function(t,n,r){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},l.prototype.doClose=function(){var t=this;function e(){u("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(u("transport open - closing"),e()):(u("transport not open - deferring close"),this.once("open",e))},l.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};o.encodePayload(t,this.supportsBinary,(function(t){e.doWrite(t,n)}))},l.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=s()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},function(t,e,n){(function(e){var r=n(7),i=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);t.exports=function t(n){if(!n||"object"!=typeof n)return!1;if(r(n)){for(var i=0,s=n.length;i<s;i++)if(t(n[i]))return!0;return!1}if("function"==typeof e&&e.isBuffer&&e.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||o&&n instanceof Blob||a&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return t(n.toJSON(),!0);for(var u in n)if(Object.prototype.hasOwnProperty.call(n,u)&&t(n[u]))return!0;return!1}}).call(this,n(3).Buffer)},function(t,e,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},a=0,s=0;function u(t){var e="";do{e=i[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function c(){var t=u(+new Date);return t!==r?(a=0,r=t):t+"."+u(a++)}for(;s<64;s++)o[i[s]]=s;c.encode=u,c.decode=function(t){var e=0;for(s=0;s<t.length;s++)e=64*e+o[t.charAt(s)];return e},t.exports=c},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(6),i=n(1),o=n(47),a=n(21),s=n(22),u=n(0)("socket.io-client:socket"),c=n(4),l=n(17);t.exports=p;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=i.prototype.emit;function p(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[a(t,"open",s(this,"onopen")),a(t,"packet",s(this,"onpacket")),a(t,"close",s(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},p.prototype.send=function(){var t=o(arguments);return t.unshift("message"),this.emit.apply(this,t),this},p.prototype.emit=function(t){if(h.hasOwnProperty(t))return f.apply(this,arguments),this;var e=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:l(e))?r.BINARY_EVENT:r.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},p.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},p.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?c.encode(this.query):this.query;u("sending connect packet with query %s",t),this.packet({type:r.CONNECT,query:t})}else this.packet({type:r.CONNECT})},p.prototype.onclose=function(t){u("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},p.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===r.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},p.prototype.onevent=function(t){var e=t.data||[];u("emitting event %j",e),null!=t.id&&(u("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?f.apply(this,e):this.receiveBuffer.push(e)},p.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);u("sending ack %j",i),e.packet({type:l(i)?r.BINARY_ACK:r.ACK,id:t,data:i})}}},p.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(u("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):u("bad ack %s",t.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)f.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(t){return this.flags.compress=t,this},p.prototype.binary=function(t){return this.flags.binary=t,this}},function(t,e){t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},function(t,e,n){var r=n(24),i=n(6),o=n(14),a=n(0)("socket.io-client");t.exports=e=u;var s=e.managers={};function u(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i=r(t),u=i.source,c=i.id,l=i.path,h=s[c]&&l in s[c].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||h?(a("ignoring socket cache for %s",u),n=o(u,e)):(s[c]||(a("new io instance for %s",u),s[c]=o(u,e)),n=s[c]),i.query&&!e.query&&(e.query=i.query),n.socket(i.path,e)}e.protocol=i.protocol,e.connect=u,e.Manager=n(14),e.Socket=n(20)},function(t,e,n){var r=n(10),i=n(0)("socket.io-client:url");t.exports=function(t,e){var n=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),i("parse %s",t),n=r(t));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(e&&e.port===n.port?"":":"+n.port),n}},function(t,e,n){t.exports=function(t){function e(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){let n;function a(...t){if(!a.enabled)return;const e=a,i=Number(new Date),o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;s++;const o=r.formatters[i];if("function"==typeof o){const r=t[s];n=o.call(e,r),t.splice(s,1),s--}return n}),r.formatArgs.call(e,t),(e.log||r.log).apply(e,t)}return a.namespace=t,a.enabled=r.enabled(t),a.useColors=r.useColors(),a.color=e(t),a.destroy=i,a.extend=o,"function"==typeof r.init&&r.init(a),r.instances.push(a),a}function i(){const t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function o(t,e){const n=r(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function a(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},r.disable=function(){const t=[...r.names.map(a),...r.skips.map(a).map(t=>"-"+t)].join(",");return r.enable(""),t},r.enable=function(t){let e;r.save(t),r.names=[],r.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(e=0;e<i;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){const t=r.instances[e];t.enabled=r.enabled(t.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;let e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n(26),Object.keys(t).forEach(e=>{r[e]=t[e]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},function(t,e){var n=1e3,r=6e4,i=36e5,o=24*i;function a(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}t.exports=function(t,e){e=e||{};var s=typeof t;if("string"===s&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(t);if("number"===s&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=o)return a(t,e,o,"day");if(e>=i)return a(t,e,i,"hour");if(e>=r)return a(t,e,r,"minute");if(e>=n)return a(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=o)return Math.round(t/o)+"d";if(e>=i)return Math.round(t/i)+"h";if(e>=r)return Math.round(t/r)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){(function(r){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(28)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))})),t.splice(o,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,n(11))},function(t,e,n){function r(t){var n;function r(){if(r.enabled){var t=r,i=+new Date,o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;u++;var i=e.formatters[r];if("function"==typeof i){var o=a[u];n=i.call(t,o),a.splice(u,1),u--}return n})),e.formatArgs.call(t,a);var c=r.log||e.log||console.log.bind(console);c.apply(t,a)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=i,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(29),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e){var n=1e3,r=6e4,i=36e5,o=24*i;function a(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var s,u=typeof t;if("string"===u&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(t);if("number"===u&&!1===isNaN(t))return e.long?a(s=t,o,"day")||a(s,i,"hour")||a(s,r,"minute")||a(s,n,"second")||s+" ms":function(t){if(t>=o)return Math.round(t/o)+"d";if(t>=i)return Math.round(t/i)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){var r=n(7),i=n(12),o=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);e.deconstructPacket=function(t){var e=[],n=t.data,o=t;return o.data=function t(e,n){if(!e)return e;if(i(e)){var o={_placeholder:!0,num:n.length};return n.push(e),o}if(r(e)){for(var a=new Array(e.length),s=0;s<e.length;s++)a[s]=t(e[s],n);return a}if("object"==typeof e&&!(e instanceof Date)){a={};for(var u in e)a[u]=t(e[u],n);return a}return e}(n,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(r(e))for(var i=0;i<e.length;i++)e[i]=t(e[i],n);else if("object"==typeof e)for(var o in e)e[o]=t(e[o],n);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var n=0,o=t;!function t(u,c,l){if(!u)return u;if(a&&u instanceof Blob||s&&u instanceof File){n++;var h=new FileReader;h.onload=function(){l?l[c]=this.result:o=this.result,--n||e(o)},h.readAsArrayBuffer(u)}else if(r(u))for(var f=0;f<u.length;f++)t(u[f],f,u);else if("object"==typeof u&&!i(u))for(var p in u)t(u[p],p,u)}(o),n||e(o)}},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),a=r[0],s=r[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),l=0,h=s>0?a-4:a;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[l++]=255&e);1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(t,a,a+16383>s?s:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+h],h+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(e*u-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){t.exports=n(35),t.exports.parser=n(2)},function(t,e,n){var r=n(15),i=n(1),o=n(0)("engine.io-client:socket"),a=n(19),s=n(2),u=n(10),c=n(4);function l(t,e){if(!(this instanceof l))return new l(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=u(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=u(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.withCredentials=!1!==e.withCredentials,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=l,l.priorWebsocketSuccess=!1,i(l.prototype),l.protocol=s.protocol,l.Socket=l,l.Transport=n(9),l.transports=n(15),l.parser=n(2),l.prototype.createTransport=function(t){o('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=s.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new r[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},l.prototype.open=function(){var t;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout((function(){e.emit("error","No transports available")}),0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},l.prototype.setTransport=function(t){o("setting transport %s",t.name);var e=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",(function(){e.onDrain()})).on("packet",(function(t){e.onPacket(t)})).on("error",(function(t){e.onError(t)})).on("close",(function(){e.onClose("transport close")}))},l.prototype.probe=function(t){o('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(o('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",(function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',t),r.upgrading=!0,r.emit("upgrading",e),!e)return;l.priorWebsocketSuccess="websocket"===e.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),f(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())}))}else{o('probe transport "%s" failed',t);var a=new Error("probe error");a.transport=e.name,r.emit("upgradeError",a)}})))}function a(){n||(n=!0,f(),e.close(),e=null)}function s(n){var i=new Error("probe error: "+n);i.transport=e.name,a(),o('probe transport "%s" failed because of error: %s',t,n),r.emit("upgradeError",i)}function u(){s("transport closed")}function c(){s("socket closed")}function h(t){e&&t.name!==e.name&&(o('"%s" works - aborting "%s"',t.name,e.name),a())}function f(){e.removeListener("open",i),e.removeListener("error",s),e.removeListener("close",u),r.removeListener("close",c),r.removeListener("upgrading",h)}l.priorWebsocketSuccess=!1,e.once("open",i),e.once("error",s),e.once("close",u),this.once("close",c),this.once("upgrading",h),e.open()},l.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},l.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else o('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout((function(){"closed"!==e.readyState&&e.onClose("ping timeout")}),t||e.pingInterval+e.pingTimeout)},l.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout((function(){o("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)}),t.pingInterval)},l.prototype.ping=function(){var t=this;this.sendPacket("ping",(function(){t.emit("ping")}))},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},l.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:t,data:e,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},l.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():e()})):this.upgrading?r():e()}function e(){t.onClose("forced close"),o("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function r(){t.once("upgrade",n),t.once("upgradeError",n)}return this},l.prototype.onError=function(t){o("socket error %j",t),l.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},l.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},l.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~a(this.transports,t[n])&&e.push(t[n]);return e}},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,n){var r=n(8),i=n(16),o=n(1),a=n(5),s=n(0)("engine.io-client:polling-xhr");function u(){}function c(t){if(i.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!=typeof location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}}function l(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}if(t.exports=c,t.exports.Request=l,a(c,i),c.prototype.supportsBinary=!0,c.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.withCredentials=this.withCredentials,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new l(t)},c.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),i=this;r.on("success",e),r.on("error",(function(t){i.onError("xhr post error",t)})),this.sendXhr=r},c.prototype.doPoll=function(){s("xhr poll");var t=this.request(),e=this;t.on("data",(function(t){e.onData(t)})),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t},o(l.prototype),l.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new r(t),n=this;try{s("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&e.setRequestHeader(i,this.extraHeaders[i])}catch(t){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=this.withCredentials),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&(e.responseType="arraybuffer")}catch(t){}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout((function(){n.onError("number"==typeof e.status?e.status:0)}),0))},s("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout((function(){n.onError(t)}),0)}"undefined"!=typeof document&&(this.index=l.requestsCount++,l.requests[this.index]=this)},l.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},l.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},l.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},l.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete l.requests[this.index],this.xhr=null}},l.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t=("application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},l.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},l.prototype.abort=function(){this.cleanup()},l.requestsCount=0,l.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",f);else if("function"==typeof addEventListener){var h="onpagehide"in self?"pagehide":"unload";addEventListener(h,f,!1)}function f(){for(var t in l.requests)l.requests.hasOwnProperty(t)&&l.requests[t].abort()}},function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},function(t,e){t.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(t),o=new Uint8Array(n-e),a=e,s=0;a<n;a++,s++)o[s]=i[a];return o.buffer}},function(t,e){function n(){}t.exports=function(t,e,r){var i=!1;return r=r||n,o.count=t,0===t?e():o;function o(t,n){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(i=!0,e(t),e=r):0!==o.count||i||e(null,n)}}},function(t,e){
/*! https://mths.be/utf8js v2.1.2 by @mathias */
var n,r,i,o=String.fromCharCode;function a(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function s(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function u(t,e){return o(t>>e&63|128)}function c(t,e){if(0==(4294967168&t))return o(t);var n="";return 0==(4294965248&t)?n=o(t>>6&31|192):0==(4294901760&t)?(s(t,e)||(t=65533),n=o(t>>12&15|224),n+=u(t,6)):0==(4292870144&t)&&(n=o(t>>18&7|240),n+=u(t,12),n+=u(t,6)),n+=o(63&t|128)}function l(){if(i>=r)throw Error("Invalid byte index");var t=255&n[i];if(i++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function h(t){var e,o;if(i>r)throw Error("Invalid byte index");if(i==r)return!1;if(e=255&n[i],i++,0==(128&e))return e;if(192==(224&e)){if((o=(31&e)<<6|l())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if((o=(15&e)<<12|l()<<6|l())>=2048)return s(o,t)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(o=(7&e)<<18|l()<<12|l()<<6|l())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}t.exports={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,r=a(t),i=r.length,o=-1,s="";++o<i;)s+=c(r[o],n);return s},decode:function(t,e){var s=!1!==(e=e||{}).strict;n=a(t),r=n.length,i=0;for(var u,c=[];!1!==(u=h(s));)c.push(u);return function(t){for(var e,n=t.length,r=-1,i="";++r<n;)(e=t[r])>65535&&(i+=o((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=o(e);return i}(c)}}},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;e.encode=function(e){var n,r=new Uint8Array(e),i=r.length,o="";for(n=0;n<i;n+=3)o+=t[r[n]>>2],o+=t[(3&r[n])<<4|r[n+1]>>4],o+=t[(15&r[n+1])<<2|r[n+2]>>6],o+=t[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(t){var e,r,i,o,a,s=.75*t.length,u=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var l=new ArrayBuffer(s),h=new Uint8Array(l);for(e=0;e<u;e+=4)r=n[t.charCodeAt(e)],i=n[t.charCodeAt(e+1)],o=n[t.charCodeAt(e+2)],a=n[t.charCodeAt(e+3)],h[c++]=r<<2|i>>4,h[c++]=(15&i)<<4|o>>2,h[c++]=(3&o)<<6|63&a;return l}}()},function(t,e){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),i=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function a(t){return t.map((function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t}))}function s(t,e){e=e||{};var r=new n;return a(t).forEach((function(t){r.append(t)})),e.type?r.getBlob(e.type):r.getBlob()}function u(t,e){return new Blob(a(t),e||{})}"undefined"!=typeof Blob&&(s.prototype=Blob.prototype,u.prototype=Blob.prototype),t.exports=r?i?Blob:u:o?s:void 0},function(t,e,n){(function(e){var r=n(16),i=n(5);t.exports=l;var o,a=/\n/g,s=/\\n/g;function u(){}function c(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{}}function l(t){if(r.call(this,t),this.query=this.query||{},!o){var e=c();o=e.___eio=e.___eio||[]}this.index=o.length;var n=this;o.push((function(t){n.onData(t)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=u)}),!1)}i(l,r),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},l.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)},l.prototype.doWrite=function(t,e){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=u,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function c(){l(),e()}function l(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(t)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),l(),t=t.replace(s,"\\\n"),this.area.value=t.replace(a,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&c()}:this.iframe.onload=c}}).call(this,n(13))},function(t,e,n){(function(e){var r,i,o=n(9),a=n(2),s=n(4),u=n(5),c=n(18),l=n(0)("engine.io-client:websocket");if("undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof self&&(r=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{i=n(46)}catch(t){}var h=r||i;function f(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=r&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(h=i),o.call(this,t)}t.exports=f,u(f,o),f.prototype.name="websocket",f.prototype.supportsBinary=!0,f.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new h(t,e):new h(t):new h(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},f.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},f.prototype.write=function(t){var n=this;this.writable=!1;for(var r=t.length,i=0,o=r;i<o;i++)!function(t){a.encodePacket(t,n.supportsBinary,(function(i){if(!n.usingBrowserWebSocket){var o={};if(t.options&&(o.compress=t.options.compress),n.perMessageDeflate)("string"==typeof i?e.byteLength(i):i.length)<n.perMessageDeflate.threshold&&(o.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,o)}catch(t){l("websocket closed before onclose event")}--r||s()}))}(t[i]);function s(){n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}},f.prototype.onClose=function(){o.prototype.onClose.call(this)},f.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},f.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||(t.b64=1),(t=s.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},f.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===f.prototype.name)}}).call(this,n(3).Buffer)},function(t,e){},function(t,e){t.exports=function(t,e){for(var n=[],r=(e=e||0)||0;r<t.length;r++)n[r-e]=t[r];return n}},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},function(module,exports){TriggiUtils={queryStringToJSON:function(t){if(!t)return{};t.indexOf("?")>-1&&(t=t.split("?")[1]);var e=t.split("&"),n={};return e.forEach((function(t){t=t.split("="),n[t[0]]=decodeURIComponent(t[1]||"")})),n},jsonToQueryString:function(t){return t&&0!==Object.keys(t).length?"?"+Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&"):""},enumerateDict:function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])},isPromise:function(t){return t&&"function"==typeof t.then},arrayFromDict:function(t){var e=[];return this.enumerateDict(t,(function(t,n){e.push(n)})),e},consoleOverride:function(element,lines){var c=console;function getLogMsg(t){return Array.from(t).map((function(t){if("object"==typeof t)try{return JSON.stringify(t)}catch(t){return t.message.indexOf("Circular")?"[Circular Object]":"[Error Object]"}return t})).join(" ")}function newLog(args,type){args.length>1&&"string"==typeof args[0]&&(args[0]="["+args[0]+"]");var msg=getLogMsg(args),cLog=document.getElementById(element).innerHTML.split("\n");cLog.push((new Date).toISOString()+" - "+type+": "+msg),document.getElementById(element).innerHTML=cLog.slice(lines).join("\n");var cmd=Array.from(args).reduce((function(t,e,n){return t+"args["+n+"],"}),"c."+type+"(").slice(0,-1)+");";eval(cmd)}function clearLog(){document.getElementById(element).innerHTML="",c.clear()}c.info("console override to element: "+element),lines=-1*(lines||600),window.console={log:function(){newLog(arguments,"log")},info:function(){newLog(arguments,"info")},debug:function(){newLog(arguments,"debug")},warn:function(){newLog(arguments,"warn")},error:function(){newLog(arguments,"error")},clear:function(){clearLog()}}},dictFromArray:function(t,e,n){var r={};return t.forEach((function(t){var i=e?t[e]:t;if("string"!=typeof i)throw new Error("Unexpected identifier: "+e);if(void 0===r[i])r[i]=!e||t;else if(!1===n)throw new Error("Key '"+i+"' appears more than once in the array.")})),r},titleForId:function(t,e){if(!t)return null;for(var n=0;n<t.length;n++){var r=t[n];if(r.id===e)return r.title}return null},joinTitles:function(t,e){switch(t.length){case 0:return"";case 1:return t[0];default:var n=(t=t.slice()).pop();return[t.join(", "),n].join(" "+e+" ")}},replaceVariables:function(t,e){return t?(this.enumerateDict(e,(function(e,n){var r=new RegExp("\\$"+e,"g");t=t.replace(r,n)})),t):null},_randomStringDefaultChars:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",randomString:function(t,e){null==t&&(t=10),null==e&&(e=this._randomStringDefaultChars);for(var n="",r=0;r<t;++r){var i=Math.floor(Math.random()*e.length);n+=e.charAt(i)}return n},asArray:function(t){return Array.isArray(t)?t:[t]},stringify:function(t,e){"function"==typeof(e=e||{})&&(e={cmp:e});var n=e.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var r,i="boolean"==typeof e.cycles&&e.cycles,o=e.replacer||function(t,e){return e},a=e.cmp&&(r=e.cmp,function(t){return function(e,n){var i={key:e,value:t[e]},o={key:n,value:t[n]};return r(i,o)}}),s=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},u=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in t)e.call(t,r)&&n.push(r);return n},c=[];return function t(e,r,l,h){var f=n?"\n"+new Array(h+1).join(n):"",p=n?": ":":";if(l&&l.toJSON&&"function"==typeof l.toJSON&&(l=l.toJSON()),void 0!==(l=o.call(e,r,l))){if("object"!=typeof l||null===l)return JSON.stringify(l);if(s(l)){for(var d=[],g=0;g<l.length;g++){var b=t(l,g,l[g],h+1)||JSON.stringify(null);d.push(f+n+b)}return"["+d.join(",")+f+"]"}if(-1!==c.indexOf(l)){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}c.push(l);for(var y=u(l).sort(a&&a(l)),m=[],v=0;v<y.length;v++){var w=y[v],C=t(l,w,l[w],h+1);if(C){var T=JSON.stringify(w)+p+C;m.push(f+n+T)}}return c.splice(c.indexOf(l),1),"{"+m.join(",")+f+"}"}}({"":t},"",t,0)},deepEqual:function(t,e){if("object"!=typeof t||"object"!=typeof e||null==t||null==e)return t===e;if(Array.isArray(t)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!this.deepEqual(t[n],e[n]))return!1;return!0}var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++){var a=t[r[o]],s=e[r[o]];if(!this.deepEqual(a,s))return!1}return!0},localizeDict:function(t,e){if(null==t||"string"==typeof t)return t;var n=window.localStorage.getItem("language")||"en-US",r=t[n];return void 0!==r?r:void 0!==(r=t[n.substr(0,2)])?r:(n||console.error("triggi-utils","Language was not set in localStorage!"),!0===e?"":void 0!==(r=t.en)?r:(1!==t&&console.error("triggi-utils","Could not find localized value "+JSON.stringify(t)),""))},campaignInfo:null,sendEvent:function(t,e,n,r){if("undefined"!=typeof cordova)if(t)if(r&&"object"==typeof r){if(n&&"object"!=typeof n)console.error("triggi-utils","[send-event] details must be an object");else if(r.AF){var i=e?e+"."+t:t;window.plugins.appsFlyer.trackEvent(i,n),console.log("triggi-utils","[send-event] sent event: "+i+", to AppsFlyer with details: "+JSON.stringify(n))}}else console.error("triggi-utils","[send-event] a targets object should be specified");else console.error("triggi-utils","[send-event] action cannot be empty")},shareTrigg:function(t){if(!t||!t.url)throw new Error("No trigg data/url provided. Cannot share trigg");if(console.log("triggi-utils","trigg available at URL "+t.url),"undefined"!=typeof cordova){var e={message:"Trigg: "+t.name,subject:t.name,url:t.url},n=this;window.plugins.socialsharing.shareWithOptions(e,(function(t){t.app?TriggiUtils.sendEvent("shared."+t.app,"trigg_flow.sharing",null,{AF:!0,GA:!0}):TriggiUtils.sendEvent("shared.*","trigg_flow.sharing",null,{AF:!0,GA:!0}),console.log(n.is,"Share completed? "+t.completed),console.log(n.is,"Shared to app: "+t.app)}),(function(t){console.log(n.is,"Sharing failed with message: "+t)}))}}}},function(t,e){GlobalKeysBehavior={translateGlobal:function(t){var e=this;switch(t){case"geoLocation":var n={};return window.localStorage.userLocation&&(n.defaultLocation=JSON.parse(window.localStorage.userLocation),n.defaultLocation.tempLocation=!0),n.userLocation=new Promise((function(t,e){navigator.geolocation.getCurrentPosition((function(e){var n={latitude:e.coords.latitude,longitude:e.coords.longitude};window.localStorage.setItem("userLocation",JSON.stringify(n)),t(n)}),(function(t){e(t)}))})),n;case"wifiNetworks":return"undefined"==typeof cordova||"undefined"==typeof TriggiNativeData?[]:new Promise((function(t,n){var r,i=function(e){var n={};e.sort((function(t,e){return e.level-t.level})).forEach((function(t){var e;n[t.SSID]||""===t.SSID||(n[t.SSID]={SSID:t.SSID,strengthIcon:(e=t.level,e>-56?"device:signal-wifi-4-bar":e>-67?"device:signal-wifi-3-bar":e>-78?"device:signal-wifi-2-bar":e>-89?"device:signal-wifi-1-bar":"device:signal-wifi-0-bar")})}));var r=Object.keys(n).map((function(t){return n[t]}));t(r)},o=function(e){switch(e){case"WiFi disabled":t({error:this.localize("Your wifi is disabled. <br><br>Please turn it on and reenter this page.")});break;case"Location disabled":t({error:this.localize("Your location is disabled. <br><br>It is necessary to scan for wifi networks. Please turn it on and reenter this page.")});break;default:n()}};try{r=JSON.parse(window.localStorage.getItem("permissions"))}catch(t){r=null}!r||"NOT_REQUESTED"!==r.location&&r.location!==cordova.plugins.diagnostic.permissionStatus.GRANTED?e.fire("iron-signal",{name:"request-permission",data:{type:"location",callback:function(t){t?(console.error(e.is,t),n()):TriggiNativeData.getAvailableNetworks(i,o)}}}):TriggiNativeData.getAvailableNetworks(i,o)}));case"currentWifi":return"undefined"==typeof cordova||"undefined"==typeof TriggiNativeData?[]:new Promise((function(t,e){TriggiNativeData.getActiveNetwork((function(e){t(e.SSID)}),(function(t){e(t)}))}));default:return null}}}},function(t,e){},function(t,e){TriggiColorBehavior={brightnessFromColor:function(t){return this.hsvColorFromRgbColor(t).brightness},brightColor:function(t){return this.dimmedColor(t,100)},dimmedColor:function(t,e){var n=this.hsvColorFromRgbColor(t);return n.brightness=e,this.rgbColorFromHsvColor(n)},rgbColorFromHsvColor:function(t){var e=this.hsv2rgb(t.hue/360,t.saturation/100,t.brightness/100);return{red:e[0],green:e[1],blue:e[2]}},hsv2rgb:function(t,e,n){var r,i=n*e,o=6*t,a=i*(1-Math.abs(o%2-1)),s=n-i;return isNaN(o)?r=[0,0,0]:o<1?r=[i,a,0]:o<2?r=[a,i,0]:o<3?r=[0,i,a]:o<4?r=[0,a,i]:o<5?r=[a,0,i]:o<=6&&(r=[i,0,a]),[255*(r[0]+s),255*(r[1]+s),255*(r[2]+s)]},hsvColorFromRgbColor:function(t){var e=this.rgb2hsv(t.red,t.green,t.blue);return{hue:360*e[0],saturation:100*e[1],brightness:100*e[2]}},rgb2hsv:function(t,e,n){var r,i,o,a,s,u;return a=Math.min(t,e,n),r=(o=Math.max(t,e,n))-a,u=o/255,0===o?(i=Number.NaN,s=0):(s=r/o,t===o&&(i=(e-n)/r),e===o&&(i=2+(n-t)/r),n===o&&(i=4+(t-e)/r),(i*=60)<0&&(i+=360)),[i/360,s,u]},nameForColor:function(t){var e={color:void 0,distance:1/0};return this._colorNamesListLocalized().forEach(function(n){var r=Math.sqrt(Math.pow(t.red-n.rgb[0],2)+Math.pow(t.green-n.rgb[1],2)+Math.pow(t.blue-n.rgb[2],2));r<e.distance&&(e.color=n,e.distance=r)}.bind(this)),e.color?e.color.title:"unknown"},nameForBrightColor:function(t){return t.hue&&t.saturation?this.nameForColor(this.rgbColorFromHsvColor({hue:t.hue,saturation:t.saturation,brightness:100})):this.nameForColor(this.brightColor(t))},_colorNamesListLocalized:function(){var t=window.localStorage.getItem("language")||"en";t.length>2&&(t=t.substr(0,2));var e=this._colorNamesList();return e[t]||e.en},_colorNamesList:function(){return{en:[{rgb:[93,138,168],title:"Air Force Blue"},{rgb:[0,48,143],title:"Air Force Blue"},{rgb:[114,160,193],title:"Air Superiority Blue"},{rgb:[163,38,56],title:"Alabama Crimson"},{rgb:[240,248,255],title:"Alice Blue"},{rgb:[227,38,54],title:"Alizarin Crimson"},{rgb:[196,98,16],title:"Alloy Orange"},{rgb:[239,222,205],title:"Almond"},{rgb:[229,43,80],title:"Amaranth"},{rgb:[255,191,0],title:"Amber"},{rgb:[255,126,0],title:"Amber"},{rgb:[255,3,62],title:"American Rose"},{rgb:[153,102,204],title:"Amethyst"},{rgb:[164,198,57],title:"Android Green"},{rgb:[242,243,244],title:"Anti-Flash White"},{rgb:[205,149,117],title:"Antique Brass"},{rgb:[145,92,131],title:"Antique Fuchsia"},{rgb:[132,27,45],title:"Antique Ruby"},{rgb:[250,235,215],title:"Antique White"},{rgb:[141,182,0],title:"Apple Green"},{rgb:[251,206,177],title:"Apricot"},{rgb:[0,255,255],title:"Aqua"},{rgb:[127,255,212],title:"Aqua­marine"},{rgb:[75,83,32],title:"Army Green"},{rgb:[59,68,75],title:"Arsenic"},{rgb:[233,214,107],title:"Arylide Yellow"},{rgb:[178,190,181],title:"Ash Grey"},{rgb:[135,169,107],title:"Asparagus"},{rgb:[255,153,102],title:"Atomic Tangerine"},{rgb:[165,42,42],title:"Auburn"},{rgb:[253,238,0],title:"Aureolin"},{rgb:[110,127,128],title:"Auro­metal­saurus"},{rgb:[86,130,3],title:"Avocado"},{rgb:[0,127,255],title:"Azure"},{rgb:[240,255,255],title:"Azure Mist"},{rgb:[137,207,240],title:"Baby Blue"},{rgb:[161,202,241],title:"Baby Blue Eyes"},{rgb:[244,194,194],title:"Baby Pink"},{rgb:[33,171,205],title:"Ball Blue"},{rgb:[250,231,181],title:"Banana Mania"},{rgb:[255,225,53],title:"Banana Yellow"},{rgb:[124,10,2],title:"Barn Red"},{rgb:[132,132,130],title:"Battleship Grey"},{rgb:[152,119,123],title:"Bazaar"},{rgb:[188,212,230],title:"Beau Blue"},{rgb:[159,129,112],title:"Beaver"},{rgb:[245,245,220],title:"Beige"},{rgb:[156,37,66],title:"Big Dip O’Ruby"},{rgb:[255,228,196],title:"Bisque"},{rgb:[61,43,31],title:"Bistre"},{rgb:[254,111,94],title:"Bittersweet"},{rgb:[191,79,81],title:"Bittersweet Shimmer"},{rgb:[0,0,0],title:"Black"},{rgb:[61,12,2],title:"Black Bean"},{rgb:[37,53,41],title:"Black Leather Jacket"},{rgb:[59,60,54],title:"Black Olive"},{rgb:[255,235,205],title:"Blanched Almond"},{rgb:[165,113,100],title:"Blast-Off Bronze"},{rgb:[49,140,231],title:"Bleu De France"},{rgb:[172,229,238],title:"Blizzard Blue"},{rgb:[250,240,190],title:"Blond"},{rgb:[0,0,255],title:"Blue"},{rgb:[162,162,208],title:"Blue Bell"},{rgb:[31,117,254],title:"Blue"},{rgb:[102,153,204],title:"Blue Gray"},{rgb:[13,152,186],title:"Blue-Green"},{rgb:[51,51,153],title:"Blue Pigment"},{rgb:[18,97,128],title:"Blue Sapphire"},{rgb:[138,43,226],title:"Blue-Violet"},{rgb:[222,93,131],title:"Blush"},{rgb:[121,68,59],title:"Bole"},{rgb:[0,149,182],title:"Bondi Blue"},{rgb:[227,218,201],title:"Bone"},{rgb:[0,106,78],title:"Bottle Green"},{rgb:[135,50,96],title:"Boysenberry"},{rgb:[0,112,255],title:"Brandeis Blue"},{rgb:[181,166,66],title:"Brass"},{rgb:[203,65,84],title:"Brick Red"},{rgb:[29,172,214],title:"Bright Cerulean"},{rgb:[102,255,0],title:"Bright Green"},{rgb:[191,148,228],title:"Bright Lavender"},{rgb:[195,33,72],title:"Bright Maroon"},{rgb:[255,0,127],title:"Bright Pink"},{rgb:[8,232,222],title:"Bright Turquoise"},{rgb:[209,159,232],title:"Bright Ube"},{rgb:[244,187,255],title:"Brilliant Lavender"},{rgb:[255,85,163],title:"Brilliant Rose"},{rgb:[251,96,127],title:"Brink Pink"},{rgb:[0,66,37],title:"British Racing Green"},{rgb:[205,127,50],title:"Bronze"},{rgb:[150,75,0],title:"Brown"},{rgb:[165,42,42],title:"Brown"},{rgb:[255,193,204],title:"Bubble Gum"},{rgb:[231,254,255],title:"Bubbles"},{rgb:[240,220,130],title:"Buff"},{rgb:[72,6,7],title:"Bulgarian Rose"},{rgb:[128,0,32],title:"Burgundy"},{rgb:[222,184,135],title:"Burlywood"},{rgb:[204,85,0],title:"Burnt Orange"},{rgb:[233,116,81],title:"Burnt Sienna"},{rgb:[138,51,36],title:"Burnt Umber"},{rgb:[189,51,164],title:"Byzantine"},{rgb:[112,41,99],title:"Byzantium"},{rgb:[83,104,114],title:"Cadet"},{rgb:[95,158,160],title:"Cadet Blue"},{rgb:[145,163,176],title:"Cadet Grey"},{rgb:[0,107,60],title:"Cadmium Green"},{rgb:[237,135,45],title:"Cadmium Orange"},{rgb:[227,0,34],title:"Cadmium Red"},{rgb:[255,246,0],title:"Cadmium Yellow"},{rgb:[166,123,91],title:"Café Au Lait"},{rgb:[75,54,33],title:"Café Noir"},{rgb:[163,193,173],title:"Cambridge Blue"},{rgb:[193,154,107],title:"Camel"},{rgb:[239,187,204],title:"Cameo Pink"},{rgb:[120,134,107],title:"Camouflage Green"},{rgb:[255,239,0],title:"Canary Yellow"},{rgb:[255,8,0],title:"Candy Apple Red"},{rgb:[228,113,122],title:"Candy Pink"},{rgb:[0,191,255],title:"Capri"},{rgb:[89,39,32],title:"Caput Mortuum"},{rgb:[196,30,58],title:"Cardinal"},{rgb:[0,204,153],title:"Caribbean Green"},{rgb:[150,0,24],title:"Carmine"},{rgb:[215,0,64],title:"Carmine"},{rgb:[235,76,66],title:"Carmine Pink"},{rgb:[255,0,56],title:"Carmine Red"},{rgb:[255,166,201],title:"Carnation Pink"},{rgb:[179,27,27],title:"Carnelian"},{rgb:[153,186,221],title:"Carolina Blue"},{rgb:[237,145,33],title:"Carrot Orange"},{rgb:[6,42,120],title:"Catalina Blue"},{rgb:[146,161,207],title:"Ceil"},{rgb:[172,225,175],title:"Celadon"},{rgb:[0,123,167],title:"Celadon Blue"},{rgb:[47,132,124],title:"Celadon Green"},{rgb:[73,151,208],title:"Celestial Blue"},{rgb:[222,49,99],title:"Cerise"},{rgb:[236,59,131],title:"Cerise Pink"},{rgb:[0,123,167],title:"Cerulean"},{rgb:[42,82,190],title:"Cerulean Blue"},{rgb:[109,155,195],title:"Cerulean Frost"},{rgb:[0,122,165],title:"Cg Blue"},{rgb:[224,60,49],title:"Cg Red"},{rgb:[160,120,90],title:"Chamoisee"},{rgb:[250,214,165],title:"Champagne"},{rgb:[54,69,79],title:"Charcoal"},{rgb:[230,143,172],title:"Charm Pink"},{rgb:[223,255,0],title:"Chartreuse"},{rgb:[127,255,0],title:"Chartreuse"},{rgb:[222,49,99],title:"Cherry"},{rgb:[255,183,197],title:"Cherry Blossom Pink"},{rgb:[205,92,92],title:"Chestnut"},{rgb:[222,111,161],title:"China Pink"},{rgb:[168,81,110],title:"China Rose"},{rgb:[170,56,30],title:"Chinese Red"},{rgb:[123,63,0],title:"Chocolate"},{rgb:[210,105,30],title:"Chocolate"},{rgb:[255,167,0],title:"Chrome Yellow"},{rgb:[152,129,123],title:"Cinereous"},{rgb:[227,66,52],title:"Cinnabar"},{rgb:[210,105,30],title:"Cinnamon"},{rgb:[228,208,10],title:"Citrine"},{rgb:[251,204,231],title:"Classic Rose"},{rgb:[0,71,171],title:"Cobalt"},{rgb:[210,105,30],title:"Cocoa Brown"},{rgb:[111,78,55],title:"Coffee"},{rgb:[155,221,255],title:"Columbia Blue"},{rgb:[248,131,121],title:"Congo Pink"},{rgb:[0,46,99],title:"Cool Black"},{rgb:[140,146,172],title:"Cool Grey"},{rgb:[184,115,51],title:"Copper"},{rgb:[218,138,103],title:"Copper"},{rgb:[173,111,105],title:"Copper Penny"},{rgb:[203,109,81],title:"Copper Red"},{rgb:[153,102,102],title:"Copper Rose"},{rgb:[255,56,0],title:"Coquelicot"},{rgb:[255,127,80],title:"Coral"},{rgb:[248,131,121],title:"Coral Pink"},{rgb:[255,64,64],title:"Coral Red"},{rgb:[137,63,69],title:"Cordovan"},{rgb:[251,236,93],title:"Corn"},{rgb:[179,27,27],title:"Cornell Red"},{rgb:[100,149,237],title:"Cornflower Blue"},{rgb:[255,248,220],title:"Cornsilk"},{rgb:[255,248,231],title:"Cosmic Latte"},{rgb:[255,188,217],title:"Cotton Candy"},{rgb:[255,253,208],title:"Cream"},{rgb:[220,20,60],title:"Crimson"},{rgb:[190,0,50],title:"Crimson Glory"},{rgb:[0,255,255],title:"Cyan"},{rgb:[0,183,235],title:"Cyan"},{rgb:[255,255,49],title:"Daffodil"},{rgb:[240,225,48],title:"Dandelion"},{rgb:[0,0,139],title:"Dark Blue"},{rgb:[101,67,33],title:"Dark Brown"},{rgb:[93,57,84],title:"Dark Byzantium"},{rgb:[164,0,0],title:"Dark Candy Apple Red"},{rgb:[8,69,126],title:"Dark Cerulean"},{rgb:[152,105,96],title:"Dark Chestnut"},{rgb:[205,91,69],title:"Dark Coral"},{rgb:[0,139,139],title:"Dark Cyan"},{rgb:[83,104,120],title:"Dark Electric Blue"},{rgb:[184,134,11],title:"Dark Goldenrod"},{rgb:[169,169,169],title:"Dark Gray"},{rgb:[1,50,32],title:"Dark Green"},{rgb:[0,65,106],title:"Dark Imperial Blue"},{rgb:[26,36,33],title:"Dark Jungle Green"},{rgb:[189,183,107],title:"Dark Khaki"},{rgb:[72,60,50],title:"Dark Lava"},{rgb:[115,79,150],title:"Dark Lavender"},{rgb:[139,0,139],title:"Dark Magenta"},{rgb:[0,51,102],title:"Dark Midnight Blue"},{rgb:[85,107,47],title:"Dark Olive Green"},{rgb:[255,140,0],title:"Dark Orange"},{rgb:[153,50,204],title:"Dark Orchid"},{rgb:[119,158,203],title:"Dark Pastel Blue"},{rgb:[3,192,60],title:"Dark Pastel Green"},{rgb:[150,111,214],title:"Dark Pastel Purple"},{rgb:[194,59,34],title:"Dark Pastel Red"},{rgb:[231,84,128],title:"Dark Pink"},{rgb:[0,51,153],title:"Dark Powder Blue"},{rgb:[135,38,87],title:"Dark Raspberry"},{rgb:[139,0,0],title:"Dark Red"},{rgb:[233,150,122],title:"Dark Salmon"},{rgb:[86,3,25],title:"Dark Scarlet"},{rgb:[143,188,143],title:"Dark Sea Green"},{rgb:[60,20,20],title:"Dark Sienna"},{rgb:[72,61,139],title:"Dark Slate Blue"},{rgb:[47,79,79],title:"Dark Slate Gray"},{rgb:[23,114,69],title:"Dark Spring Green"},{rgb:[145,129,81],title:"Dark Tan"},{rgb:[255,168,18],title:"Dark Tangerine"},{rgb:[72,60,50],title:"Dark Taupe"},{rgb:[204,78,92],title:"Dark Terra Cotta"},{rgb:[0,206,209],title:"Dark Turquoise"},{rgb:[148,0,211],title:"Dark Violet"},{rgb:[155,135,12],title:"Dark Yellow"},{rgb:[0,112,60],title:"Dartmouth Green"},{rgb:[85,85,85],title:"Davy's Grey"},{rgb:[215,10,83],title:"Debian Red"},{rgb:[169,32,62],title:"Deep Carmine"},{rgb:[239,48,56],title:"Deep Carmine Pink"},{rgb:[233,105,44],title:"Deep Carrot Orange"},{rgb:[218,50,135],title:"Deep Cerise"},{rgb:[250,214,165],title:"Deep Champagne"},{rgb:[185,78,72],title:"Deep Chestnut"},{rgb:[112,66,65],title:"Deep Coffee"},{rgb:[193,84,193],title:"Deep Fuchsia"},{rgb:[0,75,73],title:"Deep Jungle Green"},{rgb:[153,85,187],title:"Deep Lilac"},{rgb:[204,0,204],title:"Deep Magenta"},{rgb:[255,203,164],title:"Deep Peach"},{rgb:[255,20,147],title:"Deep Pink"},{rgb:[132,63,91],title:"Deep Ruby"},{rgb:[255,153,51],title:"Deep Saffron"},{rgb:[0,191,255],title:"Deep Sky Blue"},{rgb:[102,66,77],title:"Deep Tuscan Red"},{rgb:[21,96,189],title:"Denim"},{rgb:[193,154,107],title:"Desert"},{rgb:[237,201,175],title:"Desert Sand"},{rgb:[105,105,105],title:"Dim Gray"},{rgb:[30,144,255],title:"Dodger Blue"},{rgb:[215,24,104],title:"Dogwood Rose"},{rgb:[133,187,101],title:"Dollar Bill"},{rgb:[150,113,23],title:"Drab"},{rgb:[0,0,156],title:"Duke Blue"},{rgb:[225,169,95],title:"Earth Yellow"},{rgb:[85,93,80],title:"Ebony"},{rgb:[194,178,128],title:"Ecru"},{rgb:[97,64,81],title:"Eggplant"},{rgb:[240,234,214],title:"Eggshell"},{rgb:[16,52,166],title:"Egyptian Blue"},{rgb:[125,249,255],title:"Electric Blue"},{rgb:[255,0,63],title:"Electric Crimson"},{rgb:[0,255,255],title:"Electric Cyan"},{rgb:[0,255,0],title:"Electric Green"},{rgb:[111,0,255],title:"Electric Indigo"},{rgb:[244,187,255],title:"Electric Lavender"},{rgb:[204,255,0],title:"Electric Lime"},{rgb:[191,0,255],title:"Electric Purple"},{rgb:[63,0,255],title:"Electric Ultramarine"},{rgb:[143,0,255],title:"Electric Violet"},{rgb:[255,255,0],title:"Electric Yellow"},{rgb:[80,200,120],title:"Emerald"},{rgb:[180,131,149],title:"English Lavender"},{rgb:[150,200,162],title:"Eton Blue"},{rgb:[193,154,107],title:"Fallow"},{rgb:[128,24,24],title:"Falu Red"},{rgb:[181,51,137],title:"Fandango"},{rgb:[244,0,161],title:"Fashion Fuchsia"},{rgb:[229,170,112],title:"Fawn"},{rgb:[77,93,83],title:"Feldgrau"},{rgb:[79,121,66],title:"Fern Green"},{rgb:[255,40,0],title:"Ferrari Red"},{rgb:[108,84,30],title:"Field Drab"},{rgb:[206,32,41],title:"Fire Engine Red"},{rgb:[178,34,34],title:"Firebrick"},{rgb:[226,88,34],title:"Flame"},{rgb:[252,142,172],title:"Flamingo Pink"},{rgb:[247,233,142],title:"Flavescent"},{rgb:[238,220,130],title:"Flax"},{rgb:[255,250,240],title:"Floral White"},{rgb:[255,191,0],title:"Fluorescent Orange"},{rgb:[255,20,147],title:"Fluorescent Pink"},{rgb:[204,255,0],title:"Fluorescent Yellow"},{rgb:[255,0,79],title:"Folly"},{rgb:[1,68,33],title:"Forest Green"},{rgb:[34,139,34],title:"Forest Green"},{rgb:[166,123,91],title:"French Beige"},{rgb:[0,114,187],title:"French Blue"},{rgb:[134,96,142],title:"French Lilac"},{rgb:[204,255,0],title:"French Lime"},{rgb:[199,44,72],title:"French Raspberry"},{rgb:[246,74,138],title:"French Rose"},{rgb:[255,0,255],title:"Fuchsia"},{rgb:[193,84,193],title:"Fuchsia"},{rgb:[255,119,255],title:"Fuchsia Pink"},{rgb:[199,67,117],title:"Fuchsia Rose"},{rgb:[228,132,0],title:"Fulvous"},{rgb:[204,102,102],title:"Fuzzy Wuzzy"},{rgb:[220,220,220],title:"Gainsboro"},{rgb:[228,155,15],title:"Gamboge"},{rgb:[248,248,255],title:"Ghost White"},{rgb:[176,101,0],title:"Ginger"},{rgb:[96,130,182],title:"Glaucous"},{rgb:[230,232,250],title:"Glitter"},{rgb:[212,175,55],title:"Metallic Gold"},{rgb:[255,215,0],title:"Gold"},{rgb:[153,101,21],title:"Golden Brown"},{rgb:[252,194,0],title:"Golden Poppy"},{rgb:[255,223,0],title:"Golden Yellow"},{rgb:[218,165,32],title:"Goldenrod"},{rgb:[168,228,160],title:"Granny Smith Apple"},{rgb:[128,128,128],title:"Gray"},{rgb:[70,89,69],title:"Gray-Asparagus"},{rgb:[128,128,128],title:"Gray"},{rgb:[190,190,190],title:"Gray"},{rgb:[0,255,0],title:"Green"},{rgb:[28,172,120],title:"Crayola Green"},{rgb:[0,128,0],title:"Green"},{rgb:[0,168,119],title:"Munsell Green"},{rgb:[0,159,107],title:"Green"},{rgb:[0,165,80],title:"Pigment Green"},{rgb:[102,176,50],title:"Ryb Green"},{rgb:[173,255,47],title:"Green-Yellow"},{rgb:[169,154,134],title:"Grullo"},{rgb:[0,255,127],title:"Guppie Green"},{rgb:[68,108,207],title:"Han Blue"},{rgb:[82,24,250],title:"Han Purple"},{rgb:[233,214,107],title:"Hansa Yellow"},{rgb:[63,255,0],title:"Harlequin"},{rgb:[201,0,22],title:"Harvard Crimson"},{rgb:[218,145,0],title:"Harvest Gold"},{rgb:[128,128,0],title:"Heart Gold"},{rgb:[223,115,255],title:"Heliotrope"},{rgb:[244,0,161],title:"Hollywood Cerise"},{rgb:[240,255,240],title:"Honeydew"},{rgb:[0,127,191],title:"Honolulu Blue"},{rgb:[73,121,107],title:"Hooker's Green"},{rgb:[255,29,206],title:"Hot Magenta"},{rgb:[255,105,180],title:"Hot Pink"},{rgb:[53,94,59],title:"Hunter Green"},{rgb:[113,166,210],title:"Iceberg"},{rgb:[252,247,94],title:"Icterine"},{rgb:[0,35,149],title:"Imperial Blue"},{rgb:[178,236,93],title:"Inchworm"},{rgb:[19,136,8],title:"India Green"},{rgb:[205,92,92],title:"Indian Red"},{rgb:[227,168,87],title:"Indian Yellow"},{rgb:[111,0,255],title:"Indigo"},{rgb:[0,65,106],title:"Indigo Dye"},{rgb:[75,0,130],title:"Indigo"},{rgb:[0,47,167],title:"International Klein Blue"},{rgb:[192,54,44],title:"Golden Gate Bridge Orange"},{rgb:[90,79,207],title:"Iris"},{rgb:[244,240,236],title:"Isabelline"},{rgb:[255,255,240],title:"Ivory"},{rgb:[0,168,107],title:"Jade"},{rgb:[248,222,126],title:"Jasmine"},{rgb:[215,59,62],title:"Jasper"},{rgb:[165,11,94],title:"Jazzberry Jam"},{rgb:[52,52,52],title:"Jet"},{rgb:[250,218,94],title:"Jonquil"},{rgb:[189,218,87],title:"June Bud"},{rgb:[41,171,135],title:"Jungle Green"},{rgb:[76,187,23],title:"Kelly Green"},{rgb:[124,28,5],title:"Kenyan Copper"},{rgb:[195,176,145],title:"Khaki"},{rgb:[240,230,140],title:"Light Khaki"},{rgb:[232,0,13],title:"Ku Crimson"},{rgb:[8,120,48],title:"La Salle Green"},{rgb:[214,202,221],title:"Languid Lavender"},{rgb:[38,97,156],title:"Lapis Lazuli"},{rgb:[254,254,34],title:"Laser Lemon"},{rgb:[169,186,157],title:"Laurel Green"},{rgb:[207,16,32],title:"Lava"},{rgb:[204,204,255],title:"Lavender Blue"},{rgb:[255,240,245],title:"Lavender Blush"},{rgb:[181,126,220],title:"Lavender"},{rgb:[196,195,208],title:"Lavender Gray"},{rgb:[148,87,235],title:"Lavender Indigo"},{rgb:[238,130,238],title:"Lavender Magenta"},{rgb:[230,230,250],title:"Lavender Mist"},{rgb:[251,174,210],title:"Lavender Pink"},{rgb:[150,123,182],title:"Lavender Purple"},{rgb:[251,160,227],title:"Lavender Rose"},{rgb:[230,230,250],title:"Lavender"},{rgb:[124,252,0],title:"Lawn Green"},{rgb:[255,247,0],title:"Lemon"},{rgb:[255,250,205],title:"Lemon Chiffon"},{rgb:[227,255,0],title:"Lemon Lime"},{rgb:[26,17,16],title:"Licorice"},{rgb:[253,213,177],title:"Light Apricot"},{rgb:[173,216,230],title:"Light Blue"},{rgb:[181,101,29],title:"Light Brown"},{rgb:[230,103,113],title:"Light Carmine Pink"},{rgb:[240,128,128],title:"Light Coral"},{rgb:[147,204,234],title:"Light Cornflower Blue"},{rgb:[245,105,145],title:"Light Crimson"},{rgb:[224,255,255],title:"Light Cyan"},{rgb:[249,132,239],title:"Light Fuchsia Pink"},{rgb:[250,250,210],title:"Light Goldenrod Yellow"},{rgb:[211,211,211],title:"Light Gray"},{rgb:[144,238,144],title:"Light Green"},{rgb:[240,230,140],title:"Light Khaki"},{rgb:[177,156,217],title:"Light Pastel Purple"},{rgb:[255,182,193],title:"Light Pink"},{rgb:[233,116,81],title:"Light Red Ochre"},{rgb:[255,160,122],title:"Light Salmon"},{rgb:[255,153,153],title:"Light Salmon Pink"},{rgb:[32,178,170],title:"Light Sea Green"},{rgb:[135,206,250],title:"Light Sky Blue"},{rgb:[119,136,153],title:"Light Slate Gray"},{rgb:[179,139,109],title:"Light Taupe"},{rgb:[230,143,172],title:"Light Thulian Pink"},{rgb:[255,255,224],title:"Light Yellow"},{rgb:[200,162,200],title:"Lilac"},{rgb:[191,255,0],title:"Lime"},{rgb:[50,205,50],title:"Lime Green"},{rgb:[0,255,0],title:"Lime"},{rgb:[157,194,9],title:"Limerick"},{rgb:[25,89,5],title:"Lincoln Green"},{rgb:[250,240,230],title:"Linen"},{rgb:[193,154,107],title:"Lion"},{rgb:[108,160,220],title:"Little Boy Blue"},{rgb:[83,75,79],title:"Liver"},{rgb:[230,32,32],title:"Lust"},{rgb:[255,0,255],title:"Magenta"},{rgb:[202,31,123],title:"Magenta"},{rgb:[255,0,144],title:"Magenta"},{rgb:[170,240,209],title:"Magic Mint"},{rgb:[248,244,255],title:"Magnolia"},{rgb:[192,64,0],title:"Mahogany"},{rgb:[251,236,93],title:"Maize"},{rgb:[96,80,220],title:"Olisto Purple"},{rgb:[11,218,81],title:"Malachite"},{rgb:[151,154,170],title:"Manatee"},{rgb:[255,130,67],title:"Mango Tango"},{rgb:[116,195,101],title:"Mantis"},{rgb:[136,0,133],title:"Mardi Gras"},{rgb:[195,33,72],title:"Maroon"},{rgb:[128,0,0],title:"Maroon"},{rgb:[176,48,96],title:"Maroon"},{rgb:[224,176,255],title:"Mauve"},{rgb:[145,95,109],title:"Mauve Taupe"},{rgb:[239,152,170],title:"Mauvelous"},{rgb:[115,194,251],title:"Maya Blue"},{rgb:[229,183,59],title:"Meat Brown"},{rgb:[102,221,170],title:"Medium Aqua­marine"},{rgb:[0,0,205],title:"Medium Blue"},{rgb:[226,6,44],title:"Medium Candy Apple Red"},{rgb:[175,64,53],title:"Medium Carmine"},{rgb:[243,229,171],title:"Medium Champagne"},{rgb:[3,80,150],title:"Medium Electric Blue"},{rgb:[28,53,45],title:"Medium Jungle Green"},{rgb:[221,160,221],title:"Medium Lavender Magenta"},{rgb:[186,85,211],title:"Medium Orchid"},{rgb:[0,103,165],title:"Medium Persian Blue"},{rgb:[147,112,219],title:"Medium Purple"},{rgb:[187,51,133],title:"Medium Red-Violet"},{rgb:[170,64,105],title:"Medium Ruby"},{rgb:[60,179,113],title:"Medium Sea Green"},{rgb:[123,104,238],title:"Medium Slate Blue"},{rgb:[201,220,135],title:"Medium Spring Bud"},{rgb:[0,250,154],title:"Medium Spring Green"},{rgb:[103,76,71],title:"Medium Taupe"},{rgb:[72,209,204],title:"Medium Turquoise"},{rgb:[121,68,59],title:"Medium Tuscan Red"},{rgb:[217,96,59],title:"Medium Vermilion"},{rgb:[199,21,133],title:"Medium Violet-Red"},{rgb:[248,184,120],title:"Mellow Apricot"},{rgb:[248,222,126],title:"Mellow Yellow"},{rgb:[253,188,180],title:"Melon"},{rgb:[25,25,112],title:"Midnight Blue"},{rgb:[0,73,83],title:"Midnight Green"},{rgb:[255,196,12],title:"Mikado Yellow"},{rgb:[62,180,137],title:"Mint"},{rgb:[245,255,250],title:"Mint Cream"},{rgb:[152,255,152],title:"Mint Green"},{rgb:[255,228,225],title:"Misty Rose"},{rgb:[250,235,215],title:"Moccasin"},{rgb:[150,113,23],title:"Mode Beige"},{rgb:[115,169,194],title:"Moonstone Blue"},{rgb:[174,12,0],title:"Mordant Red 19"},{rgb:[173,223,173],title:"Moss Green"},{rgb:[48,186,143],title:"Mountain Meadow"},{rgb:[153,122,141],title:"Mountbatten Pink"},{rgb:[24,69,59],title:"Msu Green"},{rgb:[197,75,140],title:"Mulberry"},{rgb:[255,219,88],title:"Mustard"},{rgb:[33,66,30],title:"Myrtle"},{rgb:[246,173,198],title:"Nadeshiko Pink"},{rgb:[42,128,0],title:"Napier Green"},{rgb:[250,218,94],title:"Naples Yellow"},{rgb:[255,222,173],title:"Navajo White"},{rgb:[0,0,128],title:"Navy Blue"},{rgb:[255,163,67],title:"Neon Carrot"},{rgb:[254,65,100],title:"Neon Fuchsia"},{rgb:[57,255,20],title:"Neon Green"},{rgb:[215,131,127],title:"New York Pink"},{rgb:[164,221,237],title:"Non-Photo Blue"},{rgb:[5,144,51],title:"North Texas Green"},{rgb:[0,119,190],title:"Ocean Boat Blue"},{rgb:[204,119,34],title:"Ochre"},{rgb:[0,128,0],title:"Office Green"},{rgb:[207,181,59],title:"Old Gold"},{rgb:[253,245,230],title:"Old Lace"},{rgb:[121,104,120],title:"Old Lavender"},{rgb:[103,49,71],title:"Old Mauve"},{rgb:[192,128,129],title:"Old Rose"},{rgb:[128,128,0],title:"Olive"},{rgb:[60,52,31],title:"Olive Drab"},{rgb:[107,142,35],title:"Olive Drab"},{rgb:[154,185,115],title:"Olivine"},{rgb:[53,56,57],title:"Onyx"},{rgb:[183,132,167],title:"Opera Mauve"},{rgb:[255,127,0],title:"Orange"},{rgb:[255,159,0],title:"Orange Peel"},{rgb:[255,69,0],title:"Orange-Red"},{rgb:[251,153,2],title:"Orange"},{rgb:[255,165,0],title:"Orange"},{rgb:[218,112,214],title:"Orchid"},{rgb:[101,67,33],title:"Otter Brown"},{rgb:[153,0,0],title:"Ou Crimson Red"},{rgb:[65,74,76],title:"Outer Space"},{rgb:[255,110,74],title:"Out­rageous Orange"},{rgb:[0,33,71],title:"Oxford Blue"},{rgb:[0,102,0],title:"Pakistan Green"},{rgb:[39,59,226],title:"Palatinate Blue"},{rgb:[104,40,96],title:"Palatinate Purple"},{rgb:[188,212,230],title:"Pale Aqua"},{rgb:[175,238,238],title:"Pale Blue"},{rgb:[152,118,84],title:"Pale Brown"},{rgb:[175,64,53],title:"Pale Carmine"},{rgb:[155,196,226],title:"Pale Cerulean"},{rgb:[221,173,175],title:"Pale Chestnut"},{rgb:[218,138,103],title:"Pale Copper"},{rgb:[171,205,239],title:"Pale Corn­flower Blue"},{rgb:[230,190,138],title:"Pale Gold"},{rgb:[238,232,170],title:"Pale Goldenrod"},{rgb:[152,251,152],title:"Pale Green"},{rgb:[220,208,255],title:"Pale Lavender"},{rgb:[249,132,229],title:"Pale Magenta"},{rgb:[250,218,221],title:"Pale Pink"},{rgb:[221,160,221],title:"Pale Plum"},{rgb:[219,112,147],title:"Pale Red-Violet"},{rgb:[150,222,209],title:"Pale Robin Egg Blue"},{rgb:[201,192,187],title:"Pale Silver"},{rgb:[236,235,189],title:"Pale Spring Bud"},{rgb:[188,152,126],title:"Pale Taupe"},{rgb:[219,112,147],title:"Pale Violet-Red"},{rgb:[120,24,74],title:"Pansy Purple"},{rgb:[255,239,213],title:"Papaya Whip"},{rgb:[80,200,120],title:"Paris Green"},{rgb:[174,198,207],title:"Pastel Blue"},{rgb:[131,105,83],title:"Pastel Brown"},{rgb:[207,207,196],title:"Pastel Gray"},{rgb:[119,221,119],title:"Pastel Green"},{rgb:[244,154,194],title:"Pastel Magenta"},{rgb:[255,179,71],title:"Pastel Orange"},{rgb:[222,165,164],title:"Pastel Pink"},{rgb:[179,158,181],title:"Pastel Purple"},{rgb:[255,105,97],title:"Pastel Red"},{rgb:[203,153,201],title:"Pastel Violet"},{rgb:[253,253,150],title:"Pastel Yellow"},{rgb:[128,0,128],title:"Patriarch"},{rgb:[83,104,120],title:"Payne's Grey"},{rgb:[255,229,180],title:"Peach"},{rgb:[255,203,164],title:"Peach"},{rgb:[255,204,153],title:"Peach-Orange"},{rgb:[255,218,185],title:"Peach Puff"},{rgb:[250,223,173],title:"Peach-Yellow"},{rgb:[209,226,49],title:"Pear"},{rgb:[234,224,200],title:"Pearl"},{rgb:[136,216,192],title:"Pearl Aqua"},{rgb:[183,104,162],title:"Pearly Purple"},{rgb:[230,226,0],title:"Peridot"},{rgb:[204,204,255],title:"Periwinkle"},{rgb:[28,57,187],title:"Persian Blue"},{rgb:[0,166,147],title:"Persian Green"},{rgb:[50,18,122],title:"Persian Indigo"},{rgb:[217,144,88],title:"Persian Orange"},{rgb:[247,127,190],title:"Persian Pink"},{rgb:[112,28,28],title:"Persian Plum"},{rgb:[204,51,51],title:"Persian Red"},{rgb:[254,40,162],title:"Persian Rose"},{rgb:[236,88,0],title:"Persimmon"},{rgb:[205,133,63],title:"Peru"},{rgb:[223,0,255],title:"Phlox"},{rgb:[0,15,137],title:"Phthalo Blue"},{rgb:[18,53,36],title:"Phthalo Green"},{rgb:[253,221,230],title:"Piggy Pink"},{rgb:[1,121,111],title:"Pine Green"},{rgb:[255,192,203],title:"Pink"},{rgb:[255,221,244],title:"Pink Lace"},{rgb:[255,153,102],title:"Pink-Orange"},{rgb:[231,172,207],title:"Pink Pearl"},{rgb:[247,143,167],title:"Pink Sherbet"},{rgb:[147,197,114],title:"Pistachio"},{rgb:[229,228,226],title:"Platinum"},{rgb:[142,69,133],title:"Plum"},{rgb:[221,160,221],title:"Plum"},{rgb:[255,90,54],title:"Portland Orange"},{rgb:[176,224,230],title:"Powder Blue"},{rgb:[255,143,0],title:"Princeton Orange"},{rgb:[112,28,28],title:"Prune"},{rgb:[0,49,83],title:"Prussian Blue"},{rgb:[223,0,255],title:"Psychedelic Purple"},{rgb:[204,136,153],title:"Puce"},{rgb:[255,117,24],title:"Pumpkin"},{rgb:[105,53,156],title:"Purple Heart"},{rgb:[128,0,128],title:"Purple"},{rgb:[150,120,182],title:"Purple Mountain Majesty"},{rgb:[80,64,77],title:"Purple Taupe"},{rgb:[160,32,240],title:"Purple"},{rgb:[81,72,79],title:"Quartz"},{rgb:[93,138,168],title:"Rackley"},{rgb:[255,53,94],title:"Radical Red"},{rgb:[251,171,96],title:"Rajah"},{rgb:[227,11,93],title:"Raspberry"},{rgb:[145,95,109],title:"Raspberry Glace"},{rgb:[226,80,152],title:"Raspberry Pink"},{rgb:[179,68,108],title:"Raspberry Rose"},{rgb:[130,102,68],title:"Raw Umber"},{rgb:[255,51,204],title:"Razzle Dazzle Rose"},{rgb:[227,37,107],title:"Razzmatazz"},{rgb:[255,0,0],title:"Red"},{rgb:[165,42,42],title:"Red-Brown"},{rgb:[134,1,17],title:"Red Devil"},{rgb:[196,2,51],title:"Red"},{rgb:[255,83,73],title:"Red-Orange"},{rgb:[237,28,36],title:"Pigment Red"},{rgb:[254,39,18],title:"Red"},{rgb:[199,21,133],title:"Red-Violet"},{rgb:[171,78,82],title:"Redwood"},{rgb:[82,45,128],title:"Regalia"},{rgb:[0,35,135],title:"Resolution Blue"},{rgb:[0,64,64],title:"Rich Black"},{rgb:[241,167,254],title:"Rich Brilliant Lavender"},{rgb:[215,0,64],title:"Rich Carmine"},{rgb:[8,146,208],title:"Rich Electric Blue"},{rgb:[167,107,207],title:"Rich Lavender"},{rgb:[182,102,210],title:"Rich Lilac"},{rgb:[176,48,96],title:"Rich Maroon"},{rgb:[65,72,51],title:"Rifle Green"},{rgb:[0,204,204],title:"Robin Egg Blue"},{rgb:[255,0,127],title:"Rose"},{rgb:[249,66,158],title:"Rose Bonbon"},{rgb:[103,72,70],title:"Rose Ebony"},{rgb:[183,110,121],title:"Rose Gold"},{rgb:[227,38,54],title:"Rose Madder"},{rgb:[255,102,204],title:"Rose Pink"},{rgb:[170,152,169],title:"Rose Quartz"},{rgb:[144,93,93],title:"Rose Taupe"},{rgb:[171,78,82],title:"Rose Vale"},{rgb:[101,0,11],title:"Rosewood"},{rgb:[212,0,0],title:"Rosso Corsa"},{rgb:[188,143,143],title:"Rosy Brown"},{rgb:[0,56,168],title:"Royal Azure"},{rgb:[0,35,102],title:"Royal Blue"},{rgb:[65,105,225],title:"Royal Blue"},{rgb:[202,44,146],title:"Royal Fuchsia"},{rgb:[120,81,169],title:"Royal Purple"},{rgb:[250,218,94],title:"Royal Yellow"},{rgb:[209,0,86],title:"Rubine Red"},{rgb:[224,17,95],title:"Ruby"},{rgb:[155,17,30],title:"Ruby Red"},{rgb:[255,0,40],title:"Ruddy"},{rgb:[187,101,40],title:"Ruddy Brown"},{rgb:[225,142,150],title:"Ruddy Pink"},{rgb:[168,28,7],title:"Rufous"},{rgb:[128,70,27],title:"Russet"},{rgb:[183,65,14],title:"Rust"},{rgb:[218,44,67],title:"Rusty Red"},{rgb:[0,86,63],title:"Sacramento State Green"},{rgb:[139,69,19],title:"Saddle Brown"},{rgb:[255,103,0],title:"Blaze Orange"},{rgb:[244,196,48],title:"Saffron"},{rgb:[255,140,105],title:"Salmon"},{rgb:[255,145,164],title:"Salmon Pink"},{rgb:[194,178,128],title:"Sand"},{rgb:[150,113,23],title:"Sand Dune"},{rgb:[236,213,64],title:"Sandstorm"},{rgb:[244,164,96],title:"Sandy Brown"},{rgb:[150,113,23],title:"Sandy Taupe"},{rgb:[146,0,10],title:"Sangria"},{rgb:[80,125,42],title:"Sap Green"},{rgb:[15,82,186],title:"Sapphire"},{rgb:[0,103,165],title:"Sapphire Blue"},{rgb:[203,161,53],title:"Satin Sheen Gold"},{rgb:[255,36,0],title:"Scarlet"},{rgb:[253,14,53],title:"Scarlet"},{rgb:[255,216,0],title:"School Bus Yellow"},{rgb:[118,255,122],title:"Screamin' Green"},{rgb:[0,105,148],title:"Sea Blue"},{rgb:[46,139,87],title:"Sea Green"},{rgb:[50,20,20],title:"Seal Brown"},{rgb:[255,245,238],title:"Seashell"},{rgb:[255,186,0],title:"Selective Yellow"},{rgb:[112,66,20],title:"Sepia"},{rgb:[138,121,93],title:"Shadow"},{rgb:[0,158,96],title:"Shamrock Green"},{rgb:[252,15,192],title:"Shocking Pink"},{rgb:[255,111,255],title:"Shocking Pink"},{rgb:[136,45,23],title:"Sienna"},{rgb:[192,192,192],title:"Silver"},{rgb:[203,65,11],title:"Sinopia"},{rgb:[0,116,116],title:"Skobeloff"},{rgb:[135,206,235],title:"Sky Blue"},{rgb:[207,113,175],title:"Sky Magenta"},{rgb:[106,90,205],title:"Slate Blue"},{rgb:[112,128,144],title:"Slate Gray"},{rgb:[0,51,153],title:"Dark Powder Blue"},{rgb:[147,61,65],title:"Smokey Topaz"},{rgb:[16,12,8],title:"Smoky Black"},{rgb:[255,250,250],title:"Snow"},{rgb:[15,192,252],title:"Spiro Disco Ball"},{rgb:[167,252,0],title:"Spring Bud"},{rgb:[0,255,127],title:"Spring Green"},{rgb:[35,41,122],title:"St. Patrick's Blue"},{rgb:[70,130,180],title:"Steel Blue"},{rgb:[250,218,94],title:"Stil De Grain Yellow"},{rgb:[153,0,0],title:"Red Berry"},{rgb:[79,102,106],title:"Stormcloud"},{rgb:[228,217,111],title:"Straw"},{rgb:[255,204,51],title:"Sunglow"},{rgb:[250,214,165],title:"Sunset"},{rgb:[210,180,140],title:"Tan"},{rgb:[249,77,0],title:"Tangelo"},{rgb:[242,133,0],title:"Tangerine"},{rgb:[255,204,0],title:"Tangerine Yellow"},{rgb:[228,113,122],title:"Tango Pink"},{rgb:[72,60,50],title:"Taupe"},{rgb:[139,133,137],title:"Taupe Gray"},{rgb:[208,240,192],title:"Tea Green"},{rgb:[248,131,121],title:"Tea Rose Orange)"},{rgb:[244,194,194],title:"Tea Rose"},{rgb:[0,128,128],title:"Teal"},{rgb:[54,117,136],title:"Teal Blue"},{rgb:[0,130,127],title:"Teal Green"},{rgb:[207,52,118],title:"Telemagenta"},{rgb:[226,114,91],title:"Terra Cotta"},{rgb:[216,191,216],title:"Thistle"},{rgb:[222,111,161],title:"Thulian Pink"},{rgb:[252,137,172],title:"Tickle Me Pink"},{rgb:[10,186,181],title:"Tiffany Blue"},{rgb:[224,141,60],title:"Tiger's Eye"},{rgb:[219,215,210],title:"Timberwolf"},{rgb:[238,230,0],title:"Titanium Yellow"},{rgb:[255,99,71],title:"Tomato"},{rgb:[116,108,192],title:"Toolbox"},{rgb:[255,200,124],title:"Topaz"},{rgb:[253,14,53],title:"Tractor Red"},{rgb:[128,128,128],title:"Trolley Grey"},{rgb:[0,117,94],title:"Tropical Rain Forest"},{rgb:[0,115,207],title:"True Blue"},{rgb:[65,125,193],title:"Tufts Blue"},{rgb:[222,170,136],title:"Tumbleweed"},{rgb:[181,114,129],title:"Turkish Rose"},{rgb:[48,213,200],title:"Turquoise"},{rgb:[0,255,239],title:"Turquoise Blue"},{rgb:[160,214,180],title:"Turquoise Green"},{rgb:[124,72,72],title:"Tuscan Red"},{rgb:[138,73,107],title:"Twilight Lavender"},{rgb:[102,2,60],title:"Tyrian Purple"},{rgb:[0,51,170],title:"Ua Blue"},{rgb:[217,0,76],title:"Ua Red"},{rgb:[136,120,195],title:"Ube"},{rgb:[83,104,149],title:"Ucla Blue"},{rgb:[255,179,0],title:"Ucla Gold"},{rgb:[60,208,112],title:"Ufo Green"},{rgb:[255,111,255],title:"Ultra Pink"},{rgb:[18,10,143],title:"Triggi Purple"},{rgb:[65,102,245],title:"Ultra­marine Blue"},{rgb:[99,81,71],title:"Umber"},{rgb:[255,221,202],title:"Unbleached Silk"},{rgb:[91,146,229],title:"United Nations Blue"},{rgb:[255,255,102],title:"Unmellow Yellow"},{rgb:[1,68,33],title:"Up Forest Green"},{rgb:[123,17,19],title:"Up Maroon"},{rgb:[174,32,41],title:"Upsdell Red"},{rgb:[225,173,33],title:"Urobilin"},{rgb:[0,79,152],title:"Usafa Blue"},{rgb:[153,0,0],title:"Usc Cardinal"},{rgb:[255,204,0],title:"Usc Gold"},{rgb:[211,0,63],title:"Utah Crimson"},{rgb:[243,229,171],title:"Vanilla"},{rgb:[197,179,88],title:"Vegas Gold"},{rgb:[200,8,21],title:"Venetian Red"},{rgb:[67,179,174],title:"Verdigris"},{rgb:[227,66,52],title:"Vermilion"},{rgb:[217,96,59],title:"Vermilion"},{rgb:[160,32,240],title:"Veronica"},{rgb:[143,0,255],title:"Violet"},{rgb:[50,74,178],title:"Violet-Blue"},{rgb:[127,0,255],title:"Color Wheel Violet"},{rgb:[238,130,238],title:"Violet"},{rgb:[64,130,109],title:"Viridian"},{rgb:[146,39,36],title:"Vivid Auburn"},{rgb:[159,29,53],title:"Vivid Burgundy"},{rgb:[218,29,129],title:"Vivid Cerise"},{rgb:[255,160,137],title:"Vivid Tangerine"},{rgb:[159,0,255],title:"Vivid Violet"},{rgb:[0,66,66],title:"Warm Black"},{rgb:[164,244,249],title:"Water­spout"},{rgb:[100,84,82],title:"Wenge"},{rgb:[245,222,179],title:"Wheat"},{rgb:[255,255,255],title:"White"},{rgb:[245,245,245],title:"White Smoke"},{rgb:[162,173,208],title:"Wild Blue Yonder"},{rgb:[255,67,164],title:"Wild Strawberry"},{rgb:[252,108,133],title:"Wild Water­melon"},{rgb:[114,47,55],title:"Wine"},{rgb:[103,49,71],title:"Wine Dregs"},{rgb:[201,160,220],title:"Wisteria"},{rgb:[193,154,107],title:"Wood Brown"},{rgb:[115,134,120],title:"Xanadu"},{rgb:[15,77,146],title:"Yale Blue"},{rgb:[255,255,0],title:"Yellow"},{rgb:[154,205,50],title:"Yellow-Green"},{rgb:[255,174,66],title:"Yellow Orange"},{rgb:[255,239,0],title:"Yellow"},{rgb:[0,20,168],title:"Zaffre"},{rgb:[44,22,8],title:"Zinn­waldite Brown"}],nl:[{rgb:[96,80,220],title:"Olisto Paars"},{rgb:[158,17,14],title:"Bloedrood"},{rgb:[199,24,19],title:"Morgenrood"},{rgb:[207,17,17],title:"Hanenkamrood"},{rgb:[212,2,41],title:"Lakrood"},{rgb:[229,12,0],title:"Ferrari rood"},{rgb:[234,0,1],title:"Felrood"},{rgb:[242,1,20],title:"Coca-Cola rood"},{rgb:[253,1,26],title:"Helderrood"},{rgb:[255,0,0],title:"Rood"},{rgb:[255,36,26],title:"Scharlakenrood"},{rgb:[197,81,58],title:"Cadmiumrood"},{rgb:[227,66,52],title:"Vermiljoen"},{rgb:[226,114,91],title:"Terracotta"},{rgb:[243,149,124],title:"Flamingo rose"},{rgb:[227,38,54],title:"Alizarine"},{rgb:[217,39,51],title:"Geraniumrood"},{rgb:[229,43,80],title:"Amarant"},{rgb:[231,84,128],title:"Donker Roze"},{rgb:[169,32,62],title:"Diep Karmijn"},{rgb:[215,0,24],title:"Chinees karmijn"},{rgb:[220,20,60],title:"Karmozijnrood"},{rgb:[215,24,104],title:"Dodgewood Rood"},{rgb:[224,17,95],title:"Robijn"},{rgb:[255,21,133],title:"Felroze"},{rgb:[230,50,68],title:"Vaalrood"},{rgb:[83,1,52],title:"Aubergine"},{rgb:[255,0,127],title:"Aphrodite"},{rgb:[255,0,255],title:"Magenta"},{rgb:[255,0,127],title:"Psychedelisch purper"},{rgb:[255,119,255],title:"Fuchsiaroze"},{rgb:[255,0,127],title:"Aphrodite"},{rgb:[223,115,255],title:"Levendig lavendel"},{rgb:[193,84,193],title:"Diep Fuchsia"},{rgb:[181,51,137],title:"Fandango"},{rgb:[202,44,146],title:"Koninklijk fuchsia"},{rgb:[150,0,24],title:" Karmijn"},{rgb:[139,0,0],title:"Donker Rood"},{rgb:[128,0,0],title:"Bordeaux"},{rgb:[128,0,32],title:"Bourgondië"},{rgb:[140,21,49],title:"Granaatrood"},{rgb:[147,39,36],title:"Levendig kastanjebruin"},{rgb:[170,53,33],title:"Zweedsrood"},{rgb:[180,80,64],title:"Ossenbloed"},{rgb:[247,127,190],title:"Perzisch roze"},{rgb:[137,63,69],title:"Cordovan"},{rgb:[179,68,108],title:"Framboos"},{rgb:[255,105,180],title:"Acacia roze"},{rgb:[255,192,203],title:"Roze"},{rgb:[222,111,161],title:"IJslands roze "},{rgb:[255,145,164],title:"Zalmroze"},{rgb:[250,218,221],title:"Bleek roze"},{rgb:[255,209,220],title:"Pastel roze"},{rgb:[244,194,194],title:"Babyroze"},{rgb:[204,136,153],title:"Puce"},{rgb:[192,110,121],title:"Oud roze"},{rgb:[103,76,71],title:"Ebben roze"},{rgb:[80,68,65],title:"Aardebruin"},{rgb:[255,140,0],title:"Donkeroranje"},{rgb:[255,127,0],title:"Oranje"},{rgb:[255,126,0],title:"Amber"},{rgb:[243,132,0],title:"Mandarijn"},{rgb:[206,136,6],title:"Oker geel"},{rgb:[218,165,32],title:"Guldenroede"},{rgb:[255,160,0],title:"Sinaasappel"},{rgb:[228,155,18],title:"Guttegom"},{rgb:[239,172,33],title:"Vaal-oranje"},{rgb:[235,171,13],title:"Herfstgoud"},{rgb:[255,153,51],title:"Diep Saffron"},{rgb:[245,110,46],title:"Worteloranje"},{rgb:[50,20,20],title:"Donkerbruin"},{rgb:[65,39,22],title:"Havannabruin"},{rgb:[109,53,26],title:"Kastanjebruin"},{rgb:[112,66,20],title:"Sepia"},{rgb:[109,72,24],title:"Brons"},{rgb:[101,67,33],title:"Donkerbruin"},{rgb:[107,65,43],title:"Koffiebruin"},{rgb:[100,58,33],title:"Henna"},{rgb:[92,51,23],title:"Chocoladebruin"},{rgb:[150,75,0],title:"Bruin"},{rgb:[160,82,45],title:"Rode oker"},{rgb:[171,105,44],title:"Caramel"},{rgb:[146,102,64],title:"Midden bruin"},{rgb:[145,97,61],title:"Eikenbruin"},{rgb:[166,123,91],title:"Frans Beige"},{rgb:[184,115,51],title:"Koper"},{rgb:[183,65,14],title:"Roestbruin"},{rgb:[184,134,11],title:"Donker goudbruin"},{rgb:[197,113,37],title:"Goudbruin"},{rgb:[204,119,34],title:"Oker"},{rgb:[253,143,58],title:"Cadmiumgeel"},{rgb:[225,127,80],title:"Koraal"},{rgb:[219,147,112],title:"Tan"},{rgb:[233,150,122],title:"Zalm"},{rgb:[251,206,177],title:"Abrikoos"},{rgb:[255,204,153],title:"Perzik"},{rgb:[255,203,164],title:"Perzik"},{rgb:[255,218,185],title:"Perzik"},{rgb:[251,224,187],title:"Botergeel"},{rgb:[255,235,105],title:"Amandel"},{rgb:[247,231,206],title:"Champagne"},{rgb:[245,245,220],title:"Beige"},{rgb:[247,236,183],title:"Blond"},{rgb:[244,196,48],title:"Saffraan"},{rgb:[244,181,17],title:"Currygeel"},{rgb:[245,186,46],title:"Bananengeel"},{rgb:[255,191,0],title:"Amber"},{rgb:[252,197,55],title:"Donkergeel"},{rgb:[255,204,0],title:"Zonnegloed"},{rgb:[236,215,132],title:"Korengoud"},{rgb:[240,220,130],title:"Chamois"},{rgb:[240,230,140],title:"Kaki"},{rgb:[255,219,88],title:"Mosterd"},{rgb:[225,223,0],title:"Goudgeel"},{rgb:[255,216,0],title:"Schoolbusgeel"},{rgb:[255,219,88],title:"Geelgroen"},{rgb:[253,214,0],title:"Zonnenbloemengeel"},{rgb:[255,255,0],title:"Geel"},{rgb:[253,233,16],title:"Citroengeel"},{rgb:[223,255,0],title:"Chartreuse"},{rgb:[251,236,93],title:"Maisgeel"},{rgb:[233,230,101],title:"Zwavelgeel"},{rgb:[217,178,103],title:"Honingblond"},{rgb:[212,175,55],title:"Metaalgoud"},{rgb:[207,181,59],title:"Oud goud"},{rgb:[206,169,36],title:"Bijenwasgeel"},{rgb:[219,186,117],title:"Messing"},{rgb:[195,176,145],title:"Kaki"},{rgb:[194,178,128],title:"Ecru"},{rgb:[160,140,83],title:"Vuilgroen"},{rgb:[193,187,77],title:"Galgroen"},{rgb:[183,165,50],title:"Mosterd"},{rgb:[169,178,53],title:"Cactusgroen"},{rgb:[159,159,95],title:"Kaki"},{rgb:[128,128,0],title:"Olijfgroen"},{rgb:[75,83,32],title:"Legergroen"},{rgb:[187,222,138],title:"Absintgroen"},{rgb:[107,142,35],title:"Bosgroen"},{rgb:[121,149,65],title:"Erwtgroen"},{rgb:[153,214,53],title:"Appelgroen"},{rgb:[0,255,0],title:"Limoen"},{rgb:[50,205,50],title:"Groen"},{rgb:[59,184,18],title:"Briljantgroen"},{rgb:[76,187,23],title:"Kelly groen"},{rgb:[90,219,15],title:"Gifgroen"},{rgb:[124,252,0],title:"Grasgroen"},{rgb:[127,255,0],title:"Lentegroen"},{rgb:[0,153,0],title:"Bosgroen"},{rgb:[0,128,0],title:"Dofgroen"},{rgb:[0,102,0],title:"Diepgroen "},{rgb:[34,139,34],title:"Bosgroen"},{rgb:[42,115,33],title:"Flessengroen"},{rgb:[29,95,40],title:"Bladgroen"},{rgb:[47,79,47],title:"Donkergroen"},{rgb:[0,66,37],title:"Jagersgroen"},{rgb:[53,94,59],title:"Racegroen"},{rgb:[1,121,111],title:"Dennegroen"},{rgb:[99,147,135],title:"Grieksgroen"},{rgb:[64,130,109],title:"Veridian"},{rgb:[0,165,80],title:"Grasgroen"},{rgb:[68,148,74],title:"harlequingroen"},{rgb:[80,200,120],title:"Smaragd"},{rgb:[0,255,127],title:"Lentegroen"},{rgb:[0,168,107],title:"Jade"},{rgb:[0,154,99],title:"Klavergroen"},{rgb:[35,142,104],title:"Zeegroen"},{rgb:[143,188,143],title:"Bleekgroen"},{rgb:[199,219,182],title:"Zachtgroen"},{rgb:[147,200,174],title:"Celadon"},{rgb:[123,223,173],title:"Mosgroen"},{rgb:[144,238,144],title:"Lichtgroen"},{rgb:[0,0,139],title:"Donkerblauw"},{rgb:[18,10,143],title:"Ultramarijn"},{rgb:[0,0,128],title:"Marineblauw"},{rgb:[0,35,102],title:"Koninklijk blauw"},{rgb:[8,37,103],title:"Saffierblauw"},{rgb:[25,25,112],title:"Middernacht blauw"},{rgb:[35,41,122],title:"St. Patrick blauw"},{rgb:[0,49,83],title:"Pruisisch blauw"},{rgb:[0,0,255],title:"Blauw"},{rgb:[0,102,255],title:"Helblauw"},{rgb:[0,153,255],title:"Helblauw"},{rgb:[0,127,255],title:"Azuurblauw"},{rgb:[28,57,187],title:"Perzisch blauw"},{rgb:[16,52,166],title:"Egyptisch blauw"},{rgb:[0,47,167],title:"Internationaal Blauw"},{rgb:[50,50,205],title:"Midden blauw"},{rgb:[82,24,250],title:"Chinees blauw"},{rgb:[60,52,171],title:"Delftsblauw"},{rgb:[0,71,171],title:"Kobaltblauw"},{rgb:[21,96,189],title:"Denim"},{rgb:[0,123,167],title:"Cerulean blauw"},{rgb:[0,149,182],title:"Bondyblauw"},{rgb:[93,138,168],title:"Luchtmachtblauw"},{rgb:[70,30,180],title:"Staalblauw"},{rgb:[100,149,237],title:"Korenbloemblauw"},{rgb:[56,176,222],title:"Zomerblauw"},{rgb:[115,194,251],title:"Maya blauw"},{rgb:[135,206,235],title:"Hemelsblauw"},{rgb:[173,216,230],title:"Lichtblauw"},{rgb:[173,226,255],title:"Lichthemelsblauw"},{rgb:[172,206,216],title:"IJsblauw"},{rgb:[176,196,222],title:"Grijsblauw"},{rgb:[124,255,255],title:"Babyblauw"},{rgb:[176,255,212],title:"Aquamarijn"},{rgb:[10,186,181],title:"Tiffanyblauw"},{rgb:[64,224,208],title:"Turquoise"},{rgb:[0,255,255],title:"Cyaan"},{rgb:[0,191,255],title:"Diep hemelsblauw"},{rgb:[0,180,247],title:"Aqua"},{rgb:[75,0,130],title:"Indigo"},{rgb:[50,18,122],title:"Perzisch indigo"},{rgb:[227,187,255],title:"Lila"},{rgb:[224,176,255],title:"Mauve"},{rgb:[216,191,216],title:"Distelblauw"},{rgb:[200,162,200],title:"Sering"},{rgb:[181,126,220],title:"Lavendel"},{rgb:[153,85,187],title:"Diep Sering"},{rgb:[153,102,204],title:"Amethist"},{rgb:[170,0,255],title:"Paars"},{rgb:[136,120,219],title:"Ube"},{rgb:[138,43,226],title:"Diep indigo"},{rgb:[153,0,255],title:"Viool"},{rgb:[143,0,255],title:"Violet"},{rgb:[148,0,211],title:"Donker violet"},{rgb:[128,0,128],title:"Purper"},{rgb:[90,0,70],title:"Tokyo purper"},{rgb:[153,0,102],title:"Kers"},{rgb:[135,31,120],title:"Donkerpaars"},{rgb:[102,2,60],title:"Keizerlijk purper"},{rgb:[250,235,215],title:"Antiek wit"},{rgb:[253,245,230],title:"Warm wit"},{rgb:[255,253,208],title:"Créme"},{rgb:[255,255,224],title:"Créme"},{rgb:[248,248,255],title:"Bleek Wit"},{rgb:[240,255,255],title:"Azuur"},{rgb:[240,248,255],title:"Koud wit"},{rgb:[235,235,255],title:"IJswit"},{rgb:[245,255,250],title:"Muntcréme"},{rgb:[255,255,240],title:"Ivoor"},{rgb:[255,255,255],title:"Wit"},{rgb:[211,211,211],title:"Lichtgrijs"},{rgb:[191,191,191],title:"Zilvergrijs"},{rgb:[175,175,175],title:"Aardedonker"},{rgb:[169,169,169],title:"Donkergrijs"},{rgb:[128,128,128],title:"Grijs"},{rgb:[61,43,31],title:"Roetzwart"},{rgb:[113,113,113],title:"Middengrijs"},{rgb:[105,105,105],title:"Dofgrijs"},{rgb:[70,70,70],title:"Houtskool"},{rgb:[74,82,77],title:"Loodgrijs"},{rgb:[54,80,93],title:"Grijsblauw"},{rgb:[7,10,29],title:"Pikzwart"},{rgb:[0,0,0],title:"Zwart"}]}}}},function(t,e){EditorItemBehaviorImpl={newEditorItem:function(t,e,n){var r=this;function i(t,e){function i(t){if("string"==typeof t&&"global."===t.substr(0,7)){var e=t.split(".")[1];return r.translateGlobal(e)||r.userGlobals[e]}if(t&&"object"==typeof t&&t.then)return t;if(null==t||"object"!=typeof t||Array.isArray(t))return t;var n={};return Object.keys(t).forEach((function(e){n[e]=i(t[e])})),n}this.definition=window.R.clone(t),this.userData=r.userData,this.hidden=n||!1,void 0!==e?this.value=i(e):void 0!==t.default?this.value=i(t.default):"none"===t.type?this.value="":"const"===t.type?this.value=i(t.value):console.warn("editoritem-behavior","Type not none and no default value received."),Object.keys(t).forEach(function(e){this.definition[e]=i(t[e])}.bind(this))}return Object.defineProperty(i.prototype,"valid",{get:function(){return r.validateForEditorType(this.definition.type,this.value,this.definition)}}),Object.defineProperty(i.prototype,"readable",{get:function(){return r.readableForEditorType(this.definition.type,this.value,this.definition,this._readable)},set:function(t){this._readable=t}}),Object.defineProperty(i.prototype,"valueName",{get:function(){return r._valueNameFromDefinition(this.definition)}}),Object.defineProperty(i.prototype,"multi",{get:function(){return Boolean(this.definition.combineWith)}}),i.prototype.deepCopy=function(){return new i(this.definition,this.value)},new i(t,e)},validateForEditorType:function(t,e,n){switch(n=n||{},t){case"text":case"textfield":case"textbox":case"variable":return this._validateText(e);case"city":return this._validateCity(e);case"number":case"stepper":return this._validateNumber(e);case"radio":case"select":case"option":return this._validateOption(e,n);case"time":return this._validateTime(e);case"date":return this._validateDate(e);case"period":return this._validatePeriod(e);case"color":return this._validateRGBColor(e);case"sunpicker":return this._validateSunpicker(e);case"const":case"none":return!0;default:return!1}},_validateText:function(t){return"string"==typeof t&&t.length>0},_validateNumber:function(t){return"number"==typeof t},_validateOption:function(t,e){function n(t){return e.options.some((function(e){return e.id===t}))}return this.multi?"function"==typeof t.reduce&&t.reduce(function(t,e){return!!t&&n(e)}.bind(this),!0):n(t)},_validateCity:function(t){var e=void 0!==t.lat,n=void 0!==t.lon,r=void 0!==t.name;return e&&n&&r},_validateTime:function(t){return"string"==typeof t&&Boolean(t.match(/^\d{1,2}:\d{2}$/))},_validateDate:function(t){return"string"==typeof t&&Boolean(t.match(/^\d{4}-\d{2}-\d{2}$/))},_validatePeriod:function(t){return"function"==typeof t.reduce&&t.reduce(function(t,e){return!!t&&this._validateDate(e)}.bind(this),!0)},_validateSunpicker:function(t){return!(!t.city||null==t.offsetMinutes||"boolean"!=typeof t.sunUp)&&(null!=t.city.lat&&null!==t.city.lon&&null!==t.city.name)},_validateRGBColor:function(t){function e(t){return"number"==typeof t&&t>=0&&t<=255}return e(t.red)&&e(t.green)&&e(t.blue)},readableForEditorType:function(t,e,n,r){if(null==e)return"";switch(n=n||{},t){case"number":case"stepper":return this._readableForNumber(e,n);case"radio":case"select":case"option":return this._readableForOption(e,n);case"date":return this._readableForDate(e,n);case"period":var i=this,o=e.map((function(t){return i._readableForDate(t,n)}));return TriggiUtils.joinTitles(o,localize("and"));case"color":return this._readableForColor(e,n);case"city":return e.name;case"sunpicker":return this._readableForSunpicker(e,n);default:return void 0!==r?r.toString():e.toString()}},_readableForNumber:function(t,e){var n="imperial"===window.localStorage.measurementSystem&&"°C"===e.unit,r=n?"°F":e.unit;return(t=n?Math.round(2*(1.8*t+32))/2:t)<0&&e.negativeLabel?-t+" "+r+" "+e.negativeLabel:t>=0&&e.positiveLabel?t+" "+r+" "+e.positiveLabel:t+" "+r},_readableForOption:function(t,e){var n=e.options;if(e.combineWith&&Array.isArray(t)){var r=t.map((function(t){return TriggiUtils.titleForId(n,t)}));return TriggiUtils.joinTitles(r,e.combineWith)}return TriggiUtils.titleForId(n,t)},_readableForSunpicker:function(t,e){if(void 0===t.offsetMinutes||0===t.offsetMinutes)return t.sunUp?e.neutralLeft:e.neutralRight;var n="";return"sunriseSunset"===e.mode&&(n+=e.notNeutralStart,t.offsetMinutes<0?n+=-1*t.offsetMinutes+" "+e.unit+" "+e.negativeLabel:t.offsetMinutes>0&&(n+=t.offsetMinutes+" "+e.unit+" "+e.positiveLabel)),t.sunUp?n+=" "+e.left:n+=" "+e.right,"sunriseSunset"!==e.mode&&(t.offsetMinutes<0?n+=", "+-1*t.offsetMinutes+" "+e.unit+" "+e.negativeLabel:t.offsetMinutes>0&&(n+=", "+t.offsetMinutes+" "+e.unit+" "+e.positiveLabel)),n},_readableForDate:function(t){return LocalizedBehavior.localizedDate(new Date(t))},_readableForColor:function(t,e){return e.isLight?this.nameForBrightColor(t):this.nameForColor(t)},createUnitEditors:function(t,e,n,r,i){if(!e)return this._editorsFromParameters(t,n,r,i);var o=window.R.map(function(e){var i=this._getParamDescriptions(e,t),o=window.R.assoc("outputParameters",i,e);return n?r&&(o.editable=!1):o.editable=!0,o}.bind(this),e);return window.R.map(function(t){var e=this._parseUnitEditorValues(t.outputParameters,i);return this.newEditorItem(t,e)}.bind(this),o)},_parseUnitEditorValues:function(t,e){var n=Boolean(!e),r={};return window.R.forEach((function(t){r[t.name]=n?t.default:e[t.name]}),t),r},_getParamDescriptions:function(t,e){return window.R.map((function(t){var n=window.R.find(window.R.propEq("name",t))(e);if(!n)throw new Error("Required parameter from editor not found in unitParameterDefinition.");if(n.editorType)throw new Error('editorDescriptions specified but parameter "'+n.name+'" also has editorType');return n}),t.outputParameters)},_editorsFromParameters:function(t,e,n,r){var i=Boolean(!r);return window.R.map(function(t){var o={};o[t.name]=i?t.default:r[t.name];var a=this._definitionFromParameter(t);return e?n&&(a.editable=!1):a.editable=!0,this.newEditorItem(a,o)}.bind(this),t)},_definitionFromParameter:function(t){if(!t.editorType)throw new Error("Parameter has no editor type");var e=[{name:window.R.prop("name",t),mandatory:window.R.prop("mandatory",t),mappedFrom:window.R.prop("mappedFrom",t),default:window.R.prop("default",t)}],n=window.R.pipe(window.R.dissoc("name"),window.R.dissoc("mandatory"),window.R.dissoc("mappedFrom"),window.R.dissoc("default"))(t);return n=window.R.assoc("type",n.editorType,n),n=window.R.dissoc("editorType",n),window.R.assoc("outputParameters",e,n)},_valueNameFromDefinition:function(t){if("object"==typeof t.valueName)return"value";if(t.valueName)return t.valueName;if(t.id)return t.id;if(t.isComparator)return"comparator";if(t.isPeriod)return"period";throw new Error("valueName could not be determined")}},EditorItemBehavior=[TriggiColorBehavior,GlobalKeysBehavior,EditorItemBehaviorImpl]},function(t,e){TriggBehavior={newTrigg:function(t,e){var n=this;function r(t){this.format=t.format,this.type="trigg",this.id=t._id,this._id=t._id,this.name=null!=t.name?TriggiUtils.localizeDict(t.name):"",this.description=t.description||null,this.category=null!=t.category?t.category:"cool",this.images=t.images,this.enabled=t.enabled,this.browse=t.isInspiration||t.browse||Boolean(t.publicId),this.lastActivity=0,this.sharedUnits=n._mapSharedUnitsToFrontEnd(t.sharedUnits,e);var r=t.condition?t.condition.args:null;if(this.conditions=n._processConditions(r,this.browse,e,this.sharedUnits),this.ifActions=n._processActions(t.ifActions,this.browse,e,this.sharedUnits),t.usedChannels&&(this.usedChannels=t.usedChannels),this.template=t.template,this.browse){this.inspirationType=t.inspirationType,this.featuredPosition=t.featuredPosition;var i=TriggiUtils.localizeDict(t.conditionTitle,!0);i&&(this.conditionTitle=i);var o=TriggiUtils.localizeDict(t.ifActionsTitle,!0);o&&(this.ifActionsTitle=o),this.url=t.url||null,this.campaigns=t.campaigns||{},this.template||(this.template={source:this.id,type:"sharedTrigg"})}}Object.defineProperty(r.prototype,"data",{get:function(){return{_id:this.id,name:this.name,category:this.category,enabled:this.enabled,format:this.format,images:this.images,condition:n._condactionsToConditions(this.conditions),ifActions:n._condactionsToActions(this.ifActions),conditionTitle:this.conditionTitle,ifActionsTitle:this.ifActionsTitle,template:this.template,context:{locale:window.localStorage.language||"en-US"}}}}),Object.defineProperty(r.prototype,"strings",{get:function(){return LocalizedBehavior.localizedStrings("triggable")}}),Object.defineProperty(r.prototype,"categoryOptions",{get:function(){var t=[],e=this.strings;return TriggiUtils.enumerateDict(e.categories,(function(n,r){t.push({id:n,title:e.tagLine(r)})})),t}});var i=null;Object.defineProperty(r.prototype,"conditionTitle",{set:function(t){i=t},get:function(){if(i)return i;var t=this.conditions.map((function(t){return t.description}));return TriggiUtils.joinTitles(t,this.strings.joinString)}});var o=null;Object.defineProperty(r.prototype,"ifActionsTitle",{set:function(t){o=t},get:function(){if(o)return o;var t=this.ifActions.map(function(t){return t.getDescription(n.unitsById,this.triggerVariables,this.sharedUnits)}.bind(this));return TriggiUtils.joinTitles(t,this.strings.joinString)}}),r.prototype.getDefaultName=function(t){var e=this.ifActions[0];return e?e.getDescription(t,this.triggerVariables,this.sharedUnits):""},Object.defineProperty(r.prototype,"triggerVariables",{get:function(){var t=this.conditions;return TriggiUtils.dictFromArray(t.reduce((function(t,e){var n=e.capability.variables;return n?t.concat(n):t}),[]),"name")}}),r.prototype.anyCondactionChanged=function(){return this.conditions.some((function(t){return t.state.changed}))||this.ifActions.some((function(t){return t.state.changed}))};var a=null;return Object.defineProperty(r.prototype,"description",{set:function(t){a=TriggiUtils.localizeDict(t)},get:function(){return a}}),r.prototype.isChanged=function(){return"new"===this.id?0!==this.conditions.length||0!==this.ifActions.length:this.state?this.name&&this.state.initialName!==this.name||this.category&&this.state.initialCategory!==this.category||this.ifActions.length!==this.state.initialIfActionsLength||this.conditions.length!==this.state.initialConditionsLength||this.anyCondactionChanged():(console.warn("No state for trigg "+this.id),!0)},r.prototype.getCondaction=function(t,e,n){var r;if("condition"===t)r=this.conditions[e];else{if("action"!==t)throw new Error("unrecognized condaction kind: "+t);r=this.ifActions[e]}return r.converted=n,r},r.prototype.deepCopyWithState=function(){var t=this.deepCopy(),e={};return e.initialName=this.name,e.initialCategory=this.category,e.initialIfActionsLength=this.ifActions.length,e.initialConditionsLength=this.conditions.length,t.state=e,t.conditions.forEach((function(t){t.state.currentHash=t.hashCode})),t.ifActions.forEach((function(t){t.state.currentHash=t.hashCode})),t},r.prototype.deepCopy=function(){var t=new r({_id:this.id,name:this.name,category:this.category,enabled:this.enabled,description:this.description,condition:{args:[]},ifActions:[],usedChannels:this.usedChannels,format:this.format,images:this.images,browse:this.browse,sharedUnits:n._mapSharedUnitsToBackEnd(this.sharedUnits),url:this.url,template:this.template});return t.conditions=this.conditions.map((function(t){return t.deepCopy()})),t.ifActions=this.ifActions.map((function(t){return t.deepCopy()})),t},r.prototype.hasError=function(t,e){try{if(!this.usedChannels||this.browse)return!1;var n=!1;return(n=this.usedChannels.some((function(e){var n=t[e];return!n||Boolean(ChannelStateBehavior.channelError(n))})))?n:(n=this.conditions.some((function(t){var n=t.unit;return n&&n.id&&"time"!==n.channel&&"date"!==n.channel&&Boolean(!e[n.id])})))?n:n=this.ifActions.some((function(t){return t.selectedUnits.some((function(t){return t&&t.id&&Boolean(!e[t.id])}))}))}catch(t){return console.error("trigg has unexpected error",t),!0}},r.prototype.getErrorState=function(t,e){if(!this.usedChannels||this.browse)return null;var n=this,r=[],i=!1,o=this.conditions.reduce((function(t,n){return n.unit&&n.unit.id&&"time"!==n.unit.channel&&"date"!==n.unit.channel&&!e[n.unit.id]?t.concat(n.unit.id):t}),[]),a=this.ifActions.reduce((function(t,r){return r.selectedUnits?(r.selectedUnits.forEach((function(n){n&&n.id&&!e[n.id]&&t.push(n.id)})),t):(console.error("no units for trigg "+n._id+" for action #"+r.index,r),t)}),[]),s=o.concat(a);return s&&s.forEach((function(t){window.localStorage.getItem("godMode")||void 0!==e[t]||(console.error("trigg-behavior","seem to be missing unit with id "+t),i=!0)})),this.usedChannels.forEach((function(e){var n=t[e];if(n){var i=ChannelStateBehavior.channelError(n);i&&r.push(i)}})),i&&r.push({title:LocalizedBehavior.localize("Device or service missing"),info:LocalizedBehavior.localize("This trigg uses a device or service that could not be found. Please edit this trigg.")}),r.length>0?r[0]:null},new r(t)},_condactionsToConditions:function(t){var e=[];return t.forEach(function(t){t.broken||e.push(this.conditionFromEditableObject(t))}.bind(this)),{args:e,op:"and"}},_condactionsToActions:function(t){var e=[];return t.forEach(function(t){t.broken||e.push(this.actionFromEditableObject(t))}.bind(this)),e},_processConditions:function(t,e,n,r){return this._processSourceCondactions(t,"condition",e,n,r)},_processActions:function(t,e,n,r){return this._processSourceCondactions(t,"action",e,n,r)},_processSourceCondactions:function(t,e,n,r,i){if(!t)return[];var o=this,a=[];return t.forEach((function(t,s){try{var u=null;if("condition"===e)u=o.condactionFromCondition(t,s,n,r,i);else{if("action"!==e)throw new Error("unrecognized condaction kind: "+e);u=o.condactionFromAction(t,s,n,r,i)}a.push(u)}catch(i){if(console.error("trigg-behavior","Could not construct "+e+" - "+i.message),n)throw i;a.push(o.placeHolderCondaction(e,t,r,s))}})),a},_mapSharedUnitsToBackEnd:function(t){return t?Object.keys(t).reduce(function(e,n){return e[n]=this.mapSharedUnitToBackEnd(t[n]),e}.bind(this),{}):null},_mapSharedUnitsToFrontEnd:function(t,e){return t?Object.keys(t).reduce(function(n,r){return n[r]=this.mapSharedUnitToFrontEnd(t[r],r,e),n}.bind(this),{}):null},processTriggData:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r];i.browse="browse"===e;try{var o=this.newTrigg(i);n.push(o)}catch(t){console.error("trigg-behavior","Failed to construct trigg: "+i.name),console.error("trigg-behavior",t)}}return"browse"===e?n:n.reverse()},processTriggChanges:function(){var t=document.querySelector("page-trigg");if(t.editedTrigg.browse?t._startTriggConversion(t.editedTrigg):(t.editedCondaction&&(t.editedCondaction.completed||t.editedCondaction.expired)&&t._processCondactionForTrigg(t.editedCondaction),t.editedTrigg.needsConversion&&t.nextConversionStepForTrigg(t.editedTrigg)),t.editedTrigg.needsConversion){t.editedCondaction=t.editedTrigg.getCondaction(t.editedTrigg.conversionKind,t.editedTrigg.conversionIndex,!0);var e=t.editedCondaction.destinationAfterStep("startConvert");TriggiUtils.isPromise(e)?e.then((function(t){window.location.hash=t})).catch((function(t){window.location.hash=t})):e&&(window.location.hash=e)}else t.editedTrigg.conversionDone&&setTimeout((function(){window.location.hash="!/trigg/convert"}),0)},_processCondactionForTrigg:function(t){t.converted&&(delete t.converted,delete t.sharedUnit,delete t.sharedUnits),t.expired?this._removeCondaction(t):this._addOrUpdateCondaction(t)},_addOrUpdateCondaction:function(t){var e=t.index,n=t.hashCode!==t.state.currentHash;switch(t.state.changed=n,t.kind){case"condition":e>=0&&e<this.editedTrigg.conditions.length?this.splice("editedTrigg.conditions",e,1,t):(t.index=this.editedTrigg.conditions.length,this.push("editedTrigg.conditions",t));break;case"action":e>=0&&e<this.editedTrigg.ifActions.length?this.splice("editedTrigg.ifActions",e,1,t):(t.index=this.editedTrigg.ifActions.length,this.push("editedTrigg.ifActions",t))}},_removeCondaction:function(t){var e,n=t.index;switch(t.kind){case"condition":this.splice("editedTrigg.conditions",n,1),e=this.editedTrigg.conditions;break;case"action":this.splice("editedTrigg.ifActions",n,1),e=this.editedTrigg.ifActions}null!==e&&e.slice(n).map((function(t){t.index--}))},_startTriggConversion:function(t){delete t.browse,this.notifyPath("editedTrigg.browse",void 0),this.set("editedTrigg.id","new"),t.needsConversion=!0,t.conversionKind="condition",t.conversionIndex=0},nextConversionStepForTrigg:function(t){switch(t.conversionIndex+=1,t.conversionKind){case"condition":t.conversionIndex>=t.conditions.length&&(t.conversionKind="action",t.conversionIndex=0);break;case"action":t.conversionIndex>=t.ifActions.length&&(delete t.needsConversion,delete t.conversionKind,delete t.conversionIndex,t.conversionDone=!0);break;default:throw new Error("Unexpected conversionKind "+t.conversionKind)}},getListFilterValuesForTrigg:function(t,e){if(!this.generateXHR||"function"!=typeof this.generateXHR)throw new Error("fillListFilteredFields requires RequestBehavior to be present in the parent element");var n=[],r=function(t){t.editorItems&&t.editorItems.forEach((function(t){t.definition&&"list-filter"===t.definition.type&&n.push(t)}))};if(t.conditions.forEach(r),t.ifActions.forEach(r),0===n.length)return e(null);var i,o=0,a=this;function s(t,r){if(t)console.error(a.is,"Could not get data for list-filter item: "+JSON.stringify(n[o]),t);else for(var s=0;s<r.length;s++){var u=r[s];if(u.id===n[o].value){n[o].readable=u.name;break}}if(++o>=n.length)return e(null);i()}(i=function(){var t=n[o];t.definition.sourcePath?a.generateXHR({method:"GET",path:t.definition.sourcePath,noErrorDialog:!0},s):s(null,[])})()}}},function(t,e,n){(function(t){CondactionBehavior=[EditorItemBehavior,TriggBehavior,{properties:{userData:{type:Object,value:{timezone:null,location:null}}},newCondaction:function(t){var e=this;function n(t){this.kind=t,this.state={currentHash:null,changed:!1},this.index=-1,this.completed=!1,this.strings=LocalizedBehavior.localizedStrings("condaction")}return Object.defineProperty(n.prototype,"isNew",{get:function(){return-1===this.index}}),Object.defineProperty(n.prototype,"hashCode",{get:function(){function t(t){if(!t)return"";var e=0,n=t.toString();if(n.length<6)for(var r=n.length,i=0;i<6-r;i++)n+="0";for(var o=0;o<n.length;o++)e=(e<<5)+e^n.charCodeAt(o);return e.toString(16).replace("-","1")}var e=this.editorItems?this.editorItems.reduce((function(t,e){return e&&null!=e.value?t.concat(TriggiUtils.stringify(e.value)):t}),[]):["000000"];return t((e=e.concat(this.selectedUnits.reduce((function(t,e){return t.concat(e?[e.id,e.endpoint]:"")}),[]))).reduce((function(e,n){return e+t(n)}),""))}}),Object.defineProperty(n.prototype,"status",{get:function(){return""}}),Object.defineProperty(n.prototype,"description",{get:function(){return LocalizedBehavior.capitalizeString(TriggiUtils.replaceVariables(this.capability.description,this.variablesDict))}}),Object.defineProperty(n.prototype,"selectedUnits",{get:function(){return this._selectedUnits?this._selectedUnits:this.unit?[this.unit]:[]},set:function(t){this._selectedUnits=t}}),Object.defineProperty(n.prototype,"unitName",{get:function(){if(this.selectedUnits.length>0){var t=this.selectedUnits.map((function(t){return t.title}));return TriggiUtils.joinTitles(t,LocalizedBehavior.localize("and"))}return this.unitType?this.unitType.title:this.channel.unitTypeName||"device"}}),Object.defineProperty(n.prototype,"sharedUnitName",{get:function(){if(!this.unitType.allowAdding)return null;if(this.sharedUnit)return this.sharedUnit.title;if(this.sharedUnits){var t=this.selectedUnits.map((function(t){return t.title}));return TriggiUtils.joinTitles(t,LocalizedBehavior.localize("and"))}return null}}),Object.defineProperty(n.prototype,"variablesDict",{get:function(){var t={unit:this.sharedUnitName&&0===this.selectedUnits.length?this.sharedUnitName:this.unitName};return this.editorItems&&this.editorItems.forEach((function(e){if(void 0===t[e.valueName])t[e.valueName]=e.readable;else{var n=e.combineWith||e.definition.combineWith;if("string"!=typeof n)throw new Error("multiple editorItems with same valueName can only be handled when combineWith string is available.");t[e.valueName]=t[e.valueName]+" "+n+" "+e.readable}})),t}}),Object.defineProperty(n.prototype,"valid",{get:function(){return!(!this.editorItems||"function"!=typeof this.editorItems.reduce)&&this.editorItems.reduce(function(t,e){return!!t&&e.valid}.bind(this),!0)}}),n.prototype.setChanged=function(){this.state.changed=this.state.currentHash!==this.hashCode},n.prototype.getDescription=function(t,n,r){return e._replaceStateVariables(this.description,t,n,r)},n.prototype.getErrorMessage=function(){var t=ChannelStateBehavior.channelError(this.channel);return t?t.title:this.selectedUnits.some((function(t){return t.broken}))?localize("Device or service missing"):""},n.prototype._createDefaultEditorItems=function(){this.capability.args?this.editorItems=this.capability.args.map((function(t){return e.newEditorItem(t)})):this.editorItems=[e.newEditorItem(this.capability)],"condition"===this.kind&&(this.editorItems=e._addExtraItems(this.editorItems,this.capability))},n.prototype.setUnitTypeWithId=function(t){t===this.channel.id&&"condition"===this.kind&&this.channel.subconditionsFromChannelUnit&&(t="subcondition");var e=this.channel.unitTypes[t];if(!e)throw console.error("Unittype could not be set"),new Error("Could not find unitType for identifier: "+t);this.unitType=e},n.prototype.setCapabilityWithId=function(t){var e=this._getCapabilityDict()[t];if("object"!=typeof e)throw console.error("Capability could not be set"),new Error("Could not find capability for identifier: "+t);this.capability=e},n.prototype._getCapabilityDict=function(t){var e=this,n=null;switch(this.kind){case"condition":n=this.unitType?this.unitType.conditionTypes:this.channel.mergedConditionTypes;break;case"action":n=this.unitType?this.unitType.actionTypes:this.channel.mergedActionTypes;break;default:throw new Error("Condaction has unexpected kind: "+this.kind)}var r={};if(!t||this.channel.allowAddingUnits&&!this.channel.allowAddingSpecificUnits)r=n;else{var i=function(t){var n=e.channel.unitTypeById(t);return n&&n.allowAdding};for(var o in n)if(n.hasOwnProperty(o)){var a=!1,s=e.channel.unitsForCondactionType(this.kind,o);if(s&&s.length>0&&(a=!0),!a)a=e.channel.unitTypesWithCondactionType(o,e.kind).some(i);a&&(r[o]=n[o])}}return r},n.prototype.getCapabilities=function(t){return TriggiUtils.arrayFromDict(this._getCapabilityDict(t)).filter((function(t){return t.enabled}))},n.prototype._selectableUnits=function(){return this.channel.mergeUnitTypes?this.channel.unitsForCondactionType(this.kind,this.capability.id):this.channel.unitsOfTypes([this.unitType.id])},n.prototype._selectableUnitTypes=function(){return this.channel.unitTypesForCondaction(this.kind)},n.prototype.selectUnitsForAction=function(t){if(t.unitIds){var e=this;this.selectedUnits=t.unitIds.map((function(t){return e.findUnitById(t,!1)}))}else this.selectedUnits=[]},n.prototype.selectUnitForCondition=function(t){var n=e._unitRefFromCondition(t);this.unit=this.findUnitById(n?n.id:"","subcondition"===t.type)},n.prototype.findUnitById=function(t,e){var n=this.channel.units,r=null;if(t.startsWith(this.channel.id+"-fake-"))return this.channel.getFakeUnitOfType(t.split(this.channel.id+"-fake-")[1]);for(var i=0;i<n.length;i++){var o=n[i];if(o.id===t)return o;"subcondition"===o.type.id&&(r=o)}return e&&r?r:(console.warn("condaction-behaviour","Could not find unit for channel "+this.channel.id+" with id "+t),{title:"("+LocalizedBehavior.localize("Error")+")",type:this.unitType,id:t,broken:!0})},Object.defineProperty(n.prototype,"localizedKind",{get:function(){return this.strings[this.kind]}}),Object.defineProperty(n.prototype,"pageTitle",{get:function(){return(this.isNew?this.strings.title_add:this.strings.title_edit).replace("$kind",this.localizedKind)}}),n.prototype.getDefaultConditionUnit=function(){if("action"===this.kind)return console.error("condaction-behavior","Illegal function for actions"),null;if(!this.hasSharedUnits())return null;var t=this.sharedUnit;return e.channelsById[this.channel.id].unitByTypeAndDetails(this.unitType.id,this.sharedUnit.details)||t},n.prototype.defaultItemForStep=function(t){switch(t){case"unit":return"action"===this.kind?null:this.getDefaultConditionUnit();default:return null}},n.prototype.instructionForStep=function(t){switch(t){case"unit-type":return this.strings.stepUnitType;case"capability":return"action"===this.kind?this.strings.stepActionType:this.strings.stepConditionType;case"unit":return this.unitType&&this.unitType.nameDetails.unitTypeName?this.strings.stepUnit.replace("$unit",this.unitType.nameDetails.unitTypeName):this.unitType?this.strings.stepUnit.replace("$unit",this.unitType.title):this.channel.unitTypeName?this.strings.stepUnit.replace("$unit",this.channel.unitTypeName):this.strings.stepUnknownUnit;default:return this.strings.unknownStep.replace("$step",t)}},n.prototype.itemsForStep=function(t){switch(t){case"unit-type":return this._selectableUnitTypes();case"capability":return this.getCapabilities(!window.localStorage.getItem("godMode"));case"unit":return this._selectableUnits();default:return[{title:t,info:"Lorem ipsum"}]}},n.prototype.selectedItemsForStep=function(t){return"unit"===t?this.selectedUnits:[]},n.prototype.selectItemForStep=function(t,e){switch(t){case"channel":this.channel=e;break;case"unit-type":this.unitType=e;break;case"capability":this.capability=e,this.isNew&&this._createDefaultEditorItems();break;case"unit":if("action"===this.kind)this.selectedUnits=e,this.unitType=e[0].type;else{if(e.copy)return;if(e.allowImplicitCopy)return void this.requestSharedUnit(e);this.unitType=e.type,this.unit=e}}},n.prototype.requestSharedUnit=function(t){var n=e.mapSharedUnitToBackEnd(t);e.fire("iron-signal",{name:"unit-requests",data:{type:"post",requestData:[n],cb:function(t,e){if(t)return console.error("condaction-behavior",t),void(window.location.hash="#!/inspiration");this.selectItemForStep("unit",e[0])}.bind(this)}})},n.prototype.deleteItemForStep=function(t){switch(t){case"channel":delete this.channel;break;case"unit-type":delete this.unitType;break;case"capability":delete this.capability}},n.prototype.backDestinationForStep=function(t){if(this.converted)return function(){e.discardTriggableDialog({onConfirm:function(t,n){n.activateMode("close"),TriggiUtils.sendEvent("cancelledConvert","trigg_flow.inspirationTrigg",null,{AF:!0,GA:!0}),window.location.hash="!/inspiration",e.editedTrigg=null},discardType:localize("trigg")})};var n=this;switch(t){case"unit-type":return function(){return n.deleteItemForStep("channel"),"!/channels/select"};case"unit":return function(){return 0===n.editorItems.length||1===n.editorItems.length&&("none"===n.editorItems[0].definition.type||"const"===n.editorItems[0].definition.type||n.editorItems[0].definition.options&&1===n.editorItems[0].definition.options.length&&!n.editorItems[0].definition.remoteOptionsSource)?n.backDestinationForStep("editValue"):"!/editValue"};case"editValue":return function(){return n.deleteItemForStep("capability"),1===n.getCapabilities(!0).length?n.backDestinationForStep("capability"):"!/select/capability"};case"capability":return function(){return n.deleteItemForStep("unit-type"),1===n._selectableUnitTypes().length||n.channel.mergeUnitTypes?n.backDestinationForStep("unit-type"):"!/select/unit-type"};default:return function(){history.back()}}},n.prototype.destinationAfterStep=function(t,n){var r,i=this;switch(t){case"new":return"!/channels/select";case"edit":return"const"===this.capability.type?i.destinationAfterStep("editValue"):"!/editValue";case"startConvert":if(this.converted=!0,"connected"!==this.channel.status)return"plain"!==this.channel.connectMethod?"!/channel/triggflow/"+this.channel.id:new Promise((function(t,n){e.fire("iron-signal",{name:"channelaccount-requests",data:{type:"connect-plain",requestData:[i.channel.id],cb:function(r,o){r&&(e.fire("iron-signal",{name:"set-header-notification",data:{title:LocalizedBehavior.localize("Something went wrong..."),text:LocalizedBehavior.localize("Unfortunately this trigg can't be used by yourself."),dismissable:!0}}),n("#!/triggs")),i.selectItemForStep("channel",o[0]),t(i.destinationAfterStep("channel"))}.bind(i)}})}));case"convert":return this.valid&&!this.weakValue?this.destinationAfterStep("editValue"):"!/editValue";case"channel":if(this.converted)return this.destinationAfterStep("convert");if(this.channel.mergeUnitTypes)return this.unitType=null,this.destinationAfterStep("unit-type");var o=this._selectableUnitTypes();return 1===o.length?(this.selectItemForStep("unit-type",o[0]),this.destinationAfterStep("unit-type")):"!/select/unit-type";case"unit-type":var a=this.getCapabilities(!0);return 1===a.length?(this.selectItemForStep("capability",a[0]),this.destinationAfterStep("capability")):"!/select/capability";case"capability":if(0===this.editorItems.length)return this.destinationAfterStep("editValue");if(this.editorItems.length>1)return"!/editValue";var s=this.editorItems[0].definition;return"none"===s.type?this.destinationAfterStep("editValue"):"const"===s.type?this.destinationAfterStep("editValue"):s.options&&1===s.options.length&&!s.remoteOptionsSource?(this.editorItems[0].value=this.editorItems[0].definition.options[0].id,this.destinationAfterStep("editValue")):"!/editValue";case"editValue":var u,c=this._selectableUnits();if(1===c.length&&((r=i.channel.allowAddingUnits)&&i.channel.allowAddingSpecificUnits&&(r=i.channel.unitTypesWithCondactionType(i.capability.id,i.kind).some((function(t){var e=i.channel.unitTypeById(t);return e&&e.allowAdding}))),!r))return this.selectItemForStep("unit","action"===this.kind?c:c[0]),this.destinationAfterStep("unit");if("action"===this.kind)return"!/selectMulti/unit";if(this.unitType&&"subcondition"===this.unitType.id){var l=this.unit;return null==l&&(l=this.channel.getSubconditionUnit()),this.selectItemForStep("unit",l),this.destinationAfterStep("unit")}if(0!==c.length||this.sharedUnit){if(this.sharedUnit&&this.sharedUnit.allowImplicitCopy)return this.selectItemForStep("unit",this.getDefaultConditionUnit()),this.destinationAfterStep("unit")}else if(this.unitType?u=this.unitType.id:this.channel.addableUnitTypes&&1===this.channel.addableUnitTypes.length&&(u=this.channel.addableUnitTypes[0].id),u)return"!/add-unit/select/"+this.channel.id+"/"+u;return"!/select/unit";case"unit":return n&&n.shared?(n.copy=!0,"#!/add-unit/copy/"+this.channel.id+"/"+encodeURIComponent(JSON.stringify(n))):(this.completed=!0,this.converted?(e.processTriggChanges(),null):"!/trigg/continue")}},n.prototype.canAddItemsInStep=function(t){return!(!this.channel||"unit"!==t)&&(this.unitType&&(this.unitType.allowAdding||this.unitType.coupledUnit)||this.channel.allowAddingUnits&&(this.channel.mergeUnitTypes||!this.channel.allowAddingSpecificUnits))},n.prototype.localizedItemNameForStep=function(t){return this.channel&&"unit"===t?this.channel.unitTypeName:""},n.prototype.addItemLocationForStep=function(t){if("unit"!==t)throw new Error("Function was called for unexpected step: "+t);var e="!/add-unit/select/"+this.channel.id+"/";if(this.unitType)return e+this.unitType.id;if(this.channel.addableUnitTypes.length>1);else if(1===this.channel.addableUnitTypes.length)return e+this.channel.addableUnitTypes[0].id},n.prototype.canAddItem=function(){return Boolean(this.capability.multi)},n.prototype.canRemoveItem=function(){return this.capability.multi&&this.editorItems.length>1},n.prototype.addEditorItem=function(t){var n=this.editorItems.slice(),r=e.newEditorItem(t.definition);return n.push(r),this.editorItems=n,n},n.prototype.removeEditorItem=function(t){var e=[];return this.editorItems.forEach((function(n){n!==t&&e.push(n)})),this.editorItems=e,e},n.prototype.deepCopy=function(){var t=new n(this.kind);return t.index=this.index,t.capability=this.capability,t.weakValue=this.weakValue,t.customLabels=this.customLabels,t.channel=this.channel,t.unit=this.unit,t.unitType=this.unitType,t.sharedUnit=this.sharedUnit,t.sharedUnitRef=this.sharedUnitRef,t.sharedUnits=this.sharedUnits,t.sharedUnitRefs=this.sharedUnitRefs,t._selectedUnits=this._selectedUnits,t.state=e.extend({},this.state),t.editorItems=this.editorItems.map((function(t){return t.deepCopy()})),t},n.prototype.hasSharedUnits=function(){return"action"===this.kind?this.sharedUnits&&this.sharedUnits.length>0:null!=this.sharedUnit},new n(t)},_replaceStateVariables:function(t,e,n,r){if(!e)return t;var i=Object.keys(e).reduce((function(t,n){var r=e[n];return t[r.endpoint]||(t[r.endpoint]=r),t}),{});n=n||{},r=r||{};var o=/{{([^}]+)\.([^}?]+)[^}]*}}/g;return o.exec(t),t.replace(o,(function(t,e,o){var a="["+this.localize("Unknown variable")+"]",s=n[o];if(s)return"["+s.title+"]";var u=i[e]||r[e];if(null==u)return a;var c=u.type,l=null;return Object.keys(c.conditionTypes).forEach((function(t){c.conditionTypes[t].valueName!==o||c.conditionTypes[t].hideVariable||(l=c.conditionTypes[t].title)})),null==l&&c.variables.forEach((function(t){t.name===o&&(l=t.title)})),null==l?a:"["+l+" - "+u.title+"]"}))},_condactionFromSource:function(t,e,n){var r=this.newCondaction(e);return r.channel=n[t.channel],r.setUnitTypeWithId(t.type),r.setCapabilityWithId(this._getCapabilityId(t,e)),r.weakValue=t.weakValue,r.customLabels=t.customLabels,r},condactionFromCondition:function(t,e,n,r,i){var o=this._condactionFromSource(t,"condition",r);if(o.index=e,n)o.unitReference=this._unitRefFromCondition(t);else{var a=r[t.channel];a.alwaysConnected?o.unit=a.getSubconditionUnit():o.selectUnitForCondition(t)}return o.editorItems=this._editorDataFromCondition(o.capability,t),t.sharedUnitRef&&i&&(o.sharedUnitRef=t.sharedUnitRef,o.sharedUnit=i[t.sharedUnitRef]),o},condactionFromAction:function(t,e,n,r,i){var o=this._condactionFromSource(t,"action",r);if(o.index=e,n?t.endpoints&&"string"==typeof t.endpoints&&(o.unitReference={endpoint:t.endpoints,id:t.unitIds}):o.selectUnitsForAction(t),o.editorItems=this._editorDataFromLeaf(o.capability,t),t.sharedUnitRefs&&i){o.sharedUnitRefs=t.sharedUnitRefs;for(var a=[],s=0;s<t.sharedUnitRefs.length;s++){var u=i[t.sharedUnitRefs[s]];u&&a.push(u)}o.sharedUnits=a}return o},placeHolderCondaction:function(t,e,n,r){var i=this,o=n[e.channel];return{kind:t,index:r,channel:o,state:{},getErrorMessage:function(){return localize("Error")},deepCopy:function(){return this.placeHolderCondaction(t,e,n,r)}.bind(this),getDescription:function(n,r,o){return"condition"===t?e.title:i._replaceStateVariables(e.title,n,r,o)},capability:{variables:[]},description:e.title,broken:!0}},_readConditionBranch:function(t,e,n,r){var i;if(void 0===n?(n=1,r=[1]):r[0]<n&&(r[0]=n),e.args&&Array.isArray(e.args)){i=[];for(var o=0;o<e.args.length;++o)i.push(this._readConditionBranch(t,e.args[o],n+1,r))}else null!=(i=this._unpackConstant("value",e))&&(i=this._reverseTransform(i,this._readTransformers(t)));return 1===n&&r[0]<this._getConditionDepth(t)&&(i=[i]),i},_unitRefFromCondition:function(t){if(t.unitId)return{id:t.unitId,endpoint:t.unit};if(t.args)for(var e=0;e<t.args.length;e++){var n=this._unitRefFromCondition(t.args[e]);if(n)return n}return null},_makeComparatorDefinition:function(t){return{isComparator:!0,type:"select",options:t.comparators,size:t.comparatorSize}},_makePeriodDefinition:function(t){return{isPeriod:!0,type:"select",options:t.periods}},_editorDataFromCondition:function(t,e){var n,r=this;if(t.args)n=this._editorDataFromLeaf(t,e);else{var i=this._readConditionBranch(t,e);n=t.multi?i.map((function(e){return r.newEditorItem(t,e)})):[r.newEditorItem(t,i)]}return this._addExtraItems(n,t,e)},_addExtraItems:function(t,e,n){t=t.slice();var r,i,o=this;function a(a,s){r=a(e),i=n?n[s]:r.options[0].id,t.unshift(o.newEditorItem(r,i))}return e.hasOwnProperty("comparators")&&a(this._makeComparatorDefinition,"op"),e.hasOwnProperty("periods")&&a(this._makePeriodDefinition,"period"),t},_editorDataFromLeaf:function(t,e){var n=this,r=[],i=function(t,e){t=n._reverseTransform(t,e.transformers),r.push(n.newEditorItem(e,t))};return t.args.forEach((function(t){if(t.multi){n._unpackMultipleConstants(t.valueName,e).forEach((function(e){i(e,t)}))}else{var r=n._unpackConstant(t.valueName,e);i(r,t)}})),r},actionFromEditableObject:function(t){var e=this._leafFromEditorData(t.editorItems);return e.channel=t.channel.id,e.type=t.unitType.id,e.action=t.capability.id,e.title=t.description,e.image=t.channel.id,t.unitReference?(e.endpoints=t.unitReference.endpoint,e.unitIds=t.unitReference.id):(e.endpoints=t.selectedUnits.map((function(t){return t.endpoint})),e.unitIds=t.selectedUnits.map((function(t){return t.id}))),e},_leafFromEditorData:function(t){var e=this,n={};return t.forEach((function(t){var r=e._transform(t.value,t.definition.transformers),i=t.definition.multi,o=e._packConstant(r);n[t.definition.valueName]||i?!n[t.definition.valueName]&&i?n[t.definition.valueName]=[o]:n[t.definition.valueName]&&i?n[t.definition.valueName].push(o):console.warn("condaction-behavior","Already have value for non-multi editorItem "+t.definition.valueName):n[t.definition.valueName]=o})),n},conditionFromEditableObject:function(t){var e,n,r=this._createConditionCore1(t);if(r.title=t.description,r.image=t.channel.id,r.channel=t.channel.id,r.conditionName=t.capability.id,"string"==typeof t.capability.valueName&&(r.state=t.capability.valueName),r.type=t.unitType.id,t.unitReference)e=t.unitReference.endpoint,n=t.unitReference.id;else{var i=t.unit;e=i.endpoint==="new_"+i.channel?"new":i.endpoint,n=i.id==="new_"+i.channel?null:i.id}return this._writeChannelAndUnitOnBranch(t.channel.id,e,n,r),t.period&&(r.period=t.period),t.capability.needsLocation&&(r.location=this.userData.location),r},_createConditionCore1:function(t){var e,n=t.editorItems.slice();t.editorItems[0].definition.isPeriod&&(e=t.editorItems.shift().value);var r=this._createConditionCore2(t);return e&&(r.period=e),t.editorItems=n,r},_createConditionCore2:function(t){var e,n;t.editorItems[0].definition.isComparator&&(e=[t.editorItems.shift().value]);if(e||(e=t.capability.operators),t.capability.args){var r=this._leafFromEditorData(t.editorItems);return r.op=e[0],r}return n=t.capability.multi?t.editorItems.map((function(t){return t.value})):t.editorItems[0].value,this._createConditionBranch(n,t.capability,e,0)},_createConditionBranch:function(t,e,n,r){var i={},o=(n=n.slice()).pop();if(i.op=this._selectIfMulti(o,r),"object"!=typeof t)i.state=this._selectIfMulti(e.valueName,r),t=this._transform(t,this._readTransformers(e)),i.value=this._packConstant(t);else{for(var a=[],s=0;s<t.length;s++)a.push(this._createConditionBranch(t[s],e,n,s));i.args=a}return i},_writeChannelAndUnitOnBranch:function(t,e,n,r){if(!r||"object"!=typeof r)throw new Error("branch must be an object");if(r.channel=t,r.unit=e,r.unitId=n,r.hasOwnProperty("args")){if("object"!=typeof r.args||"number"!=typeof r.args.length)throw new Error("args must be an array");var i=this;r.args.forEach((function(r){i._writeChannelAndUnitOnBranch(t,e,n,r)}))}},_packConstant:function(t){return{type:"const",value:t}},_unpackConstant:function(t,e){return e[t.split(".")[0]].value},_unpackMultipleConstants:function(t,e){return e[t.split(".")[0]].map((function(t){return t.value}))},_readTransformers:function(t){return"object"==typeof t.transformers?t.transformers:[]},_transform:function(t,e){if("object"==typeof e&&"number"==typeof e.length){var n=this;e.forEach((function(e){var r=n._transformerByName(e);t=r(t,n.userData)}))}return t},_reverseTransform:function(t,e){if("object"==typeof e&&"number"==typeof e.length)for(var n=e.length-1;n>=0;n--){t=this._reverseTransformerByName(e[n])(t)}return t},_transformerByName:function(t){switch(t){case"timeZone":return function(t,e){return t+" "+e.timezone};case"base64":return this._textToBase64();case"hexColor":return this._colorToHex();default:return function(t){return t}}},_reverseTransformerByName:function(t){switch(t){case"timeZone":return function(t){return t.split(" ")[0]};case"base64":return this._base64ToText();case"hexColor":return this._hexToColor();default:return function(t){return t}}},_textToBase64:function(){return"function"==typeof btoa?btoa:function(e){return new t(e,"utf8").toString("base64")}},_base64ToText:function(){return"function"==typeof atob?atob:function(e){return new t(e,"base64").toString("utf8")}},_colorToHex:function(){return function(t){function e(t){var e=Math.round(t).toString(16);return 1===e.length?"0"+e:e}return"#"+e(t.red)+e(t.green)+e(t.blue)}},_hexToColor:function(){return function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{red:parseInt(e[1],16),green:parseInt(e[2],16),blue:parseInt(e[3],16)}:null}},_selectIfMulti:function(t,e){return"object"==typeof t?t[e]:t},_getConditionDepth:function(t){return t.hasOwnProperty("operators")?t.operators.length:1},_getCapabilityId:function(t,e){if("condition"===e){if("string"==typeof t.conditionName)return t.conditionName}else if("action"===e&&"string"==typeof t.action)return t.action;throw new Error("Could not find capability id for "+e+" in "+JSON.stringify(t))}}]}).call(this,n(3).Buffer)},function(t,e){function n(){return!!window.localStorage.getItem("godMode")}ChannelBehavior={_userStringFields:{type:Object,value:{title:!0,info:!0,explanator:!0,description:!0,unitTypeName:!0,combineWith:!0,placeholder:!0,unit:!0,positiveLabel:!0,negativeLabel:!0}},_userOptionFields:{type:Object,value:{options:!0,comparators:!0,periods:!0}},_newCapability:function(t){var e=this;function n(t){var n=this;TriggiUtils.enumerateDict(t,(function(t,r){Array.isArray(r)&&(r=r.filter((function(t){return!0!==t.hidden}))),n[t]=e._localizedField(t,r)})),this.stagingRank=e._stagingRank(this.staging)}return n.prototype.showAtStagingLevel=function(t){return this.stagingRank>=e._stagingRank(t)},new n(t)},_newCapabilitiesDict:function(t,e){var n={},r=this;return TriggiUtils.enumerateDict(t,(function(t,i){var o=r._newCapability(i);o.showAtStagingLevel(e)&&(o.id=t,o.enabled=!0,n[t]=o)})),n},_newUnit:function(t,e){var n=e.unitTypeById(t.type);return n?{id:t._id,title:t.name,type:n,endpoint:t.endpoint,details:t.details||{},channel:e.id,featured:!Boolean(t.hideFromChannelDetails||n.hideFromChannelDetails)}:null},_newUnitType:function(t,e){var r=this;function i(t){if(this.id=t.id,this.coupledUnit=t.coupledUnit,this.title=TriggiUtils.localizeDict(t.title),this.info=TriggiUtils.localizeDict(t.info),this.image=t.image,this.conditionTypes=r._newCapabilitiesDict(t.conditionTypes,e),this.actionTypes=r._newCapabilitiesDict(t.actionTypes,e),this.hideFromChannelDetails=t.hideFromChannelDetails,this.allowAdding=t.allowAdding||!1,this.allowEditing=t.allowEditing||!1,this.allowDeleting="boolean"==typeof t.allowDeleting?t.allowDeleting:this.allowAdding,this.nameDetails=t.nameDetails||{},t.nameDetails){this.nameDetails.unitTypeName=TriggiUtils.localizeDict(this.nameDetails.unitTypeName);var n=TriggiUtils.localizeDict(this.nameDetails.placeholder);this.nameDetails.placeholder=TriggiUtils.replaceVariables(n,this.nameDetails),this.nameDetails.suffix=TriggiUtils.localizeDict(this.nameDetails.suffix),this.nameDetails.editable&&(this.allowEditing=!0)}this.editorDescriptions=t.editorDescriptions,this.parameters=t.parameters,this.variables=Array.isArray(t.variables)?t.variables.map((function(t){return r._localizedObject(t)})):[]}return i.prototype._conditionTypesArray=null,i.prototype._actionTypesArray=null,i.prototype.condactionTypesArray=function(t){if(!t)return[];var e="_"+t+"TypesArray";return null===this[e]&&(this[e]=TriggiUtils.arrayFromDict(this[t+"Types"])),this[e]},i.prototype.highestStagingRank=function(){var t=0;return this.condactionTypesArray("condition").forEach((function(e){t=Math.max(t,e.stagingRank)})),this.condactionTypesArray("action").forEach((function(e){t=Math.max(t,e.stagingRank)})),t},i.prototype.showAtStagingLevel=function(t){return this.highestStagingRank()>=r._stagingRank(t)},i.prototype.hasEnabledCondactionTypesForKind=function(t){return n()?this.hasCondactionKind(t):this.condactionTypesArray(t).some((function(t){return t.enabled}))},i.prototype.hasCondactionKind=function(t){return this.condactionTypesArray(t).length>0},i.prototype.hasCondactionType=function(t,e){return this.condactionTypesArray(e).some((function(e){return e.id===t}))},i.prototype.getStateTitleByName=function(t){for(var e=0;e<this.variables.length;e++){var n=this.variables[e];if(n.name===t)return n.title}var r=this._conditionTypesArray||[];for(e=0;e<r.length;e++){var i=r[e];if(i.valueName===t)return i.title}return""},i.prototype.hasEnabledCondactionTypes=function(){return this.hasEnabledCondactionTypesForKind("condition")||this.hasEnabledCondactionTypesForKind("action")},new i(t)},newChannel:function(t,e){var r=this;function i(t,e){this.id=t.id,this.account=null,this.status="vacant",this.health=null,this.units=[];var n=this,i=t.channelInfo;function o(t){i[t]&&(n[t]=TriggiUtils.localizeDict(i[t]))}function a(t){void 0!==i[t]&&(n[t]=i[t])}o("title"),o("description"),o("generalUnitTypeName"),o("unitTypeName"),o("buyLink"),a("images"),a("category"),a("connectMethod"),a("alwaysConnected"),a("allowAddingUnits"),a("mergeUnitTypes"),a("color"),a("expertOnly"),a("featured"),a("featuredPosition"),a("triggiNativeData"),a("phonePermissions");var s={};if("object"==typeof t.unitTypes&&"function"==typeof t.unitTypes.forEach){var u=null;t.unitTypes.forEach((function(i){i.id===t.id&&(u=r.subconditionUnitTypeDataFromChannelUnitTypeData(i));var o=r._newUnitType(i,e);o.allowAdding&&(n.allowAddingUnits=!0),(o.hasEnabledCondactionTypes()||o.id!==t.id)&&(s[i.id]=o)}));var c=Object.keys(s).reduce((function(t,e){var n=s[e];return n.coupledUnit&&(n=s[n.coupledUnit]),n.allowAdding?t+1:t}),0);n.allowAddingSpecificUnits=c!==Object.keys(s).length,n.allowAddingUnits&&t.unitTypes.length!==c&&(n.allowAddingSpecificUnits=!1),u&&null==s.subcondition&&(s.subcondition=r._newUnitType(u,e),this.subconditionsFromChannelUnit=!0)}this.unitTypes=s,this.addableUnitTypes=this.unitTypesArray.filter((function(t){return t.allowAdding})),this.shouldReconnect=!1,this.showUnits=!1}i.prototype.getShowUnits=function(){return!!n()||this.account&&(this.allowAddingUnits||this.featuredUnits.length>0)},i.prototype.getShouldReconnect=function(){return"broken"===this.health||"authFailed"===this.health},i.prototype.enableCapabilities=function(){this.unitTypesArray.forEach((function(t){var e=t.condactionTypesArray("action"),n=t.condactionTypesArray("condition");e.concat(n).forEach((function(t){t.scopes&&(t.enabled=!0)}))}))},i.prototype.disableCapabilitiesByScopes=function(t){this.unitTypesArray.forEach((function(e){var n=e.condactionTypesArray("action"),r=e.condactionTypesArray("condition");n.concat(r).forEach((function(e){e.scopes&&(e.enabled=e.scopes.some((function(e){return Array.isArray(e)?e.every((function(e){return t[e]||!1})):t[e]||!1})))}))}))},i.prototype.unitTypeById=function(t){return this.unitTypes[t]},i.prototype.getSelfOrCoupledUnitTypeById=function(t){var e=this.unitTypeById(t);return e&&e.coupledUnit?this.unitTypeById(e.coupledUnit):e},Object.defineProperty(i.prototype,"featuredUnits",{get:function(){return this.units.filter((function(t){return t.featured}))}}),i.prototype.newUnit=function(t){return r._newUnit(t,this)},i.prototype.updateUnits=function(t){var e=[],n=this;t.forEach((function(t){var i=r._newUnit(t,n);i&&e.push(i)}));var i=this.getSubconditionUnit();i&&e.push(i),this.units=e},i.prototype.getSubconditionUnit=function(){return this.newUnit({_id:"new_"+this.id,type:"subcondition",endpoint:"new_"+this.id,name:this.id+" subcondition",hideFromChannelDetails:!0})};var o=null;Object.defineProperty(i.prototype,"unitTypesArray",{get:function(){return null===o&&(o=TriggiUtils.arrayFromDict(this.unitTypes)),o}});var a=null;Object.defineProperty(i.prototype,"connectedUnitTypeIds",{get:function(){if(null===a){var t={};this.units.forEach((function(e){t[e.type.id]=!0})),a=t}return a}});var s=null;function u(t,e){var n={};return t.forEach((function(t){e(t).forEach((function(t){n[t.id]=t}))})),n}return Object.defineProperty(i.prototype,"connectedUnitTypes",{get:function(){if(n())return this.unitTypesArray;if(null==s)if(!this.allowAddingUnits||!this.mergeUnitTypes&&this.allowAddingSpecificUnits){var t=this.connectedUnitTypeIds;s=this.unitTypesArray.filter((function(e){return e.allowAdding||t[e.id]}))}else s=this.unitTypesArray;return s}}),i.prototype.unitsChanged=function(){a=null,s=null},i.prototype.unitTypesWithCondactionType=function(t,e){return this.connectedUnitTypes.reduce((function(n,r){return r.hasCondactionType(t,e)&&n.push(r.id),n}),[])},i.prototype._unitTypesFor_condition=null,i.prototype._unitTypesFor_action=null,i.prototype.unitTypesForCondaction=function(t){var e="_unitTypesFor_"+t;return n()?this.unitTypesArray.filter((function(e){return e.hasCondactionKind(t)})):(null===this[e]&&(this[e]=this.connectedUnitTypes.filter((function(e){return e.hasEnabledCondactionTypesForKind(t)}))),this[e])},i.prototype.unitTypesAtLevel=function(t){return this.unitTypesArray.filter((function(e){return e.showAtStagingLevel(t)}))},i.prototype._highestStagingRank=null,i.prototype.highestStagingRank=function(){if(null===this._highestStagingRank){var t=0;this.unitTypesArray.forEach((function(e){t=Math.max(t,e.highestStagingRank())})),this._highestStagingRank=t}return this._highestStagingRank},i.prototype.showAtStagingLevel=function(t){return this.highestStagingRank()>=r._stagingRank(t)},i.prototype.hasUnitTypes=function(){return this.unitTypesArray.length>0},i.prototype.mightHaveUnitOfType=function(t){return!!this.unitTypes[t]&&(!this.account||(!!this.unitTypes[t].allowAdding||(n()||Boolean(this.connectedUnitTypeIds[t]))))},i.prototype.hasEnabledUnitTypesForKind=function(t){var e=this;return this.unitTypesArray.some((function(n){return n.hasEnabledCondactionTypesForKind(t)&&e.mightHaveUnitOfType(n.id)}))},i.prototype.unitByTypeAndDetails=function(t,e){if(!e)return null;var n,r=this.unitsOfTypes([t]);if(e.internalId){for(var i=0;i<r.length;i++)if((n=r[i]).details.internalId===e.internalId)return n;return null}if(e.location){for(var o=0;o<r.length;o++)if((n=r[o]).details&&n.details.location.latitude===e.location.latitude&&n.details.location.longitude===e.location.longitude&&(null==e.radius||n.details.radius===e.radius))return n;return null}return null},i.prototype.getRequirementsErrors=function(t,e){t=t||{};for(var n=[],r={},i=this.account||"vacant"!==this.status,o=i?TriggiUtils.dictFromArray(this.connectedUnitTypes,"id"):{},a=!1,s=Object.keys(t),u=0;u<s.length;u++){var c=s[u],l=this.unitTypes[c];if(!l){console.error("channel-behavior","Missing unitType "+c),a=!0;break}for(var h=t[c],f=Object.keys(h),p=0;p<f.length;p++){var d=f[p],g="condition"===h[d]?l.conditionTypes[d]:l.actionTypes[d];if(!g||i&&g.scopes&&!g.enabled){console.error("channel-behavior","Missing "+(g?"condactionType ":"scope for ")+d),a=!0;break}}i&&(o[c]||(console.error("channel-behavior","No connected units for unitType "+c),n.push(localize("No $1 found",l.title)),r[c]=!0))}return a?[localize("Missing information. Trigg cannot be used")]:(!0===e&&Object.keys(r).length<s.length&&(n=[]),n)},i.prototype.getFakeUnitOfType=function(t){return{channel:this.id,id:this.id+"-fake-"+t,internalId:"fake-"+t,title:"fake "+t,featured:!0,endpoint:this.id+".fake-"+t,type:this.unitTypes[t]}},i.prototype.unitsOfType=function(t){return this.unitsOfTypes([t])},i.prototype.unitsOfTypes=function(t){var e={};t.forEach((function(t){e[t]=!0}));var r=[];if(n()){var i=this;r=t.filter((function(t){return t!==i.id||0===i.units.length})).map((function(t){return i.getFakeUnitOfType(t)}))}return this.units.filter((function(t){return e[t.type.id]})).concat(r)},i.prototype.unitsForCondactionType=function(t,e){return this.unitsOfTypes(this.unitTypesWithCondactionType(e,t))},i.prototype.unitById=function(t){return this._findUnit("id",t)},i.prototype.unitByRoutingKey=function(t){for(var e=this.units,n=0;n<e.length;n++){var r=e[n].endpoint;if(null!==r&&r.endsWith(t))return e[n]}return console.error("channel-behavior","Unit not found by routing key "+t),null},i.prototype.unitByEndpoint=function(t){return this._findUnit("endpoint",t)},i.prototype._findUnit=function(t,e){for(var n=this.units,r=0;r<n.length;r++)if(n[r][t]===e)return n[r];return console.error("channel-behavior","Unit not found by "+t+" "+e),null},i.prototype._getImgSrc=function(t){return window.localStorage.server+"/api/v1/files/"+t},Object.defineProperty(i.prototype,"headerImgSrc",{get:function(){return this.images?this._getImgSrc(this.images.header):null}}),Object.defineProperty(i.prototype,"iconSrc",{get:function(){return this.images?this._getImgSrc(this.images.logo):null}}),i.prototype.defaultItemForStep=function(t,e){switch(t){case"unit":return e&&e.getDefaultUnit?e.getDefaultUnit():null;default:return null}},i.prototype.instructionForStep=function(t,e){switch(t){case"unit-type":return localize("Select $1",this.generalUnitTypeName);case"unit":var n=this.unitTypeById(e.unitTypeId),r=n.nameDetails.unitTypeName?n.nameDetails.unitTypeName:n.title;return localize("Select $1",r);default:return localize("Select $1","item")}},i.prototype.itemsForStep=function(t,e){switch(t){case"unit-type":return n()?this.unitTypesArray:this.addableUnitTypes;case"unit":return this.unitsOfTypes([e.unitTypeId]);default:return console.error("channel-behavior","Unknown step: "+t+", can't return items"),[]}},i.prototype.destinationAfterStep=function(t,e,n){if(n&&n.destinationAfterStep)return n.destinationAfterStep(t,e);switch(t){case"unit-type":return"#!/add-unit/add/"+this.id+"/"+e.id;default:return console.error("channel-behavior","Unknown step: "+t+", can't determine coming destination"),"#!/channel/"+this.id}},i.prototype.localizedItemNameForStep=function(t,e){switch(t){case"unit-type":return this.generalUnitTypeName||this.unitTypeName;case"unit":var n=this.unitTypeById(e.unitTypeId);return n.nameDetails.unitTypeName?n.nameDetails.unitTypeName:n.title;default:return console.error("channel-behavior","Unknown step: "+t+", can't determine item name"),"item"}},i.prototype.canAddItemsInStep=function(t,e){switch(t){case"unit-type":return!1;case"unit":return e.unitAllowAdding;default:return console.error("channel-behavior","Unknown step: "+t+", can't determine if item can be added"),!1}},i.prototype.addItemLocationForStep=function(t,e){switch(t){case"unit":return"#!/add-unit/select/"+this.id+"/"+e.unitTypeId;default:return console.error("channel-behavior","Unknown step: "+t+", can't determine add item destination"),"#!/channel/"+this.id}},i.prototype.selectItemForStep=function(t,e,n){switch(t){case"unit-type":break;case"unit":e.copy||(n.selectedUnit=e);break;default:console.error("channel-behavior","Unknown step: "+t+", can't select item")}},i.prototype._mergedConditionTypes=null,Object.defineProperty(i.prototype,"mergedConditionTypes",{get:function(){return null===this._mergedConditionTypes&&(this._mergedConditionTypes=u(this.connectedUnitTypes,(function(t){return t.condactionTypesArray("condition")}))),this._mergedConditionTypes}}),Object.defineProperty(i.prototype,"featuredConditionTypes",{get:function(){return TriggiUtils.arrayFromDict(u(this.unitTypesArray,(function(t){return t.condactionTypesArray("condition")})))}}),i.prototype._mergedActionTypes=null,Object.defineProperty(i.prototype,"mergedActionTypes",{get:function(){return null===this._mergedActionTypes&&(this._mergedActionTypes=u(this.connectedUnitTypes,(function(t){return t.condactionTypesArray("action")}))),this._mergedActionTypes}}),Object.defineProperty(i.prototype,"featuredActionTypes",{get:function(){return TriggiUtils.arrayFromDict(u(this.unitTypesArray,(function(t){return t.condactionTypesArray("action")})))}}),new i(t,e)},mapSharedUnitToFrontEnd:function(t,e,n){if(!t)return null;var r=n[t.channel];return{id:e,endpoint:"shared."+e,shared:!0,allowImplicitCopy:t.allowImplicitCopy,title:t.name,details:this.extend({},t.details),type:r.unitTypeById(t.type),channel:t.channel}},mapSharedUnitToBackEnd:function(t){return{allowImplicitCopy:t.allowImplicitCopy,name:t.title,details:t.details,type:t.type.id,channel:t.channel}},subconditionUnitTypeDataFromChannelUnitTypeData:function(t){var e,n={},r=t.conditionTypes,i={},o=!1;for(e in r)r.hasOwnProperty(e)&&r[e].isSubcondition&&(i[e]=r[e],delete r[e],o=!0);if(!o)return null;var a={conditionTypes:!0,actionTypes:!0,id:!0,hideFromChannelDetails:!0};for(e in t)t.hasOwnProperty(e)&&!a[e]&&(n[e]=t[e]);return n.id="subcondition",n.hideFromChannelDetails=!0,n.conditionTypes=i,n},_stagingRank:function(t){return{draft:2,custom:3,development:4,acceptance:6,production:8,featured:10}[t]},_localizedFieldRecursive:function(t){var e={},n=this;return TriggiUtils.enumerateDict(t,(function(t,r){e[t]=n._localizedField(t,r)})),e},_localizedField:function(t,e){var n=this;return"args"===t||"variables"===t?e.map((function(t){return n._localizedFieldRecursive(t)})):"messages"===t?this._localizedObject(e):this._userStringFields[t]?TriggiUtils.localizeDict(e):this._userOptionFields[t]?e.map((function(t){return n._localizedFieldRecursive(t)})):e},_localizedObject:function(t){var e={};return TriggiUtils.enumerateDict(t,(function(t,n){e[t]=TriggiUtils.localizeDict(n)})),e}}},function(t,e){function n(){return LocalizedBehavior._localizeWithVariables(arguments)}"object"!=typeof TriggiLocalizedTexts&&(TriggiLocalizedTexts={}),LocalizedBehavior={_language:null,_twoDigitLocale:"",get language(){return null==this._language&&(this.language=window.localStorage.language||document.documentElement.lang),this._language},get twoDigitLocale(){return null==this._language&&(this.language=window.localStorage.language||document.documentElement.lang),this._twoDigitLocale},get availableLanguages(){return[{name:"en-US",title:"English"},{name:"nl-NL",title:"Nederlands"},{name:"fr-FR",title:"Français"},{name:"de-DE",title:"Deutsch"},{name:"es-ES",title:"Español"}]},set language(t){document.documentElement.lang=t,(!t||t.length<2)&&(t="en"),this._language=t,this._twoDigitLocale=-1!==t.indexOf("-")?t.split("-")[0]:t},localize:function(){return this._localizeWithVariables(arguments)},localizedStrings:function(t){var e=TriggiLocalizedTexts[this.language];return null==e&&(e=TriggiLocalizedTexts[this.twoDigitLocale]),e&&e[t]?e[t]:TriggiLocalizedTexts.en[t]},partnerDictionary:function(){return window.localStorage.getItem("partnerDictionary")&&"undefined"!==window.localStorage.getItem("partnerDictionary")?JSON.parse(window.localStorage.getItem("partnerDictionary")):{}},localizedDate:function(t){var e=this.localizedStrings("datetime").monthsShortArray;return t.getDate()+" "+e[t.getMonth()]+" "+t.getFullYear()},capitalizeString:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},localizedTimePassed:function(t,e){var r=this.localizedStrings("datetime").units,i=this.localizedStrings("datetime").daysArray,o=this.localizedStrings("datetime").monthsArray,a=this.localizedStrings("datetime").monthsShortArray;if(0==t)return this.capitalizeString(r.never);var s=new Date(t),u=new Date,c=new Date;c.setDate(c.getDate()-1);var l=u-t,h=Math.floor(l/1e3),f=Math.floor(h/60),p=Math.floor(f/60),d=Math.floor(p/24);function g(t){return t<10?"0"+t:t}var b=g(s.getMinutes()),y=g(s.getHours()),m=g(s.getDate());return!e&&h<=0?this.capitalizeString(n("now")):e||1!==h?!e&&h<60?this.capitalizeString(n("$1 ago",h+" "+r.seconds)):e||1!==f?!e&&f<60?this.capitalizeString(n("$1 ago",f+" "+r.minutes)):s.toDateString()===u.toDateString()?y+":"+b:s.toDateString()===c.toDateString()?this.capitalizeString(r.yesterday)+", "+y+":"+b:d<7?this.capitalizeString(i[s.getDay()])+", "+y+":"+b:s.getFullYear()===u.getFullYear()?m+" "+o[s.getMonth()]+", "+y+":"+b:m+" "+a[s.getMonth()]+" "+s.getFullYear()+", "+y+":"+b:this.capitalizeString(n("$1 ago",f+" "+r.minute)):this.capitalizeString(n("$1 ago",h+" "+r.second))},languageIsSupported:function(t){var e=-1!==t.indexOf("-")?t.split("-")[0]:t;return void 0!==TriggiLocalizedTexts[t]||void 0!==TriggiLocalizedTexts[e]},_localizeWithVariables:function(t){var e=this._localizeString(t[0]);return t.length>1&&(e=this._replaceVariables(e,t)),e},_localizeString:function(t){if("string"!=typeof t)return"";var e=this.partnerDictionary(),n=this.localizedStrings("general");return e&&e[t]?"string"==typeof e[t][this.twoDigitLocale]?e[t][this.twoDigitLocale]:"string"==typeof e[t].en?e[t].en:void 0:n&&"string"==typeof n[t]?n[t]:t},_replaceVariables:function(t,e){for(var n=1;n<e.length;n++){var r=new RegExp("\\$"+n,"g");t=t.replace(r,e[n])}return t}}},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"F",(function(){return y})),n.d(r,"T",(function(){return m})),n.d(r,"__",(function(){return v})),n.d(r,"add",(function(){return k})),n.d(r,"addIndex",(function(){return E})),n.d(r,"adjust",(function(){return R})),n.d(r,"all",(function(){return L})),n.d(r,"allPass",(function(){return ht})),n.d(r,"always",(function(){return ft})),n.d(r,"and",(function(){return pt})),n.d(r,"any",(function(){return gt})),n.d(r,"anyPass",(function(){return bt})),n.d(r,"ap",(function(){return yt})),n.d(r,"aperture",(function(){return wt})),n.d(r,"append",(function(){return Ct})),n.d(r,"apply",(function(){return Tt})),n.d(r,"applySpec",(function(){return Bt})),n.d(r,"applyTo",(function(){return St})),n.d(r,"ascend",(function(){return _t})),n.d(r,"assoc",(function(){return Et})),n.d(r,"assocPath",(function(){return Ut})),n.d(r,"binary",(function(){return Ot})),n.d(r,"bind",(function(){return V})),n.d(r,"both",(function(){return Lt})),n.d(r,"call",(function(){return Nt})),n.d(r,"chain",(function(){return qt})),n.d(r,"clamp",(function(){return Gt})),n.d(r,"clone",(function(){return Ht})),n.d(r,"comparator",(function(){return Kt})),n.d(r,"complement",(function(){return $t})),n.d(r,"compose",(function(){return re})),n.d(r,"composeK",(function(){return ie})),n.d(r,"composeP",(function(){return se})),n.d(r,"composeWith",(function(){return pe})),n.d(r,"concat",(function(){return Oe})),n.d(r,"cond",(function(){return De})),n.d(r,"construct",(function(){return Ie})),n.d(r,"constructN",(function(){return xe})),n.d(r,"contains",(function(){return Le})),n.d(r,"converge",(function(){return je})),n.d(r,"countBy",(function(){return ze})),n.d(r,"curry",(function(){return jt})),n.d(r,"curryN",(function(){return _})),n.d(r,"dec",(function(){return qe})),n.d(r,"defaultTo",(function(){return Ge})),n.d(r,"descend",(function(){return Ve})),n.d(r,"difference",(function(){return He})),n.d(r,"differenceWith",(function(){return Ke})),n.d(r,"dissoc",(function(){return Je})),n.d(r,"dissocPath",(function(){return Ze})),n.d(r,"divide",(function(){return Qe})),n.d(r,"drop",(function(){return en})),n.d(r,"dropLast",(function(){return sn})),n.d(r,"dropLastWhile",(function(){return ln})),n.d(r,"dropRepeats",(function(){return gn})),n.d(r,"dropRepeatsWith",(function(){return dn})),n.d(r,"dropWhile",(function(){return yn})),n.d(r,"either",(function(){return vn})),n.d(r,"empty",(function(){return wn})),n.d(r,"endsWith",(function(){return Tn})),n.d(r,"eqBy",(function(){return kn})),n.d(r,"eqProps",(function(){return An})),n.d(r,"equals",(function(){return ve})),n.d(r,"evolve",(function(){return Bn})),n.d(r,"filter",(function(){return Pe})),n.d(r,"find",(function(){return _n})),n.d(r,"findIndex",(function(){return Pn})),n.d(r,"findLast",(function(){return Un})),n.d(r,"findLastIndex",(function(){return On})),n.d(r,"flatten",(function(){return Dn})),n.d(r,"flip",(function(){return xn})),n.d(r,"forEach",(function(){return In})),n.d(r,"forEachObjIndexed",(function(){return Ln})),n.d(r,"fromPairs",(function(){return jn})),n.d(r,"groupBy",(function(){return Nn})),n.d(r,"groupWith",(function(){return Mn})),n.d(r,"gt",(function(){return zn})),n.d(r,"gte",(function(){return qn})),n.d(r,"has",(function(){return Vn})),n.d(r,"hasIn",(function(){return Wn})),n.d(r,"hasPath",(function(){return Gn})),n.d(r,"head",(function(){return ce})),n.d(r,"identical",(function(){return Yn})),n.d(r,"identity",(function(){return he})),n.d(r,"ifElse",(function(){return Hn})),n.d(r,"inc",(function(){return Kn})),n.d(r,"includes",(function(){return Jn})),n.d(r,"indexBy",(function(){return $n})),n.d(r,"indexOf",(function(){return Xn})),n.d(r,"init",(function(){return Zn})),n.d(r,"innerJoin",(function(){return Qn})),n.d(r,"insert",(function(){return tr})),n.d(r,"insertAll",(function(){return er})),n.d(r,"intersection",(function(){return ir})),n.d(r,"intersperse",(function(){return or})),n.d(r,"into",(function(){return hr})),n.d(r,"invert",(function(){return fr})),n.d(r,"invertObj",(function(){return pr})),n.d(r,"invoker",(function(){return dr})),n.d(r,"is",(function(){return gr})),n.d(r,"isEmpty",(function(){return br})),n.d(r,"isNil",(function(){return Rt})),n.d(r,"join",(function(){return yr})),n.d(r,"juxt",(function(){return mr})),n.d(r,"keys",(function(){return ot})),n.d(r,"keysIn",(function(){return vr})),n.d(r,"last",(function(){return pn})),n.d(r,"lastIndexOf",(function(){return wr})),n.d(r,"length",(function(){return Tr})),n.d(r,"lens",(function(){return kr})),n.d(r,"lensIndex",(function(){return Ar})),n.d(r,"lensPath",(function(){return Br})),n.d(r,"lensProp",(function(){return Sr})),n.d(r,"lift",(function(){return It})),n.d(r,"liftN",(function(){return xt})),n.d(r,"lt",(function(){return _r})),n.d(r,"lte",(function(){return Er})),n.d(r,"map",(function(){return at})),n.d(r,"mapAccum",(function(){return Pr})),n.d(r,"mapAccumRight",(function(){return Rr})),n.d(r,"mapObjIndexed",(function(){return Ur})),n.d(r,"match",(function(){return Fr})),n.d(r,"mathMod",(function(){return Or})),n.d(r,"max",(function(){return j})),n.d(r,"maxBy",(function(){return Dr})),n.d(r,"mean",(function(){return Ir})),n.d(r,"median",(function(){return Lr})),n.d(r,"memoizeWith",(function(){return jr})),n.d(r,"merge",(function(){return Nr})),n.d(r,"mergeAll",(function(){return Mr})),n.d(r,"mergeDeepLeft",(function(){return Gr})),n.d(r,"mergeDeepRight",(function(){return Vr})),n.d(r,"mergeDeepWith",(function(){return Wr})),n.d(r,"mergeDeepWithKey",(function(){return qr})),n.d(r,"mergeLeft",(function(){return Yr})),n.d(r,"mergeRight",(function(){return Hr})),n.d(r,"mergeWith",(function(){return Kr})),n.d(r,"mergeWithKey",(function(){return zr})),n.d(r,"min",(function(){return Jr})),n.d(r,"minBy",(function(){return $r})),n.d(r,"modulo",(function(){return Xr})),n.d(r,"move",(function(){return Zr})),n.d(r,"multiply",(function(){return Qr})),n.d(r,"nAry",(function(){return Ft})),n.d(r,"negate",(function(){return ti})),n.d(r,"none",(function(){return ei})),n.d(r,"not",(function(){return Jt})),n.d(r,"nth",(function(){return ue})),n.d(r,"nthArg",(function(){return ni})),n.d(r,"o",(function(){return ri})),n.d(r,"objOf",(function(){return sr})),n.d(r,"of",(function(){return oi})),n.d(r,"omit",(function(){return ai})),n.d(r,"once",(function(){return si})),n.d(r,"or",(function(){return mn})),n.d(r,"otherwise",(function(){return ci})),n.d(r,"over",(function(){return hi})),n.d(r,"pair",(function(){return fi})),n.d(r,"partial",(function(){return di})),n.d(r,"partialRight",(function(){return gi})),n.d(r,"partition",(function(){return bi})),n.d(r,"path",(function(){return st})),n.d(r,"pathEq",(function(){return yi})),n.d(r,"pathOr",(function(){return mi})),n.d(r,"pathSatisfies",(function(){return vi})),n.d(r,"pick",(function(){return wi})),n.d(r,"pickAll",(function(){return Ci})),n.d(r,"pickBy",(function(){return Ti})),n.d(r,"pipe",(function(){return ee})),n.d(r,"pipeK",(function(){return ki})),n.d(r,"pipeP",(function(){return ae})),n.d(r,"pipeWith",(function(){return fe})),n.d(r,"pluck",(function(){return ct})),n.d(r,"prepend",(function(){return Ai})),n.d(r,"product",(function(){return Bi})),n.d(r,"project",(function(){return _i})),n.d(r,"prop",(function(){return ut})),n.d(r,"propEq",(function(){return Ei})),n.d(r,"propIs",(function(){return Pi})),n.d(r,"propOr",(function(){return Ri})),n.d(r,"propSatisfies",(function(){return Ui})),n.d(r,"props",(function(){return Fi})),n.d(r,"range",(function(){return Oi})),n.d(r,"reduce",(function(){return lt})),n.d(r,"reduceBy",(function(){return Me})),n.d(r,"reduceRight",(function(){return Di})),n.d(r,"reduceWhile",(function(){return xi})),n.d(r,"reduced",(function(){return Ii})),n.d(r,"reject",(function(){return Re})),n.d(r,"remove",(function(){return $e})),n.d(r,"repeat",(function(){return ji})),n.d(r,"replace",(function(){return Ni})),n.d(r,"reverse",(function(){return ne})),n.d(r,"scan",(function(){return Mi})),n.d(r,"sequence",(function(){return zi})),n.d(r,"set",(function(){return qi})),n.d(r,"slice",(function(){return Qt})),n.d(r,"sort",(function(){return Gi})),n.d(r,"sortBy",(function(){return Vi})),n.d(r,"sortWith",(function(){return Wi})),n.d(r,"split",(function(){return Yi})),n.d(r,"splitAt",(function(){return Hi})),n.d(r,"splitEvery",(function(){return Ki})),n.d(r,"splitWhen",(function(){return Ji})),n.d(r,"startsWith",(function(){return $i})),n.d(r,"subtract",(function(){return Xi})),n.d(r,"sum",(function(){return xr})),n.d(r,"symmetricDifference",(function(){return Zi})),n.d(r,"symmetricDifferenceWith",(function(){return Qi})),n.d(r,"tail",(function(){return te})),n.d(r,"take",(function(){return rn})),n.d(r,"takeLast",(function(){return Cn})),n.d(r,"takeLastWhile",(function(){return to})),n.d(r,"takeWhile",(function(){return no})),n.d(r,"tap",(function(){return io})),n.d(r,"test",(function(){return oo})),n.d(r,"then",(function(){return ao})),n.d(r,"times",(function(){return Li})),n.d(r,"toLower",(function(){return so})),n.d(r,"toPairs",(function(){return uo})),n.d(r,"toPairsIn",(function(){return co})),n.d(r,"toString",(function(){return Fe})),n.d(r,"toUpper",(function(){return lo})),n.d(r,"transduce",(function(){return ho})),n.d(r,"transpose",(function(){return fo})),n.d(r,"traverse",(function(){return po})),n.d(r,"trim",(function(){return bo})),n.d(r,"tryCatch",(function(){return yo})),n.d(r,"type",(function(){return Wt})),n.d(r,"unapply",(function(){return mo})),n.d(r,"unary",(function(){return vo})),n.d(r,"uncurryN",(function(){return wo})),n.d(r,"unfold",(function(){return Co})),n.d(r,"union",(function(){return To})),n.d(r,"unionWith",(function(){return Ao})),n.d(r,"uniq",(function(){return rr})),n.d(r,"uniqBy",(function(){return nr})),n.d(r,"uniqWith",(function(){return ko})),n.d(r,"unless",(function(){return Bo})),n.d(r,"unnest",(function(){return So})),n.d(r,"until",(function(){return _o})),n.d(r,"update",(function(){return Xe})),n.d(r,"useWith",(function(){return Si})),n.d(r,"values",(function(){return kt})),n.d(r,"valuesIn",(function(){return Eo})),n.d(r,"view",(function(){return Ro})),n.d(r,"when",(function(){return Uo})),n.d(r,"where",(function(){return Fo})),n.d(r,"whereEq",(function(){return Oo})),n.d(r,"without",(function(){return Do})),n.d(r,"xprod",(function(){return xo})),n.d(r,"zip",(function(){return Io})),n.d(r,"zipObj",(function(){return Lo})),n.d(r,"zipWith",(function(){return jo})),n.d(r,"thunkify",(function(){return No}));var i=200;const o={en:{error_unk_req:"An unknown error occurred during the request.",error_accesstoken:"Access token required.",error_body_valid:"The body is not valid"}};var a=class{static string(t,e="en"){return o[e][t]}};const s={registerUser:{method:"POST",path:"/api/v1/user/account?response_type=bearer"},getBundles:{method:"GET",path:"/api/v2/bundles/browse"},getBundle:{method:"GET",path:"/api/v2/bundles/browse/{bundleId}"},getBundlesInstance:{method:"GET",path:"/api/v2/bundles"},postBundleInstance:{method:"POST",path:"/api/v2/bundles",body:["bundleId","name","wizardOutput"]},removeBundleInstance:{method:"DELETE",path:"/api/v2/bundles/{bundleId}"},getTrigg:{method:"GET",path:"/api/v2/triggs/{triggId}"},getUnits:{method:"GET",path:"/api/v1/units"},startInitChannel:{method:"GET",path:"/api/v1/accessControl/proxy/channel/{channelId}/ops/signin"},getChannelsDescription:{method:"GET",path:"/api/v1/channel/descriptions"},postChannelAccount:{method:"POST",path:"/api/v1/channelaccounts"}};var u=class{constructor(t){this.baseUrl=t}_makeRequest(t,e,n,r){return new Promise((o,s)=>{var u=new XMLHttpRequest;u.open(t,this.baseUrl+e),n&&u.setRequestHeader("Authorization","Bearer "+n),u.onload=function(){try{let t=u.response;u.getResponseHeader("Content-Type").includes("application/json")&&(t=JSON.parse(t)),u.status===i?o(t):s(new Error({body:t,status:u.status}))}catch(t){s(new Error({body:u.responseText,status:u.status}))}},u.onerror=function(){s(new Error({body:a.string("error_unk_req"),status:u.status}))},r&&(u.setRequestHeader("Content-Type","application/json"),u.setRequestHeader("Accept","application/json")),u.send(null!=r?JSON.stringify(r):void 0)})}_makeCall(t,e=null,n=null){var r=t.path;const i=n?n.body:null;return n&&n.params&&(r=this._createPath(t.path,n.params)),n&&n.query&&(r=this._addQueryParams(r,n.query)),this._makeRequest(t.method,r,e,i)}_createPath(t,e){return t.replace(/{([^\s}]*)}/g,(function(t,n){return"object"==typeof e[n]?JSON.stringify(e[n]):e[n]}))}_addQueryParams(t,e){return t+="?",Object.keys(e).forEach((function(n){t+=`${n}=${e[n]}&`})),t}registerUser(t){return this._makeCall(s.registerUser,null,t)}userTriggs(t){return this._makeCall(s.getTriggs,t)}userTrigg(t,e){return this._makeCall(s.getTrigg,t,e)}partnerBundles(t,e){return this._makeCall(s.getBundles,t,e)}userBundles(t){return this._makeCall(s.getBundlesInstance,t)}bundleInputs(t,e){return this._makeCall(s.getBundle,t,e)}getUnits(t,e){return this._makeCall(s.getUnits,t,e)}startInitChannel(t,e){return this._makeCall(s.startInitChannel,t,e)}createBundleInstance(t,e){return this._validBody(s.postBundleInstance.body,e)?this._makeCall(s.postBundleInstance,t,e):new Promise((t,e)=>{e(new Error({body:a.string("error_body_valid"),status:400}))})}getChannelsDescription(t,e){return this._makeCall(s.getChannelsDescription,t,e)}_validBody(t,e){return t.forEach(t=>{if(!e.hasOwnProperty(t))return!1}),!0}getRemoteOptions(t,e){const n={method:"GET",path:e};return this._makeCall(n,t)}removeBundle(t,e){return this._makeCall(s.removeBundleInstance,t,e)}connectPlainChannel(t,e){return this._makeCall(s.postChannelAccount,t,e)}};class c{static _validateSchema(t,e){return Object.keys(t).forEach(t=>{if(!e[t])return!1}),!0}static checkSchema(t,e){let n=!0;if(!e)return!1;const r=c.getValueSchema(t);return e instanceof Object&&(n=c._validateSchema(r,e)),e instanceof Array&&e.forEach(t=>{n=n&&c._validateSchema(r,t)}),n}static getValueSchema(t){let e={},n={};t.hasOwnProperty("extract")&&(n=t.extract,e=Object.keys(t.extract)),t.editor&&t.editor.hasOwnProperty("extract")&&(n=t.editor.extract,e=Object.keys(t.editor.extract));let r={};return e.length<2?"":(e.forEach(t=>{r[n[t].replace("value.","")]=""}),t.hasOwnProperty("extract")&&t.multi&&(r=[r]),r)}}var l=c,h=n(23),f=n.n(h);var p=class{constructor(t){this.olisto=t}routeEvent(t){if(t.name.startsWith("channelaccount-")){const e=t.name.replace("channelaccount-","");this._handleCaEvents(e,t)}if(t.name.startsWith("unit-")){const e=t.name.replace("unit-","");this._handleUnitEvents(e,t)}}routeStateUpdate(t){console.log("State update!!!"),console.log(t)}_handleCaEvents(t,e){switch(t){case"deleted":this.olisto.channels[e.channel].reset();break;case"created":this.olisto.channels[e.channel].set(e.details.status,e.details);break;case"updated":this.olisto.channels[e.details.channelaccount.channel].set(e.details.channelaccount.status,e.details);break;case"status-changed":this.olisto.channels[e.channel].setStatus(e.details.newStatus);break;default:console.log("Event not found for channelaccount.")}}_handleUnitEvents(t,e){}};var d=class{constructor(t,e,n,r){const i={transportOptions:{polling:{extraHeaders:{authorization:"Bearer "+n}}}};this.olisto=t,this._socketRouter=new p(this.olisto),this._client=f()(e,i),this.initCallback()}open(){this._client&&!this.isConnected()&&this._client.open()}close(){this._client&&this.isConnected()&&this._client.close()}isConnected(){return!!this._client&&this._client.isConnected}initCallback(){this._client.on("connect",()=>{console.log("Connected!")}),this._client.on("disconnect",()=>{console.log("Connected!")}),this._client.on("event",t=>{this._socketRouter.routeEvent(t)}),this._client.on("stateUpdate",t=>{this._socketRouter.routeStateUpdate(t)})}};class g{static get DISCONNECTED(){return"disconnected"}constructor(t){this.name=t,this.status=void 0,this.details=void 0,this.channelaccount=void 0,this.listeners=[]}set(t,e){this.status=t,this.details=e,this.notify({channel:this.name,status:this.status,details:this.details})}setStatus(t){this.status=t,this.notify({channel:this.name,status:this.status})}setDetails(t){this.details=t,this.notify({channel:this.name,details:this.details})}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners=this.listeners.filter(e=>e!==t)}notify(t){this.listeners.forEach(e=>e(t))}reset(){this.details=void 0,this.setStatus(g.DISCONNECTED)}}var b=g,y=(n(49),n(50),n(51),n(52),n(53),n(54),n(55),n(56),n(57),function(){return!1}),m=function(){return!0},v={"@@functional/placeholder":!0};function w(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function C(t){return function e(n){return 0===arguments.length||w(n)?e:t.apply(this,arguments)}}function T(t){return function e(n,r){switch(arguments.length){case 0:return e;case 1:return w(n)?e:C((function(e){return t(n,e)}));default:return w(n)&&w(r)?e:w(n)?C((function(e){return t(e,r)})):w(r)?C((function(e){return t(n,e)})):t(n,r)}}}var k=T((function(t,e){return Number(t)+Number(e)}));function A(t,e){var n;e=e||[];var r=(t=t||[]).length,i=e.length,o=[];for(n=0;n<r;)o[o.length]=t[n],n+=1;for(n=0;n<i;)o[o.length]=e[n],n+=1;return o}function B(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,i){return e.apply(this,arguments)};case 5:return function(t,n,r,i,o){return e.apply(this,arguments)};case 6:return function(t,n,r,i,o,a){return e.apply(this,arguments)};case 7:return function(t,n,r,i,o,a,s){return e.apply(this,arguments)};case 8:return function(t,n,r,i,o,a,s,u){return e.apply(this,arguments)};case 9:return function(t,n,r,i,o,a,s,u,c){return e.apply(this,arguments)};case 10:return function(t,n,r,i,o,a,s,u,c,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function S(t,e,n){return function(){for(var r=[],i=0,o=t,a=0;a<e.length||i<arguments.length;){var s;a<e.length&&(!w(e[a])||i>=arguments.length)?s=e[a]:(s=arguments[i],i+=1),r[a]=s,w(s)||(o-=1),a+=1}return o<=0?n.apply(this,r):B(o,S(t,r,n))}}var _=T((function(t,e){return 1===t?C(e):B(t,S(t,[],e))})),E=C((function(t){return _(t.length,(function(){var e=0,n=arguments[0],r=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var t=n.apply(this,A(arguments,[e,r]));return e+=1,t},t.apply(this,i)}))}));function P(t){return function e(n,r,i){switch(arguments.length){case 0:return e;case 1:return w(n)?e:T((function(e,r){return t(n,e,r)}));case 2:return w(n)&&w(r)?e:w(n)?T((function(e,n){return t(e,r,n)})):w(r)?T((function(e,r){return t(n,e,r)})):C((function(e){return t(n,r,e)}));default:return w(n)&&w(r)&&w(i)?e:w(n)&&w(r)?T((function(e,n){return t(e,n,i)})):w(n)&&w(i)?T((function(e,n){return t(e,r,n)})):w(r)&&w(i)?T((function(e,r){return t(n,e,r)})):w(n)?C((function(e){return t(e,r,i)})):w(r)?C((function(e){return t(n,e,i)})):w(i)?C((function(e){return t(n,r,e)})):t(n,r,i)}}}var R=P((function(t,e,n){if(t>=n.length||t<-n.length)return n;var r=(t<0?n.length:0)+t,i=A(n);return i[r]=e(n[r]),i})),U=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function F(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function O(t,e,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),i=r.pop();if(!U(i)){for(var o=0;o<t.length;){if("function"==typeof i[t[o]])return i[t[o]].apply(i,r);o+=1}if(F(i)){var a=e.apply(null,r);return a(i)}}return n.apply(this,arguments)}}function D(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var x={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}},I=function(){function t(t,e){this.xf=e,this.f=t,this.all=!0}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=function(t){return this.all&&(t=this.xf["@@transducer/step"](t,!0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)||(this.all=!1,t=D(this.xf["@@transducer/step"](t,!1))),t},t}(),L=T(O(["all"],T((function(t,e){return new I(t,e)})),(function(t,e){for(var n=0;n<e.length;){if(!t(e[n]))return!1;n+=1}return!0}))),j=T((function(t,e){return e>t?e:t}));function N(t,e){for(var n=0,r=e.length,i=Array(r);n<r;)i[n]=t(e[n]),n+=1;return i}function M(t){return"[object String]"===Object.prototype.toString.call(t)}var z=C((function(t){return!!U(t)||!!t&&("object"==typeof t&&(!M(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),q=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();function G(t){return new q(t)}var V=T((function(t,e){return B(t.length,(function(){return t.apply(e,arguments)}))}));function W(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function Y(t,e,n,r){return t["@@transducer/result"](n[r](V(t["@@transducer/step"],t),e))}var H="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function K(t,e,n){if("function"==typeof t&&(t=G(t)),z(n))return function(t,e,n){for(var r=0,i=n.length;r<i;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return Y(t,e,n,"fantasy-land/reduce");if(null!=n[H])return W(t,e,n[H]());if("function"==typeof n.next)return W(t,e,n);if("function"==typeof n.reduce)return Y(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var J=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=x.result,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),X=T((function(t,e){return new J(t,e)}));function Z(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var Q=Object.prototype.toString,tt=function(){return"[object Arguments]"===Q.call(arguments)?function(t){return"[object Arguments]"===Q.call(t)}:function(t){return Z("callee",t)}}(),et=!{toString:null}.propertyIsEnumerable("toString"),nt=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],rt=function(){return arguments.propertyIsEnumerable("length")}(),it=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},ot="function"!=typeof Object.keys||rt?C((function(t){if(Object(t)!==t)return[];var e,n,r=[],i=rt&&tt(t);for(e in t)!Z(e,t)||i&&"length"===e||(r[r.length]=e);if(et)for(n=nt.length-1;n>=0;)Z(e=nt[n],t)&&!it(r,e)&&(r[r.length]=e),n-=1;return r})):C((function(t){return Object(t)!==t?[]:Object.keys(t)})),at=T(O(["fantasy-land/map","map"],X,(function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return _(e.length,(function(){return t.call(this,e.apply(this,arguments))}));case"[object Object]":return K((function(n,r){return n[r]=t(e[r]),n}),{},ot(e));default:return N(t,e)}}))),st=T((function(t,e){for(var n=e,r=0;r<t.length;){if(null==n)return;n=n[t[r]],r+=1}return n})),ut=T((function(t,e){return st([t],e)})),ct=T((function(t,e){return at(ut(t),e)})),lt=P(K),ht=C((function(t){return _(lt(j,0,ct("length",t)),(function(){for(var e=0,n=t.length;e<n;){if(!t[e].apply(this,arguments))return!1;e+=1}return!0}))})),ft=C((function(t){return function(){return t}})),pt=T((function(t,e){return t&&e})),dt=function(){function t(t,e){this.xf=e,this.f=t,this.any=!1}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.any=!0,t=D(this.xf["@@transducer/step"](t,!0))),t},t}(),gt=T(O(["any"],T((function(t,e){return new dt(t,e)})),(function(t,e){for(var n=0;n<e.length;){if(t(e[n]))return!0;n+=1}return!1}))),bt=C((function(t){return _(lt(j,0,ct("length",t)),(function(){for(var e=0,n=t.length;e<n;){if(t[e].apply(this,arguments))return!0;e+=1}return!1}))})),yt=T((function(t,e){return"function"==typeof e["fantasy-land/ap"]?e["fantasy-land/ap"](t):"function"==typeof t.ap?t.ap(e):"function"==typeof t?function(n){return t(n)(e(n))}:K((function(t,n){return A(t,at(n,e))}),[],t)}));function mt(t,e){for(var n=0,r=e.length-(t-1),i=new Array(r>=0?r:0);n<r;)i[n]=Array.prototype.slice.call(e,n,n+t),n+=1;return i}var vt=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.store(e),this.full?this.xf["@@transducer/step"](t,this.getCopy()):t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t.prototype.getCopy=function(){return A(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},t}(),wt=T(O([],T((function(t,e){return new vt(t,e)})),mt)),Ct=T((function(t,e){return A(e,[t])})),Tt=T((function(t,e){return t.apply(this,e)})),kt=C((function(t){for(var e=ot(t),n=e.length,r=[],i=0;i<n;)r[i]=t[e[i]],i+=1;return r}));function At(t,e){return ot(e).reduce((function(n,r){return n[r]=t(e[r]),n}),{})}var Bt=C((function t(e){return e=At((function(e){return"function"==typeof e?e:t(e)}),e),_(lt(j,0,ct("length",kt(e))),(function(){var t=arguments;return At((function(e){return Tt(e,t)}),e)}))})),St=T((function(t,e){return e(t)})),_t=P((function(t,e,n){var r=t(e),i=t(n);return r<i?-1:r>i?1:0})),Et=P((function(t,e,n){var r={};for(var i in n)r[i]=n[i];return r[t]=e,r})),Pt=Number.isInteger||function(t){return t<<0===t},Rt=C((function(t){return null==t})),Ut=P((function t(e,n,r){if(0===e.length)return n;var i=e[0];if(e.length>1){var o=!Rt(r)&&Z(i,r)?r[i]:Pt(e[1])?[]:{};n=t(Array.prototype.slice.call(e,1),n,o)}if(Pt(i)&&U(r)){var a=[].concat(r);return a[i]=n,a}return Et(i,n,r)})),Ft=T((function(t,e){switch(t){case 0:return function(){return e.call(this)};case 1:return function(t){return e.call(this,t)};case 2:return function(t,n){return e.call(this,t,n)};case 3:return function(t,n,r){return e.call(this,t,n,r)};case 4:return function(t,n,r,i){return e.call(this,t,n,r,i)};case 5:return function(t,n,r,i,o){return e.call(this,t,n,r,i,o)};case 6:return function(t,n,r,i,o,a){return e.call(this,t,n,r,i,o,a)};case 7:return function(t,n,r,i,o,a,s){return e.call(this,t,n,r,i,o,a,s)};case 8:return function(t,n,r,i,o,a,s,u){return e.call(this,t,n,r,i,o,a,s,u)};case 9:return function(t,n,r,i,o,a,s,u,c){return e.call(this,t,n,r,i,o,a,s,u,c)};case 10:return function(t,n,r,i,o,a,s,u,c,l){return e.call(this,t,n,r,i,o,a,s,u,c,l)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}})),Ot=C((function(t){return Ft(2,t)}));function Dt(t){return"[object Function]"===Object.prototype.toString.call(t)}var xt=T((function(t,e){var n=_(t,e);return _(t,(function(){return K(yt,at(n,arguments[0]),Array.prototype.slice.call(arguments,1))}))})),It=C((function(t){return xt(t.length,t)})),Lt=T((function(t,e){return Dt(t)?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:It(pt)(t,e)})),jt=C((function(t){return _(t.length,t)})),Nt=jt((function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))}));function Mt(t){return function e(n){for(var r,i,o,a=[],s=0,u=n.length;s<u;){if(z(n[s]))for(o=0,i=(r=t?e(n[s]):n[s]).length;o<i;)a[a.length]=r[o],o+=1;else a[a.length]=n[s];s+=1}return a}}var zt=function(t){var e=function(t){return{"@@transducer/init":x.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,n){var r=t["@@transducer/step"](e,n);return r["@@transducer/reduced"]?{"@@transducer/value":r,"@@transducer/reduced":!0}:r}}}(t);return{"@@transducer/init":x.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,n){return z(n)?K(e,t,n):K(e,t,[n])}}},qt=T(O(["fantasy-land/chain","chain"],T((function(t,e){return at(t,zt(e))})),(function(t,e){return"function"==typeof e?function(n){return t(e(n))(n)}:Mt(!1)(at(t,e))}))),Gt=P((function(t,e,n){if(t>e)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<t?t:n>e?e:n}));function Vt(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}var Wt=C((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function Yt(t,e,n,r){var i=function(i){for(var o=e.length,a=0;a<o;){if(t===e[a])return n[a];a+=1}for(var s in e[a+1]=t,n[a+1]=i,t)i[s]=r?Yt(t[s],e,n,!0):t[s];return i};switch(Wt(t)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(t.valueOf());case"RegExp":return Vt(t);default:return t}}var Ht=C((function(t){return null!=t&&"function"==typeof t.clone?t.clone():Yt(t,[],[],!0)})),Kt=C((function(t){return function(e,n){return t(e,n)?-1:t(n,e)?1:0}})),Jt=C((function(t){return!t})),$t=It(Jt);function Xt(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function Zt(t,e){return function(){var n=arguments.length;if(0===n)return e();var r=arguments[n-1];return U(r)||"function"!=typeof r[t]?e.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var Qt=P(Zt("slice",(function(t,e,n){return Array.prototype.slice.call(n,t,e)}))),te=C(Zt("tail",Qt(1,1/0)));function ee(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return B(arguments[0].length,lt(Xt,arguments[0],te(arguments)))}var ne=C((function(t){return M(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()}));function re(){if(0===arguments.length)throw new Error("compose requires at least one argument");return ee.apply(this,ne(arguments))}function ie(){if(0===arguments.length)throw new Error("composeK requires at least one argument");var t=Array.prototype.slice.call(arguments),e=t.pop();return re(re.apply(this,at(qt,t)),e)}function oe(t,e){return function(){var n=this;return t.apply(n,arguments).then((function(t){return e.call(n,t)}))}}function ae(){if(0===arguments.length)throw new Error("pipeP requires at least one argument");return B(arguments[0].length,lt(oe,arguments[0],te(arguments)))}function se(){if(0===arguments.length)throw new Error("composeP requires at least one argument");return ae.apply(this,ne(arguments))}var ue=T((function(t,e){var n=t<0?e.length+t:t;return M(e)?e.charAt(n):e[n]})),ce=ue(0);function le(t){return t}var he=C(le),fe=T((function(t,e){if(e.length<=0)return he;var n=ce(e),r=te(e);return B(n.length,(function(){return K((function(e,n){return t.call(this,n,e)}),n.apply(this,arguments),r)}))})),pe=T((function(t,e){return fe.apply(this,[t,ne(e)])}));function de(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function ge(t,e,n){for(var r=0,i=n.length;r<i;){if(t(e,n[r]))return!0;r+=1}return!1}var be="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};function ye(t,e,n,r){var i=de(t);function o(t,e){return me(t,e,n.slice(),r.slice())}return!ge((function(t,e){return!ge(o,e,t)}),de(e),i)}function me(t,e,n,r){if(be(t,e))return!0;var i=Wt(t);if(i!==Wt(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===function(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]}(t.constructor))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!be(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!be(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var o=n.length-1;o>=0;){if(n[o]===t)return r[o]===e;o-=1}switch(i){case"Map":return t.size===e.size&&ye(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case"Set":return t.size===e.size&&ye(t.values(),e.values(),n.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=ot(t);if(a.length!==ot(e).length)return!1;var s=n.concat([t]),u=r.concat([e]);for(o=a.length-1;o>=0;){var c=a[o];if(!Z(c,e)||!me(e[c],t[c],s,u))return!1;o-=1}return!0}var ve=T((function(t,e){return me(t,e,[],[])}));function we(t,e,n){var r,i;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(r=1/e;n<t.length;){if(0===(i=t[n])&&1/i===r)return n;n+=1}return-1}if(e!=e){for(;n<t.length;){if("number"==typeof(i=t[n])&&i!=i)return n;n+=1}return-1}return t.indexOf(e,n);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,n);case"object":if(null===e)return t.indexOf(e,n)}for(;n<t.length;){if(ve(t[n],e))return n;n+=1}return-1}function Ce(t,e){return we(e,t,0)>=0}function Te(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var ke=function(t){return(t<10?"0":"")+t},Ae="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+ke(t.getUTCMonth()+1)+"-"+ke(t.getUTCDate())+"T"+ke(t.getUTCHours())+":"+ke(t.getUTCMinutes())+":"+ke(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function Be(t){return function(){return!t.apply(this,arguments)}}function Se(t,e){for(var n=0,r=e.length,i=[];n<r;)t(e[n])&&(i[i.length]=e[n]),n+=1;return i}function _e(t){return"[object Object]"===Object.prototype.toString.call(t)}var Ee=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=x.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},t}(),Pe=T(O(["filter"],T((function(t,e){return new Ee(t,e)})),(function(t,e){return _e(e)?K((function(n,r){return t(e[r])&&(n[r]=e[r]),n}),{},ot(e)):Se(t,e)}))),Re=T((function(t,e){return Pe(Be(t),e)}));function Ue(t,e){var n=function(n){var r=e.concat([t]);return Ce(n,r)?"<Circular>":Ue(n,r)},r=function(t,e){return N((function(e){return Te(e)+": "+n(t[e])}),e.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+N(n,t).join(", ")+"))";case"[object Array]":return"["+N(n,t).concat(r(t,Re((function(t){return/^\d+$/.test(t)}),ot(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+n(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?n(NaN):Te(Ae(t)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+n(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object String]":return"object"==typeof t?"new String("+n(t.valueOf())+")":Te(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var i=t.toString();if("[object Object]"!==i)return i}return"{"+r(t,ot(t)).join(", ")+"}"}}var Fe=C((function(t){return Ue(t,[])})),Oe=T((function(t,e){if(U(t)){if(U(e))return t.concat(e);throw new TypeError(Fe(e)+" is not an array")}if(M(t)){if(M(e))return t+e;throw new TypeError(Fe(e)+" is not a string")}if(null!=t&&Dt(t["fantasy-land/concat"]))return t["fantasy-land/concat"](e);if(null!=t&&Dt(t.concat))return t.concat(e);throw new TypeError(Fe(t)+' does not have a method named "concat" or "fantasy-land/concat"')})),De=C((function(t){return B(lt(j,0,at((function(t){return t[0].length}),t)),(function(){for(var e=0;e<t.length;){if(t[e][0].apply(this,arguments))return t[e][1].apply(this,arguments);e+=1}}))})),xe=T((function(t,e){if(t>10)throw new Error("Constructor with greater than ten arguments");return 0===t?function(){return new e}:jt(Ft(t,(function(t,n,r,i,o,a,s,u,c,l){switch(arguments.length){case 1:return new e(t);case 2:return new e(t,n);case 3:return new e(t,n,r);case 4:return new e(t,n,r,i);case 5:return new e(t,n,r,i,o);case 6:return new e(t,n,r,i,o,a);case 7:return new e(t,n,r,i,o,a,s);case 8:return new e(t,n,r,i,o,a,s,u);case 9:return new e(t,n,r,i,o,a,s,u,c);case 10:return new e(t,n,r,i,o,a,s,u,c,l)}})))})),Ie=C((function(t){return xe(t.length,t)})),Le=T(Ce),je=T((function(t,e){return _(lt(j,0,ct("length",e)),(function(){var n=arguments,r=this;return t.apply(r,N((function(t){return t.apply(r,n)}),e))}))})),Ne=function(){function t(t,e,n,r){this.valueFn=t,this.valueAcc=e,this.keyFn=n,this.xf=r,this.inputs={}}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=function(t){var e;for(e in this.inputs)if(Z(e,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[e]))["@@transducer/reduced"]){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){var n=this.keyFn(e);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],e),t},t}(),Me=S(4,[],O([],S(4,[],(function(t,e,n,r){return new Ne(t,e,n,r)})),(function(t,e,n,r){return K((function(r,i){var o=n(i);return r[o]=t(Z(o,r)?r[o]:e,i),r}),{},r)}))),ze=Me((function(t,e){return t+1}),0),qe=k(-1),Ge=T((function(t,e){return null==e||e!=e?t:e})),Ve=P((function(t,e,n){var r=t(e),i=t(n);return r>i?-1:r<i?1:0}));function We(t,e,n){var r,i=typeof t;switch(i){case"string":case"number":return 0===t&&1/t==-1/0?!!n._items["-0"]||(e&&(n._items["-0"]=!0),!1):null!==n._nativeSet?e?(r=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===r):n._nativeSet.has(t):i in n._items?t in n._items[i]||(e&&(n._items[i][t]=!0),!1):(e&&(n._items[i]={},n._items[i][t]=!0),!1);case"boolean":if(i in n._items){var o=t?1:0;return!!n._items[i][o]||(e&&(n._items[i][o]=!0),!1)}return e&&(n._items[i]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?e?(r=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===r):n._nativeSet.has(t):i in n._items?!!Ce(t,n._items[i])||(e&&n._items[i].push(t),!1):(e&&(n._items[i]=[t]),!1);case"undefined":return!!n._items[i]||(e&&(n._items[i]=!0),!1);case"object":if(null===t)return!!n._items.null||(e&&(n._items.null=!0),!1);default:return(i=Object.prototype.toString.call(t))in n._items?!!Ce(t,n._items[i])||(e&&n._items[i].push(t),!1):(e&&(n._items[i]=[t]),!1)}}var Ye=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return t.prototype.add=function(t){return!We(t,!0,this)},t.prototype.has=function(t){return We(t,!1,this)},t}(),He=T((function(t,e){for(var n=[],r=0,i=t.length,o=e.length,a=new Ye,s=0;s<o;s+=1)a.add(e[s]);for(;r<i;)a.add(t[r])&&(n[n.length]=t[r]),r+=1;return n})),Ke=P((function(t,e,n){for(var r=[],i=0,o=e.length;i<o;)ge(t,e[i],n)||ge(t,e[i],r)||r.push(e[i]),i+=1;return r})),Je=T((function(t,e){var n={};for(var r in e)n[r]=e[r];return delete n[t],n})),$e=P((function(t,e,n){var r=Array.prototype.slice.call(n,0);return r.splice(t,e),r})),Xe=P((function(t,e,n){return R(t,ft(e),n)})),Ze=T((function t(e,n){switch(e.length){case 0:return n;case 1:return Pt(e[0])&&U(n)?$e(e[0],1,n):Je(e[0],n);default:var r=e[0],i=Array.prototype.slice.call(e,1);return null==n[r]?n:Pt(r)&&U(n)?Xe(r,t(i,n[r]),n):Et(r,t(i,n[r]),n)}})),Qe=T((function(t,e){return t/e})),tn=function(){function t(t,e){this.xf=e,this.n=t}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=x.result,t.prototype["@@transducer/step"]=function(t,e){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,e)},t}(),en=T(O(["drop"],T((function(t,e){return new tn(t,e)})),(function(t,e){return Qt(Math.max(0,t),1/0,e)}))),nn=function(){function t(t,e){this.xf=e,this.n=t,this.i=0}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=x.result,t.prototype["@@transducer/step"]=function(t,e){this.i+=1;var n=0===this.n?t:this.xf["@@transducer/step"](t,e);return this.n>=0&&this.i>=this.n?D(n):n},t}(),rn=T(O(["take"],T((function(t,e){return new nn(t,e)})),(function(t,e){return Qt(0,t<0?1/0:t,e)})));function on(t,e){return rn(t<e.length?e.length-t:0,e)}var an=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(e),t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t}(),sn=T(O([],T((function(t,e){return new an(t,e)})),on));function un(t,e){for(var n=e.length-1;n>=0&&t(e[n]);)n-=1;return Qt(0,n+1,e)}var cn=function(){function t(t,e){this.f=t,this.retained=[],this.xf=e}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=function(t){return this.retained=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.retain(t,e):this.flush(t,e)},t.prototype.flush=function(t,e){return t=K(this.xf["@@transducer/step"],t,this.retained),this.retained=[],this.xf["@@transducer/step"](t,e)},t.prototype.retain=function(t,e){return this.retained.push(e),t},t}(),ln=T(O([],T((function(t,e){return new cn(t,e)})),un)),hn=function(){function t(t,e){this.xf=e,this.pred=t,this.lastValue=void 0,this.seenFirstValue=!1}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=x.result,t.prototype["@@transducer/step"]=function(t,e){var n=!1;return this.seenFirstValue?this.pred(this.lastValue,e)&&(n=!0):this.seenFirstValue=!0,this.lastValue=e,n?t:this.xf["@@transducer/step"](t,e)},t}(),fn=T((function(t,e){return new hn(t,e)})),pn=ue(-1),dn=T(O([],fn,(function(t,e){var n=[],r=1,i=e.length;if(0!==i)for(n[0]=e[0];r<i;)t(pn(n),e[r])||(n[n.length]=e[r]),r+=1;return n}))),gn=C(O([],fn(ve),dn(ve))),bn=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=x.result,t.prototype["@@transducer/step"]=function(t,e){if(this.f){if(this.f(e))return t;this.f=null}return this.xf["@@transducer/step"](t,e)},t}(),yn=T(O(["dropWhile"],T((function(t,e){return new bn(t,e)})),(function(t,e){for(var n=0,r=e.length;n<r&&t(e[n]);)n+=1;return Qt(n,1/0,e)}))),mn=T((function(t,e){return t||e})),vn=T((function(t,e){return Dt(t)?function(){return t.apply(this,arguments)||e.apply(this,arguments)}:It(mn)(t,e)})),wn=C((function(t){return null!=t&&"function"==typeof t["fantasy-land/empty"]?t["fantasy-land/empty"]():null!=t&&null!=t.constructor&&"function"==typeof t.constructor["fantasy-land/empty"]?t.constructor["fantasy-land/empty"]():null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():U(t)?[]:M(t)?"":_e(t)?{}:tt(t)?function(){return arguments}():void 0})),Cn=T((function(t,e){return en(t>=0?e.length-t:0,e)})),Tn=T((function(t,e){return ve(Cn(t.length,e),t)})),kn=P((function(t,e,n){return ve(t(e),t(n))})),An=P((function(t,e,n){return ve(e[t],n[t])})),Bn=T((function t(e,n){var r,i,o,a=n instanceof Array?[]:{};for(i in n)o=typeof(r=e[i]),a[i]="function"===o?r(n[i]):r&&"object"===o?t(r,n[i]):n[i];return a})),Sn=function(){function t(t,e){this.xf=e,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.found=!0,t=D(this.xf["@@transducer/step"](t,e))),t},t}(),_n=T(O(["find"],T((function(t,e){return new Sn(t,e)})),(function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return e[n];n+=1}}))),En=function(){function t(t,e){this.xf=e,this.f=t,this.idx=-1,this.found=!1}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,-1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.idx+=1,this.f(e)&&(this.found=!0,t=D(this.xf["@@transducer/step"](t,this.idx))),t},t}(),Pn=T(O([],T((function(t,e){return new En(t,e)})),(function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return n;n+=1}return-1}))),Rn=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.last))},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.last=e),t},t}(),Un=T(O([],T((function(t,e){return new Rn(t,e)})),(function(t,e){for(var n=e.length-1;n>=0;){if(t(e[n]))return e[n];n-=1}}))),Fn=function(){function t(t,e){this.xf=e,this.f=t,this.idx=-1,this.lastIdx=-1}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.lastIdx))},t.prototype["@@transducer/step"]=function(t,e){return this.idx+=1,this.f(e)&&(this.lastIdx=this.idx),t},t}(),On=T(O([],T((function(t,e){return new Fn(t,e)})),(function(t,e){for(var n=e.length-1;n>=0;){if(t(e[n]))return n;n-=1}return-1}))),Dn=C(Mt(!0)),xn=C((function(t){return _(t.length,(function(e,n){var r=Array.prototype.slice.call(arguments,0);return r[0]=n,r[1]=e,t.apply(this,r)}))})),In=T(Zt("forEach",(function(t,e){for(var n=e.length,r=0;r<n;)t(e[r]),r+=1;return e}))),Ln=T((function(t,e){for(var n=ot(e),r=0;r<n.length;){var i=n[r];t(e[i],i,e),r+=1}return e})),jn=C((function(t){for(var e={},n=0;n<t.length;)e[t[n][0]]=t[n][1],n+=1;return e})),Nn=T(Zt("groupBy",Me((function(t,e){return null==t&&(t=[]),t.push(e),t}),null))),Mn=T((function(t,e){for(var n=[],r=0,i=e.length;r<i;){for(var o=r+1;o<i&&t(e[o-1],e[o]);)o+=1;n.push(e.slice(r,o)),r=o}return n})),zn=T((function(t,e){return t>e})),qn=T((function(t,e){return t>=e})),Gn=T((function(t,e){if(0===t.length)return!1;for(var n=e,r=0;r<t.length;){if(!Z(t[r],n))return!1;n=n[t[r]],r+=1}return!0})),Vn=T((function(t,e){return Gn([t],e)})),Wn=T((function(t,e){return t in e})),Yn=T(be),Hn=P((function(t,e,n){return _(Math.max(t.length,e.length,n.length),(function(){return t.apply(this,arguments)?e.apply(this,arguments):n.apply(this,arguments)}))})),Kn=k(1),Jn=T(Ce),$n=Me((function(t,e){return e}),null),Xn=T((function(t,e){return"function"!=typeof e.indexOf||U(e)?we(e,t,0):e.indexOf(t)})),Zn=Qt(0,-1),Qn=P((function(t,e,n){return Se((function(e){return ge(t,e,n)}),e)})),tr=P((function(t,e,n){t=t<n.length&&t>=0?t:n.length;var r=Array.prototype.slice.call(n,0);return r.splice(t,0,e),r})),er=P((function(t,e,n){return t=t<n.length&&t>=0?t:n.length,[].concat(Array.prototype.slice.call(n,0,t),e,Array.prototype.slice.call(n,t))})),nr=T((function(t,e){for(var n,r,i=new Ye,o=[],a=0;a<e.length;)n=t(r=e[a]),i.add(n)&&o.push(r),a+=1;return o})),rr=nr(he),ir=T((function(t,e){var n,r;return t.length>e.length?(n=t,r=e):(n=e,r=t),rr(Se(xn(Ce)(n),r))})),or=T(Zt("intersperse",(function(t,e){for(var n=[],r=0,i=e.length;r<i;)r===i-1?n.push(e[r]):n.push(e[r],t),r+=1;return n})));var ar="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,r=arguments.length;n<r;){var i=arguments[n];if(null!=i)for(var o in i)Z(o,i)&&(e[o]=i[o]);n+=1}return e},sr=T((function(t,e){var n={};return n[t]=e,n})),ur={"@@transducer/init":Array,"@@transducer/step":function(t,e){return t.push(e),t},"@@transducer/result":le},cr={"@@transducer/init":String,"@@transducer/step":function(t,e){return t+e},"@@transducer/result":le},lr={"@@transducer/init":Object,"@@transducer/step":function(t,e){return ar(t,z(e)?sr(e[0],e[1]):e)},"@@transducer/result":le};var hr=P((function(t,e,n){return F(t)?K(e(t),t["@@transducer/init"](),n):K(e(function(t){if(F(t))return t;if(z(t))return ur;if("string"==typeof t)return cr;if("object"==typeof t)return lr;throw new Error("Cannot create transformer for "+t)}(t)),Yt(t,[],[],!1),n)})),fr=C((function(t){for(var e=ot(t),n=e.length,r=0,i={};r<n;){var o=e[r],a=t[o],s=Z(a,i)?i[a]:i[a]=[];s[s.length]=o,r+=1}return i})),pr=C((function(t){for(var e=ot(t),n=e.length,r=0,i={};r<n;){var o=e[r];i[t[o]]=o,r+=1}return i})),dr=T((function(t,e){return _(t+1,(function(){var n=arguments[t];if(null!=n&&Dt(n[e]))return n[e].apply(n,Array.prototype.slice.call(arguments,0,t));throw new TypeError(Fe(n)+' does not have a method named "'+e+'"')}))})),gr=T((function(t,e){return null!=e&&e.constructor===t||e instanceof t})),br=C((function(t){return null!=t&&ve(t,wn(t))})),yr=dr(1,"join"),mr=C((function(t){return je((function(){return Array.prototype.slice.call(arguments,0)}),t)})),vr=C((function(t){var e,n=[];for(e in t)n[n.length]=e;return n})),wr=T((function(t,e){if("function"!=typeof e.lastIndexOf||U(e)){for(var n=e.length-1;n>=0;){if(ve(e[n],t))return n;n-=1}return-1}return e.lastIndexOf(t)}));function Cr(t){return"[object Number]"===Object.prototype.toString.call(t)}var Tr=C((function(t){return null!=t&&Cr(t.length)?t.length:NaN})),kr=T((function(t,e){return function(n){return function(r){return at((function(t){return e(t,r)}),n(t(r)))}}})),Ar=C((function(t){return kr(ue(t),Xe(t))})),Br=C((function(t){return kr(st(t),Ut(t))})),Sr=C((function(t){return kr(ut(t),Et(t))})),_r=T((function(t,e){return t<e})),Er=T((function(t,e){return t<=e})),Pr=P((function(t,e,n){for(var r=0,i=n.length,o=[],a=[e];r<i;)a=t(a[0],n[r]),o[r]=a[1],r+=1;return[a[0],o]})),Rr=P((function(t,e,n){for(var r=n.length-1,i=[],o=[e];r>=0;)o=t(o[0],n[r]),i[r]=o[1],r-=1;return[o[0],i]})),Ur=T((function(t,e){return K((function(n,r){return n[r]=t(e[r],r,e),n}),{},ot(e))})),Fr=T((function(t,e){return e.match(t)||[]})),Or=T((function(t,e){return Pt(t)?!Pt(e)||e<1?NaN:(t%e+e)%e:NaN})),Dr=P((function(t,e,n){return t(n)>t(e)?n:e})),xr=lt(k,0),Ir=C((function(t){return xr(t)/t.length})),Lr=C((function(t){var e=t.length;if(0===e)return NaN;var n=2-e%2,r=(e-n)/2;return Ir(Array.prototype.slice.call(t,0).sort((function(t,e){return t<e?-1:t>e?1:0})).slice(r,r+n))})),jr=T((function(t,e){var n={};return B(e.length,(function(){var r=t.apply(this,arguments);return Z(r,n)||(n[r]=e.apply(this,arguments)),n[r]}))})),Nr=T((function(t,e){return ar({},t,e)})),Mr=C((function(t){return ar.apply(null,[{}].concat(t))})),zr=P((function(t,e,n){var r,i={};for(r in e)Z(r,e)&&(i[r]=Z(r,n)?t(r,e[r],n[r]):e[r]);for(r in n)Z(r,n)&&!Z(r,i)&&(i[r]=n[r]);return i})),qr=P((function t(e,n,r){return zr((function(n,r,i){return _e(r)&&_e(i)?t(e,r,i):e(n,r,i)}),n,r)})),Gr=T((function(t,e){return qr((function(t,e,n){return e}),t,e)})),Vr=T((function(t,e){return qr((function(t,e,n){return n}),t,e)})),Wr=P((function(t,e,n){return qr((function(e,n,r){return t(n,r)}),e,n)})),Yr=T((function(t,e){return ar({},e,t)})),Hr=T((function(t,e){return ar({},t,e)})),Kr=P((function(t,e,n){return zr((function(e,n,r){return t(n,r)}),e,n)})),Jr=T((function(t,e){return e<t?e:t})),$r=P((function(t,e,n){return t(n)<t(e)?n:e})),Xr=T((function(t,e){return t%e})),Zr=P((function(t,e,n){var r=n.length,i=n.slice(),o=t<0?r+t:t,a=e<0?r+e:e,s=i.splice(o,1);return o<0||o>=n.length||a<0||a>=n.length?n:[].concat(i.slice(0,a)).concat(s).concat(i.slice(a,n.length))})),Qr=T((function(t,e){return t*e})),ti=C((function(t){return-t})),ei=T((function(t,e){return L(Be(t),e)})),ni=C((function(t){return _(t<0?1:t+1,(function(){return ue(t,arguments)}))})),ri=P((function(t,e,n){return t(e(n))}));function ii(t){return[t]}var oi=C(ii),ai=T((function(t,e){for(var n={},r={},i=0,o=t.length;i<o;)r[t[i]]=1,i+=1;for(var a in e)r.hasOwnProperty(a)||(n[a]=e[a]);return n})),si=C((function(t){var e,n=!1;return B(t.length,(function(){return n?e:(n=!0,e=t.apply(this,arguments))}))}));function ui(t,e){if(null==e||!Dt(e.then))throw new TypeError("`"+t+"` expected a Promise, received "+Ue(e,[]))}var ci=T((function(t,e){return ui("otherwise",e),e.then(null,t)})),li=function(t){return{value:t,map:function(e){return li(e(t))}}},hi=P((function(t,e,n){return t((function(t){return li(e(t))}))(n).value})),fi=T((function(t,e){return[t,e]}));function pi(t){return T((function(e,n){return B(Math.max(0,e.length-n.length),(function(){return e.apply(this,t(n,arguments))}))}))}var di=pi(A),gi=pi(xn(A)),bi=mr([Pe,Re]),yi=P((function(t,e,n){return ve(st(t,n),e)})),mi=P((function(t,e,n){return Ge(t,st(e,n))})),vi=P((function(t,e,n){return e.length>0&&t(st(e,n))})),wi=T((function(t,e){for(var n={},r=0;r<t.length;)t[r]in e&&(n[t[r]]=e[t[r]]),r+=1;return n})),Ci=T((function(t,e){for(var n={},r=0,i=t.length;r<i;){var o=t[r];n[o]=e[o],r+=1}return n})),Ti=T((function(t,e){var n={};for(var r in e)t(e[r],r,e)&&(n[r]=e[r]);return n}));function ki(){if(0===arguments.length)throw new Error("pipeK requires at least one argument");return ie.apply(this,ne(arguments))}var Ai=T((function(t,e){return A([t],e)})),Bi=lt(Qr,1),Si=T((function(t,e){return _(e.length,(function(){for(var n=[],r=0;r<e.length;)n.push(e[r].call(this,arguments[r])),r+=1;return t.apply(this,n.concat(Array.prototype.slice.call(arguments,e.length)))}))})),_i=Si(N,[Ci,he]),Ei=P((function(t,e,n){return ve(e,n[t])})),Pi=P((function(t,e,n){return gr(t,n[e])})),Ri=P((function(t,e,n){return mi(t,[e],n)})),Ui=P((function(t,e,n){return t(n[e])})),Fi=T((function(t,e){for(var n=t.length,r=[],i=0;i<n;)r[i]=e[t[i]],i+=1;return r})),Oi=T((function(t,e){if(!Cr(t)||!Cr(e))throw new TypeError("Both arguments to range must be numbers");for(var n=[],r=t;r<e;)n.push(r),r+=1;return n})),Di=P((function(t,e,n){for(var r=n.length-1;r>=0;)e=t(n[r],e),r-=1;return e})),xi=S(4,[],(function(t,e,n,r){return K((function(n,r){return t(n,r)?e(n,r):D(n)}),n,r)})),Ii=C(D),Li=T((function(t,e){var n,r=Number(e),i=0;if(r<0||isNaN(r))throw new RangeError("n must be a non-negative number");for(n=new Array(r);i<r;)n[i]=t(i),i+=1;return n})),ji=T((function(t,e){return Li(ft(t),e)})),Ni=P((function(t,e,n){return n.replace(t,e)})),Mi=P((function(t,e,n){for(var r=0,i=n.length,o=[e];r<i;)e=t(e,n[r]),o[r+1]=e,r+=1;return o})),zi=T((function(t,e){return"function"==typeof e.sequence?e.sequence(t):Di((function(t,e){return yt(at(Ai,t),e)}),t([]),e)})),qi=P((function(t,e,n){return hi(t,ft(e),n)})),Gi=T((function(t,e){return Array.prototype.slice.call(e,0).sort(t)})),Vi=T((function(t,e){return Array.prototype.slice.call(e,0).sort((function(e,n){var r=t(e),i=t(n);return r<i?-1:r>i?1:0}))})),Wi=T((function(t,e){return Array.prototype.slice.call(e,0).sort((function(e,n){for(var r=0,i=0;0===r&&i<t.length;)r=t[i](e,n),i+=1;return r}))})),Yi=dr(1,"split"),Hi=T((function(t,e){return[Qt(0,t,e),Qt(t,Tr(e),e)]})),Ki=T((function(t,e){if(t<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var n=[],r=0;r<e.length;)n.push(Qt(r,r+=t,e));return n})),Ji=T((function(t,e){for(var n=0,r=e.length,i=[];n<r&&!t(e[n]);)i.push(e[n]),n+=1;return[i,Array.prototype.slice.call(e,n)]})),$i=T((function(t,e){return ve(rn(t.length,e),t)})),Xi=T((function(t,e){return Number(t)-Number(e)})),Zi=T((function(t,e){return Oe(He(t,e),He(e,t))})),Qi=P((function(t,e,n){return Oe(Ke(t,e,n),Ke(t,n,e))})),to=T((function(t,e){for(var n=e.length-1;n>=0&&t(e[n]);)n-=1;return Qt(n+1,1/0,e)})),eo=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=x.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):D(t)},t}(),no=T(O(["takeWhile"],T((function(t,e){return new eo(t,e)})),(function(t,e){for(var n=0,r=e.length;n<r&&t(e[n]);)n+=1;return Qt(0,n,e)}))),ro=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=x.init,t.prototype["@@transducer/result"]=x.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e),this.xf["@@transducer/step"](t,e)},t}(),io=T(O([],T((function(t,e){return new ro(t,e)})),(function(t,e){return t(e),e})));var oo=T((function(t,e){if(n=t,"[object RegExp]"!==Object.prototype.toString.call(n))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+Fe(t));var n;return Vt(t).test(e)})),ao=T((function(t,e){return ui("then",e),e.then(t)})),so=dr(0,"toLowerCase"),uo=C((function(t){var e=[];for(var n in t)Z(n,t)&&(e[e.length]=[n,t[n]]);return e})),co=C((function(t){var e=[];for(var n in t)e[e.length]=[n,t[n]];return e})),lo=dr(0,"toUpperCase"),ho=_(4,(function(t,e,n,r){return K(t("function"==typeof e?G(e):e),n,r)})),fo=C((function(t){for(var e=0,n=[];e<t.length;){for(var r=t[e],i=0;i<r.length;)void 0===n[i]&&(n[i]=[]),n[i].push(r[i]),i+=1;e+=1}return n})),po=P((function(t,e,n){return"function"==typeof n["fantasy-land/traverse"]?n["fantasy-land/traverse"](e,t):zi(t,at(e,n))})),go="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",bo=C("function"==typeof String.prototype.trim&&!go.trim()&&"​".trim()?function(t){return t.trim()}:function(t){var e=new RegExp("^["+go+"]["+go+"]*"),n=new RegExp("["+go+"]["+go+"]*$");return t.replace(e,"").replace(n,"")}),yo=T((function(t,e){return B(t.length,(function(){try{return t.apply(this,arguments)}catch(t){return e.apply(this,A([t],arguments))}}))})),mo=C((function(t){return function(){return t(Array.prototype.slice.call(arguments,0))}})),vo=C((function(t){return Ft(1,t)})),wo=T((function(t,e){return _(t,(function(){for(var n,r=1,i=e,o=0;r<=t&&"function"==typeof i;)n=r===t?arguments.length:o+i.length,i=i.apply(this,Array.prototype.slice.call(arguments,o,n)),r+=1,o=n;return i}))})),Co=T((function(t,e){for(var n=t(e),r=[];n&&n.length;)r[r.length]=n[0],n=t(n[1]);return r})),To=T(re(rr,A)),ko=T((function(t,e){for(var n,r=0,i=e.length,o=[];r<i;)ge(t,n=e[r],o)||(o[o.length]=n),r+=1;return o})),Ao=P((function(t,e,n){return ko(t,A(e,n))})),Bo=P((function(t,e,n){return t(n)?n:e(n)})),So=qt(le),_o=P((function(t,e,n){for(var r=n;!t(r);)r=e(r);return r})),Eo=C((function(t){var e,n=[];for(e in t)n[n.length]=t[e];return n})),Po=function(t){return{value:t,"fantasy-land/map":function(){return this}}},Ro=T((function(t,e){return t(Po)(e).value})),Uo=P((function(t,e,n){return t(n)?e(n):n})),Fo=T((function(t,e){for(var n in t)if(Z(n,t)&&!t[n](e[n]))return!1;return!0})),Oo=T((function(t,e){return Fo(at(ve,t),e)})),Do=T((function(t,e){return Re(xn(Ce)(t),e)})),xo=T((function(t,e){for(var n,r=0,i=t.length,o=e.length,a=[];r<i;){for(n=0;n<o;)a[a.length]=[t[r],e[n]],n+=1;r+=1}return a})),Io=T((function(t,e){for(var n=[],r=0,i=Math.min(t.length,e.length);r<i;)n[r]=[t[r],e[r]],r+=1;return n})),Lo=T((function(t,e){for(var n=0,r=Math.min(t.length,e.length),i={};n<r;)i[t[n]]=e[n],n+=1;return i})),jo=P((function(t,e,n){for(var r=[],i=0,o=Math.min(e.length,n.length);i<o;)r[i]=t(e[i],n[i]),i+=1;return r})),No=C((function(t){return _(t.length,(function(){var e=arguments;return function(){return t.apply(this,e)}}))}));window.R=r;var Mo=class{constructor(){Object.assign(this,GlobalKeysBehavior),Object.assign(this,ChannelBehavior),Object.assign(this,TriggBehavior),CondactionBehavior.forEach(t=>{Object.assign(this,t)}),EditorItemBehavior.forEach(t=>{Object.assign(this,t)}),TriggiLocalizedTexts={en:{}}}createChannel(t,e){return this.newChannel(t,e)}createTrigg(t,e){return this.newTrigg(t,e)}loadValuesFromTrigg(t,e){var n=this;return[t.conditions||[],t.ifActions||[],t.elActions||[]].forEach((function(t){t.forEach((function(t){t.editorItems.forEach((function(t){if(e.inputsMap[t.value])e.inputsMap[t.value].definition=t.definition,e.inputsMap[t.value].readable=t.readable,n._copyCustomProperties(t.definition,e.inputsMap[t.value].definition);else{if(e.knownValues.find((function(e){return ve(e,t.value)})))return;var r={type:"fixed",label:"Fixed - "+(t.readable||t.value),readable:t.readable||t.value,definition:t.definition,value:t.value};n._copyCustomProperties(t.definition,r),e.valueOptions.unshift(r),e.knownValues.push(t.value)}}))}))})),e}_copyCustomProperties(t,e){var n;return["options","remoteOptionsSource","min","max","unit","multi","combineWith","transformers","operators","valueName","filterProps","displayProps","sourcePath"].forEach((function(e){null!=t[e]&&(n||(n={}),n[e]=t[e])})),n&&(e.properties=n),e}};const zo=["_id","amountOfTriggsInBundle","paramterWizardFlow","featuredPosition","friendlyName","featured","hideTriggs","isBundle","publicId","triggs","requiredArgumentsString","wizardPages"];class qo{static get API_URL(){return"https://connect-kpn.olisto.com"}constructor(t,e){if(!t)throw new Error(a.string("error_accesstoken"));e&&console.warn("Initializing with partner key. Don't use this in production as you won't be able to secure your key!"),this.partnerKey=e,this.appId=t,this._debug=!1,this._accessToken="",this._http=new u(qo.API_URL),this.channels={},this.locale="nl-NL",this.country="NL",this.elements=new Mo}static init(t,e){return this._defaultApi=new this(t,e),this._defaultApi}static getDefaultApi(){return this._defaultApi}setDebug(t){this._debug=t}setCountry(t){this.country=t}setLocale(t){this.locale=t}loginWith(t){const e=this;return new Promise((n,r)=>{if("kpn"!==t)return r(new Error("unknown_provider"));var i=Number((""+Math.random()).split(".").pop()).toString(36);window.open(qo.API_URL+"/kpn/auth?session="+i,"_blank");var o=setInterval(()=>{$.ajax({url:qo.API_URL+"/kpn/loginSession/"+i+"?response_type=bearer",method:"GET"}).then(t=>(clearInterval(o),t.token?(e._accessToken=t.token,e._socket=new d(e,qo.API_URL,e._accessToken,userId),n({token:t.token})):r(new Error("login_failed")))).catch(t=>{if(404!==t.status)return clearInterval(o),r(new Error("login_failed"))})},1e3)})}getUserContext(t){const e=this;e.userId=t;const n={body:{partnerKey:e.partnerKey,userId:t}};return new Promise((r,i)=>{e._http.registerUser(n).then(n=>{e._accessToken=n.token,e._socket=new d(e,qo.API_URL,e._accessToken,t),r(n)}).catch(i)})}getBundleTemplates(){const t=this,e={query:{showOnlyPartner:1}};return new Promise((n,r)=>{t._getChannelsDescription().then(n=>{var r={};return Object.keys(n).forEach((function(e){r[e]=t.elements.createChannel(n[e],"production"),r[e].isConnected=n[e].channelAccounts.length>0})),t.channelsById=r,t._http.partnerBundles(t._accessToken,e)}).then(e=>{t.bundles=e,e.forEach(e=>{var n={inputsMap:{},knownValues:[],constructedTriggs:[],valueOptions:[],condactionQuestions:[]};this._loadTriggs(e,n),this._addGetInstance(e),this._setRequirementsConnection(e,t.channelsById),e.pages=[],e.wizardPages.forEach((function(r,i,o){e.pages[i]={channelIcon:o[i].channelIcon,inputs:[]},o[i].wizardEditors.forEach((function(r,o,a){const s=e.pages[i].inputs;if("unit"===a[o].type){const e={query:{channel:a[o].channel,type:a[o].unitType}};a[o].getUnits=function(){return new Promise((n,r)=>{t._http.getUnits(t._accessToken,e).then(t=>{n(t)}).catch(r)})},s[o]=a[o]}else{var u=Object.keys(a[o].extract).find((function(t){return"value"===a[o].extract[t]}));if(!u)return;var c={id:u,editor:a[o],value:"[["+u+"]]"};n.condactionQuestions.push(c),n.inputsMap[c.value]=c,(c.editor.properties.remoteOptionsSource||c.editor.properties.options)&&t._setGetOptions(c.editor),c.hasOwnProperty("editor")&&(Object.assign(c,c.editor),delete c.editor),s[o]=c}}))})),n.constructedTriggs.forEach((function(e){t.elements.loadValuesFromTrigg(e,n)})),t._removeBundleFields(e)}),n(e)}).catch(r)})}_setRequirementsConnection(t,e){Object.keys(t.requirements).forEach(n=>{t.requirements[n].isConnected=e[n].isConnected,t.requirements[n].connectMethod=e[n].connectMethod})}_addGetInstance(t){const e=this;t.getInstance=function(){return new Promise((n,r)=>{const i=window.R.clone(t),o=i.requirements;e._connectInternalChannels(o).then(t=>(i.pages.forEach(t=>{t.inputs.forEach(t=>{t.getValueSchema=function(){return l.getValueSchema(t)},t.setValue=function(e){let n=l.getValueSchema(t,e);return n&&(t.value=e),n}})}),i.save=function(t){const n={wizardOutput:[]};return i.pages.forEach(t=>{const e=[];t.inputs.forEach(t=>{e.push(t.value)}),n.wizardOutput.push(e)}),n.bundleId=i.id,n.name=i.instanceName=t,e.instantiateBundle(n)},e.bundleToInstantiate=i,n(i)))})}}_connectInternalChannels(t){const e=this,n=[];return Object.keys(t).forEach(e=>{t[e].isConnected||"plain"!==t[e].connectMethod||n.push(e)}),Promise.all(n.map(t=>e.connectInternalChannel(t,(function(t){console.log("Internal channel "+t.channel+" status "+t.status)}))))}_loadTriggs(t,e){const n=this;for(var r in t.triggs){t.triggs[r]._id=t.id+"-"+r,t.triggs[r].browse=!0;var i=n.elements.createTrigg(t.triggs[r],n.channelsById);e.constructedTriggs.push(i)}}_setGetOptions(t){const e=this,n=[];t.properties.options&&n.push(t.properties.options),t.getOptions=function(){return new Promise((r,i)=>{e.instantiateBundle(e._accessToken,t.properties.remoteOptionsSource).then(t=>{const e=[t];t&&t.length>0&&e.push(t)}).catch(r(n)),r([].concat(...n))})},delete t.properties.options}_removeBundleFields(t){zo.forEach(e=>{delete t[e]})}_addQuestionToEditorData(t){t.condactionQuestions.forEach((function(e){e.editor.default&&t.valueOptions.unshift({type:"fixed",label:"Fixed - "+e.editor.default,definition:e.definition,value:e.editor.default})})),t.condactionQuestions.forEach((function(e){t.valueOptions.push({label:"Ask - "+e.editor.label.en,type:"input",value:"[["+e.id+"]]",input:e})}))}getUserBundles(){const t=this;return new Promise((e,n)=>{t._http.userBundles(t._accessToken).then(t=>{e(t)}).catch(n)})}getUserTrigg(t){const e=this,n={params:{triggId:t}};return new Promise((t,r)=>{e._http.userTrigg(e._accessToken,n).then(e=>{t(e)}).catch(r)})}openInitChannel(t,e){this._addChannelListener(t,e);const n=qo.API_URL+`/api/v1/accessControl/proxy/channel/${t}/ops/signin?bearerToken=${this._accessToken}`;window.open(n,"Olisto","width=520,height=780,top="+(screen.height-400)+",left="+(screen.width-840))}connectInternalChannel(t,e){const n=this,r={body:{channel:t}};return n._addChannelListener(t,e),new Promise((t,e)=>{n._http.connectPlainChannel(n._accessToken,r).then(e=>{t(e)}).catch(e)})}_addChannelListener(t,e){const n=this;this.channels[t]||(this.channels[t]=new b(t));this.channels[t].addListener((function(t){t&&"connected"==t.status&&(n.bundles&&n.bundles.length>0&&n.bundles.forEach(e=>{e.requirements[t.channel]&&(e.requirements[t.channel].isConnected=!0)}),n.bundleToInstantiate&&n.bundleToInstantiate.requirements[t.channel]&&(n.bundleToInstantiate.requirements[t.channel].isConnected=!0)),e(t)}))}_getChannelsDescription(){const t=this,e={query:{platform:"browser",version:"999.999.99999",country:this.country,locale:this.locale,includeConnections:1}};return new Promise((n,r)=>{t._http.getChannelsDescription(t._accessToken,e).then(t=>{n(t)}).catch(r)})}populateBundleInputs(t){const e=this,n=[];return t.wizardPages.forEach((function(t){if("unit"===t.wizardEditors[0].type){const r={query:{channel:t.wizardEditors[0].channel,type:t.wizardEditors[0].unitType}};n.push(new Promise((n,i)=>{e._http.getUnits(e._accessToken,r).then(e=>{t.wizardEditors[0].unitsList=e,n()}).catch(i)}))}})),Promise.all(n)}instantiateBundle(t){const e=this,n={body:t};return new Promise((t,r)=>{e._http.createBundleInstance(e._accessToken,n).then(e=>{t(e)}).catch(r)})}removeBundle(t){const e=this,n={params:{bundleId:t}};return new Promise((t,r)=>{e._http.removeBundle(e._accessToken,n).then(e=>{t(e)}).catch(r)})}}var Go=qo;n.d(e,"init",(function(){return Vo}));const Vo=function(t,e,n){return Go.init(t,e,n)}}]);